{"version":3,"sources":["ui/utils/createRemoteActions.js","ui/utils/toBoolean.js","ui/utils/uuid.js","ui/pages/details-event/mock.js","ui/pages/details-event/eventDetailsActions.js","utils/uuid.js","servers.js","config.js","ui/pages/event/Event.js","ui/pages/event/index.js","ui/pages/home/filters/filtersActions.js","store/index.js","ui/pages/event/eventActions.js","ui/pages/home/homeActions.js","ui/pages/home/event/Event.js","ui/components/search-bar/SearchBar.js","ui/pages/home/filters/index.js","ui/pages/home/index.js","ui/enhancers/lazyLoad.js","ui/routes/index.js","ui/app.js","index.js","ui/pages/home/filters/reducer.js","ui/pages/home/reducer.js","ui/pages/event/eventReducer.js","ui/pages/details-event/eventDetailsReducer.js","ui/rootReducer.js","store/configureStore.prod.js","ui/utils/formatDate.js","ui/pages/details-event/eventDetails.js","ui/pages/details-event/index.js"],"names":["createAction","action","_ref","Object","D_wt_projects_otp_events_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","concat","createRemoteActions","actions","prototype","toString","call","Array","isArray","Error","reduce","f","s","reducedAction","assign","__webpack_require__","d","__webpack_exports__","toBoolean","lodash__WEBPACK_IMPORTED_MODULE_0__","str","isBoolean","lut","i","events","id","cur_user_id","user_role","title","status_name","status_id","long_desc","img","max_person_count","start_date","finish_date","cost","city_id","city","subject_id","address","phone_number","email","event_admin_id","event_admin_fullname","event_admin_position","event_admin_avatar","like_count","collaborators","fullname","is_confirm","avatar","comments","user_id","user_fullname","date","message","cities","name","subjects","constants","objectSpread","EVENT_DETAILS_SET_STATUS","EVENT_DETAILS_LOADING","loading","isLoading","type","payload","getEventDetails","dispatch","path","url","createPath","server_name","action_name","fetch","then","resp","json","data","error","console","log","GET_EVENT_DETAILS_INITIAL_DATA_SUCCESS","catch","e","resolveEvent","getState","eventDetails","method","body","JSON","stringify","completeEvent","rejectEvent","respondParticipiant","RESPOND_EVENT_DETAILS_PARTICIPANT_SUCCESS","refuseParticipiant","REFUSE_EVENT_DETAILS_PARTICIPANT_SUCCESS","setParticipiantStatus","userId","isConfirm","accept","SET_EVENT_DETAILS_PARTICIPANT_STATUS_SUCCESS","removeComment","eventId","commentId","comment_id","REMOVE_EVENT_DETAILS_COMMENT_SUCCESS","addComment","ADD_EVENT_DETAILS_COMMENT_SUCCESS","editComment","EDIT_EVENT_DETAILS_COMMENT_SUCCESS","servers","Server","srv","_this","this","d0","Math","random","d1","d2","d3","uuid","addActions","_actions","getId","getName","getActions","wtCustomBaseUrl","TypeError","server","push","addServer","getServerId","serverName","actionName","_servers","filter","length","map","inputObj","serverId","keys","k","join","setDefaultLocale","Event","props","classCallCheck","possibleConstructorReturn","getPrototypeOf","state","isShowWarning","fileName","img_name","formRef","React","createRef","handleSave","bind","assertThisInitialized","onChangeRawStartDate","onChangeRawFinishDate","handleChangeFile","dateFormat","_this$props","short_desc","trim","match","getData","params","permalink","target","value","lastIndex","lastIndexOf","fname","substring","onChangeFileName","_isFormFilled","onSaveEvent","document","getElementById","setState","moment","isValid","onChangeStartDate","onChangeFinishDate","_this$props2","ui","history","onChangeTitle","onChangeDescription","onChangeShortDescription","onChangeCity","onChangeAddress","onChangeSubject","onChangeMaxPersons","onChangeCost","prevFileId","react_default","a","createElement","Dimmer","active","inverted","Loader","className","Button","size","primary","icon","labelPosition","onClick","goBack","Icon","Message","attached","header","content","Form","encType","Field","readOnly","required","Label","Input","placeholder","onChange","TextArea","style","minHeight","Group","inline","es","locale","ru","selected","showTimeSelect","timeIntervals","timeFormat","timeCaption","placeholderText","onChangeRaw","disabledKeyboardNavigation","widths","Dropdown","upward","search","selection","options","fluid","warning","Component","withRouter","connect","event","ownProps","bindActionCreators","event_Event","changeStatus","changeSearch","changePage","changeSubject","changeCity","clearFields","_config__WEBPACK_IMPORTED_MODULE_0__","_homeActions__WEBPACK_IMPORTED_MODULE_1__","CHANGE_SEARCH","CHANGE_PAGE","CHANGE_STATUS","CHANGE_SUBJECT","CHANGE_CITY","CLEAR_FIELDS","homeConstants","INITIAL_LOADING","filters","home","status","page","subject","GET_INITIAL_DATA_SUCCESS","module","exports","require","D_wt_projects_otp_events_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","NEW_EVENT_CHANGE_TITLE","NEW_EVENT_CHANGE_DESCRIPTION","NEW_EVENT_CHANGE_SHORT_DESCRIPTION","NEW_EVENT_CHANGE_START_DATE","NEW_EVENT_CHANGE_FINISH_DATE","NEW_EVENT_CHANGE_CITY","NEW_EVENT_CHANGE_SUBJECT","NEW_EVENT_CHANGE_MAX_PERSONS","NEW_EVENT_CHANGE_COST","NEW_EVENT_CHANGE_ADDRESS","NEW_EVENT_LOADING","NEW_EVENT_CHANGE_FILE_NAME","parseInt","isNaN","saveEvent","form","FormData","GET_EVENT_CREATE_SUCCESS","getInitialData","is_liked","handleLike","preventDefault","self","count","cur_person_count","comments_count","_this$state","isLikedClass","cs","mdl-button--colored","react_router_dom","defineProperty","to","background","marginBottom","Date","toLocaleDateString","year","month","day","hour","minute","Popup","trigger","backgroundImage","paddingRight","position","right","color","display","alignItems","marginRight","SearchBar","handleChange","handleSearch","nextProps","keyCode","onSearch","classNameInput","onKeyDown","children","_state$home","user","statuses","_statuses","roles","indexOf","onChangeStatus","onChangeSearch","onChangePage","activePage","pagesCount","Grid","columns","Column","width","search_bar_SearchBar","floated","Pagination","firstItem","lastItem","prevItem","nextItem","totalPages","onPageChange","Home","loadData","len","home_filters","key","Segment","Header","Inline","positive","clear","LazyLoad","load","comp","forceUpdate","lazyLoad","dynamicImport","lazyLoad_LazyLoad","routes","component","exact","Promise","resolve","reject","default","App","route","react_router","store","configureStore","ReactDOM","render","app","initialState","reducer","combineReducers","arguments","undefined","_action$payload","c","text","toConsumableArray","status_list","homeConstatns","uiReducer","commentsReducer","collaboratorsReducer","homeReducer","admins","createStore","reducers","applyMiddleware","thunkMiddleware","formateDate","EventDetails","comment","isEditCommentNow","handleChangeNewComment","handleSubmitNewComment","handleChangeComment","handleSubmitComment","handeShowEditCommentForm","handleCancelEditComment","_this$setState2","_ref2","_this$setState5","submitComment","submitNewComment","_this$props3","onResolveEvent","onRejectEvent","onCompleteEvent","buttons","isAdmin","as","floating","Fragment","Menu","Item","loadEvent","_this2","_this$props4","_this$props5","acceptParticipiantStatus","rejectParticipiantStatus","onRespondParticipiant","onRefuseParticipiant","styles","_adminButtons","formatDate","basic","Row","dividing","Card","Content","Image","src","Meta","Description","dangerouslySetInnerHTML","__html","extra","find","List","divided","verticalAlign","index","Or","with","Comment","reply","onSubmit","secondary","Avatar","Author","href","Metadata","Text","Actions","Action","disabled"],"mappings":"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","file":"static/js/main.65910743.chunk.js","sourcesContent":["const createAction = action => {\r\n\treturn {\r\n\t\t[action]: action,\r\n\t\t[`${action}_SUCCESS`]: `${action}_SUCCESS`,\r\n\t\t[`${action}_FAILURE`]: `${action}_FAILURE`\r\n\t}\r\n}\r\n\r\nexport default function createRemoteActions(actions){\r\n\tif (Object.prototype.toString.call(actions) === '[object String]') {\r\n\t\tactions = [actions];\r\n\t}\r\n\r\n\tif (!Array.isArray(actions)){\r\n\t\tthrow new Error('Unknown input arguments!');\r\n\t}\r\n\r\n\treturn actions.reduce((f,s) => {\r\n\t\tconst reducedAction = createAction(s);\r\n\t\treturn Object.assign(f, reducedAction);\r\n\t}, {});\r\n}","import { isBoolean } from 'lodash';\r\n\r\nexport default function toBoolean(str){\r\n\tif (isBoolean(str)) return str;\r\n\r\n\tif (str === 'true') return true;\r\n\telse if (str === 'false') return false;\r\n\r\n\treturn false;\r\n}","const lut = [];\r\n\r\nfor (let i = 0; i < 256; i++) {\r\n\tlut[i] = (i < 16 ? '0' : '') + (i).toString(16);\r\n}\r\n\r\nexport default function uuid(){\r\n\tconst d0 = Math.random() * 0xffffffff | 0;\r\n\tconst d1 = Math.random() * 0xffffffff | 0;\r\n\tconst d2 = Math.random() * 0xffffffff | 0;\r\n\tconst d3 = Math.random() * 0xffffffff | 0;\r\n\t\r\n\treturn lut[d0 & 0xff] + lut[d0 >> 8 & 0xff] + lut[d0 >> 16 & 0xff] + lut[d0 >> 24 & 0xff] + '-' +\r\n\t\tlut[d1 & 0xff] + lut[d1 >> 8 & 0xff] + '-' + lut[d1 >> 16 & 0x0f | 0x40] + lut[d1 >> 24 & 0xff] + '-' +\r\n\t\tlut[d2 & 0x3f | 0x80] + lut[d2 >> 8 & 0xff] + '-' + lut[d2 >> 16 & 0xff] + lut[d2 >> 24 & 0xff] +\r\n\t\tlut[d3 & 0xff] + lut[d3 >> 8 & 0xff] + lut[d3 >> 16 & 0xff] + lut[d3 >> 24 & 0xff];\r\n}","import { find, findIndex } from 'lodash';\r\nimport uuid from '../../utils/uuid';\r\n\r\n\r\nconst events = [\r\n\t{\r\n\t\t\"id\": \"6668962976716051403\",\r\n\t\t\"cur_user_id\": \"6148914691236517121\",\r\n\t\t\"user_role\": \"event_admin\",\r\n\t\t\"title\": \"Речная прогулка по Москве реке\",\r\n\t\t\"status_name\": \"Плнируется\",\r\n\t\t\"status_id\": \"plan\",\r\n\t\t\"long_desc\": \"Круиз через весь&nbsp;центр Москвы на комфортабельном, двухпалубном теплаходе &quot;МАЭСТРО&quot;. В программе мероприятия шикарный ужин, музыкальная программа и завораживающий вид&nbsp; с борта теплохода на достопримечательности Москвы.\",\r\n\t\t\"img\": \"/download_file.html?file_id=6668970663716716859\",\r\n\t\t\"max_person_count\": \"25\",\r\n\t\t\"start_date\": \"Sat, 01 Jun 2019 16:00:00 +0300\",\r\n\t\t\"finish_date\": \"Sat, 01 Jun 2019 19:00:00 +0300\",\r\n\t\t\"cost\": \"150000\",\r\n\t\t\"city_id\": \"5667697629116916688\",\r\n\t\t\"city\": \"Москва\",\r\n\t\t\"subject_id\": \"Развлечение\",\r\n\t\t\"address\": \"г. Москва, Крымский Вал, 9\",\r\n\t\t\"phone_number\": \"84967281726\",\r\n\t\t\"email\": \"user_019@gmail.com\",\r\n\t\t\"event_admin_id\": \"6671630922937078440\",\r\n\t\t\"event_admin_fullname\": \"Антонова Елена Анатольевна\",\r\n\t\t\"event_admin_position\": \"Начальник отдела\",\r\n\t\t\"event_admin_avatar\": \"/download_file.html?file_id=6671631649276712429\",\r\n\t\t\"like_count\": \"3\",\r\n\t\t\"collaborators\": [\r\n\t\t{\r\n\t\t  \"id\": \"6671537774053763818\",\r\n\t\t  \"fullname\": \"Павленко Ирина Леонидовна\",\r\n\t\t  \"is_confirm\": \"true\",\r\n\t\t  \"avatar\": \"/download_file.html?file_id=6671538400859850742\"\r\n\t\t},\r\n\t\t{\r\n\t\t  \"id\": \"6671536515542115698\",\r\n\t\t  \"fullname\": \"Калугина Елена Руслановна\",\r\n\t\t  \"is_confirm\": \"true\",\r\n\t\t  \"avatar\": \"/download_file.html?file_id=6671537379586870665\"\r\n\t\t},\r\n\t\t{\r\n\t\t  \"id\": \"6670724707302122721\",\r\n\t\t  \"fullname\": \"Петров Петр Петрович\",\r\n\t\t  \"is_confirm\": \"true\",\r\n\t\t  \"avatar\": \"/download_file.html?file_id=6669106315989699280\"\r\n\t\t},\r\n\t\t{\r\n\t\t  \"id\": \"6148914691236517121\",\r\n\t\t  \"fullname\": \"Иванов Иван Иванович\",\r\n\t\t  \"is_confirm\": \"false\",\r\n\t\t  \"avatar\": \"/download_file.html?file_id=6671540961322951686\"\r\n\t\t}\r\n\t\t],\r\n\t\t\"comments\": [\r\n\t\t{\r\n\t\t  \"id\": \"6677220343771366295\",\r\n\t\t  \"user_id\": \"6148914691236517121\",\r\n\t\t  \"avatar\": \"/download_file.html?file_id=6671540961322951686\",\r\n\t\t  \"user_fullname\": \"Иванов Иван Иванович\",\r\n\t\t  \"date\": \"Sun, 07 Apr 2019 21:25:10 +0300\",\r\n\t\t  \"message\": \"fsfs\"\r\n\t\t}\r\n\t\t],\r\n\t\t\"cities\": [\r\n\t\t{\r\n\t\t  \"id\": \"5667697629116916643\",\r\n\t\t  \"name\": \"Абакан\"\r\n\t\t},\r\n\t\t{\r\n\t\t  \"id\": \"5667697629116916644\",\r\n\t\t  \"name\": \"Аксай\"\r\n\t\t},\r\n\t\t{\r\n\t\t  \"id\": \"5667697629116916645\",\r\n\t\t  \"name\": \"Актау\"\r\n\t\t},\r\n\t\t{\r\n\t\t  \"id\": \"5667697629116916646\",\r\n\t\t  \"name\": \"Актобе\"\r\n\t\t},\r\n\t\t{\r\n\t\t  \"id\": \"5667697629116916647\",\r\n\t\t  \"name\": \"Алматы\"\r\n\t\t},\r\n\t\t{\r\n\t\t  \"id\": \"5667697629116916648\",\r\n\t\t  \"name\": \"Архангельск\"\r\n\t\t},\r\n\t\t{\r\n\t\t  \"id\": \"5667697629116916649\",\r\n\t\t  \"name\": \"Астана\"\r\n\t\t}\r\n\t\t],\r\n\t\t\"subjects\": [\r\n\t\t\t\"Образование\",\r\n\t\t\t\"Спорт\",\r\n\t\t\t\"Здоровье\",\r\n\t\t\t\"Путешествия, туризм\",\r\n\t\t\t\"Культура\",\r\n\t\t\t\"Развлечение\"\r\n\t\t]\r\n\t}\r\n]\r\n\r\nconst data = events[0];\r\n\r\nexport function setParticipiantStatusMock(eventId, userId, isConfirm){\r\n\tconst event = find(events, { id: eventId });\r\n\tif (event){\r\n\t\tconst index = findIndex(event.collaborators, { id: userId });\r\n\t\tif (index !== -1){\r\n\t\t\tif (isConfirm){\r\n\t\t\t\tevent.collaborators[index].is_confirm = isConfirm;\r\n\t\t\t} else {\r\n\t\t\t\tevent.collaborators.splice(index, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function setCommentMock(eventId, commentId, message){\r\n\tconst event = find(events, { id: eventId });\r\n\tif (event){\r\n\t\tif (commentId !== null && commentId !== undefined) {\r\n\t\t\tconst comment = find(event.comments, { id: commentId });\r\n\t\t\tif (comment) {\r\n\t\t\t\tcomment.message = message;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst newComment = {\r\n\t\t\t\t\"id\": uuid(),\r\n\t\t\t\t\"user_id\": uuid(),\r\n\t\t\t\t\"avatar\": \"/download_file.html?file_id=6669106315989699280\",\r\n\t\t\t\t\"user_fullname\": \"Иванов Иван Иванович\",\r\n\t\t\t\t\"date\": new Date(),\r\n\t\t\t\t\"message\": message\r\n\t\t\t};\r\n\t\t\tevent.comments = event.comments.concat([newComment]);\r\n\t\t\treturn newComment;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function removeCommentMock(eventId, commentId){\r\n\tconst event = find(events, { id: eventId });\r\n\tif (event){\r\n\t\tconst index = findIndex(event.comments, { id: commentId });\r\n\t\tif (index !== -1){\r\n\t\t\tevent.comments.splice(index, 1);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default data;","import { url } from '../../../config';\r\nimport createRemoteActions from '../../utils/createRemoteActions';\r\nimport mock, { setParticipiantStatusMock, removeCommentMock, setCommentMock } from './mock';\r\n\r\nexport const constants = {\r\n\t...createRemoteActions([\r\n\t\t'GET_EVENT_DETAILS_INITIAL_DATA',\r\n\t\t'SET_EVENT_DETAILS_PARTICIPANT_STATUS',\r\n\t\t'REMOVE_EVENT_DETAILS_COMMENT',\r\n\t\t'ADD_EVENT_DETAILS_COMMENT',\r\n\t\t'EDIT_EVENT_DETAILS_COMMENT',\r\n\t\t'RESPOND_EVENT_DETAILS_PARTICIPANT',\r\n\t\t'REFUSE_EVENT_DETAILS_PARTICIPANT'\r\n\t]),\r\n\t'EVENT_DETAILS_SET_STATUS': 'EVENT_DETAILS_SET_STATUS',\r\n\t'EVENT_DETAILS_LOADING': 'EVENT_DETAILS_LOADING'\r\n}\r\n\r\nfunction loading(isLoading){\r\n\treturn {\r\n\t\ttype: constants.EVENT_DETAILS_LOADING,\r\n\t\tpayload: isLoading\r\n\t}\r\n}\r\n\r\nexport function getEventDetails(id){\r\n\treturn dispatch => {\r\n\t\tconst path = url.createPath({\r\n\t\t\tserver_name: 'events',\r\n\t\t\taction_name: 'EventData',\r\n\t\t\tid\r\n\t\t});\r\n\r\n\t\tdispatch(loading(true));\r\n\t\tfetch(path)\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.json();\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\tif (data.error){\r\n\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\tconsole.log(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tdispatch(loading(false));\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: constants.GET_EVENT_DETAILS_INITIAL_DATA_SUCCESS,\r\n\t\t\t\t\tpayload: data\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}).catch(e => {\r\n\t\t\t//dispatch(error(e.message));\r\n\t\t\tconsole.log(e.message);\r\n\t\t});\r\n\r\n\r\n\t\t\r\n\t\t/*dispatch(loading(true));\r\n\t\tsetTimeout(() => {\r\n\t\t\tdispatch(loading(false));\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: constants.GET_EVENT_DETAILS_INITIAL_DATA_SUCCESS,\r\n\t\t\t\tpayload: { ...mock }\r\n\t\t\t});\r\n\t\t}, 300);*/\r\n\t}\r\n}\r\n\r\nexport function resolveEvent(){\r\n\treturn (dispatch, getState) => {\r\n\t\tconst { eventDetails } = getState();\r\n\r\n\t\tconst path = url.createPath({\r\n\t\t\tserver_name: 'events',\r\n\t\t\taction_name: 'ResolveEvent'\r\n\t\t});\r\n\r\n\t\tfetch(path, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tid: eventDetails.id\r\n\t\t\t})\r\n\t\t})\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.json();\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\tif (data.error){\r\n\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\tconsole.log(data.error);\r\n\t\t\t} else {\r\n\t\t\t\t/*dispatch({\r\n\t\t\t\t\ttype: constants.RESOLVE_EVENT_DETAILS_SUCCESS,\r\n\t\t\t\t\tpayload: data.status_id\r\n\t\t\t\t});*/\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: constants.EVENT_DETAILS_SET_STATUS,\r\n\t\t\t\t\tpayload: data\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}).catch(e => {\r\n\t\t\t//dispatch(error(e.message));\r\n\t\t\tconsole.log(e.message);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport function completeEvent(){\r\n\treturn (dispatch, getState) => {\r\n\t\tconst { eventDetails } = getState();\r\n\r\n\t\tconst path = url.createPath({\r\n\t\t\tserver_name: 'events',\r\n\t\t\taction_name: 'CompleteEvent'\r\n\t\t});\r\n\r\n\t\tfetch(path, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tid: eventDetails.id\r\n\t\t\t})\r\n\t\t})\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.json();\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\tif (data.error){\r\n\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\tconsole.log(data.error);\r\n\t\t\t} else {\r\n\t\t\t\t/*dispatch({\r\n\t\t\t\t\ttype: constants.REJECT_EVENT_DETAILS_SUCCESS,\r\n\t\t\t\t\tpayload: data\r\n\t\t\t\t});*/\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: constants.EVENT_DETAILS_SET_STATUS,\r\n\t\t\t\t\tpayload: data\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}).catch(e => {\r\n\t\t\t//dispatch(error(e.message));\r\n\t\t\tconsole.log(e.message);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport function rejectEvent(){\r\n\treturn (dispatch, getState) => {\r\n\t\tconst { eventDetails } = getState();\r\n\r\n\t\tconst path = url.createPath({\r\n\t\t\tserver_name: 'events',\r\n\t\t\taction_name: 'RejectEvent'\r\n\t\t});\r\n\r\n\t\tfetch(path, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tid: eventDetails.id\r\n\t\t\t})\r\n\t\t})\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.json();\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\tif (data.error){\r\n\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\tconsole.log(data.error);\r\n\t\t\t} else {\r\n\t\t\t\t/*dispatch({\r\n\t\t\t\t\ttype: constants.REJECT_EVENT_DETAILS_SUCCESS,\r\n\t\t\t\t\tpayload: data\r\n\t\t\t\t});*/\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: constants.EVENT_DETAILS_SET_STATUS,\r\n\t\t\t\t\tpayload: data\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}).catch(e => {\r\n\t\t\t//dispatch(error(e.message));\r\n\t\t\tconsole.log(e.message);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport function respondParticipiant() {\r\n\treturn (dispatch, getState) => {\r\n\t\tconst { eventDetails } = getState();\r\n\r\n\t\tconst path = url.createPath({\r\n\t\t\tserver_name: 'events',\r\n\t\t\taction_name: 'NewParticipiant'\r\n\t\t});\r\n\r\n\t\tfetch(path, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tid: eventDetails.id\r\n\t\t\t})\r\n\t\t})\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.json();\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\tif (data.error){\r\n\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\tconsole.log(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: constants.RESPOND_EVENT_DETAILS_PARTICIPANT_SUCCESS,\r\n\t\t\t\t\tpayload: data\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}).catch(e => {\r\n\t\t\t//dispatch(error(e.message));\r\n\t\t\tconsole.log(e.message);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport function refuseParticipiant() {\r\n\treturn (dispatch, getState) => {\r\n\t\tconst { eventDetails } = getState();\r\n\r\n\t\tconst path = url.createPath({\r\n\t\t\tserver_name: 'events',\r\n\t\t\taction_name: 'Refuse'\r\n\t\t});\r\n\r\n\t\tfetch(path, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tid: eventDetails.id\r\n\t\t\t})\r\n\t\t})\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.json();\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\tif (data.error){\r\n\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\tconsole.log(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: constants.REFUSE_EVENT_DETAILS_PARTICIPANT_SUCCESS,\r\n\t\t\t\t\tpayload: data\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}).catch(e => {\r\n\t\t\t//dispatch(error(e.message));\r\n\t\t\tconsole.log(e.message);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport function setParticipiantStatus(userId, isConfirm){\r\n\treturn (dispatch, getState) => {\r\n\t\tconst { eventDetails } = getState();\r\n\r\n\t\tconst path = url.createPath({\r\n\t\t\tserver_name: 'events',\r\n\t\t\taction_name: 'ParticipiantStatus'\r\n\t\t});\r\n\r\n\t\tfetch(path, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tid: eventDetails.id,\r\n\t\t\t\tuser_id: userId,\r\n\t\t\t\taccept: isConfirm\r\n\t\t\t})\r\n\t\t})\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.json();\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\tif (data.error){\r\n\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\tconsole.error(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: constants.SET_EVENT_DETAILS_PARTICIPANT_STATUS_SUCCESS,\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\tuserId,\r\n\t\t\t\t\t\tisConfirm\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}).catch(e => {\r\n\t\t\t//dispatch(error(e.message));\r\n\t\t\tconsole.error(e.message);\r\n\t\t});\r\n\r\n\t\t/*const { eventDetails } = getState();\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetParticipiantStatusMock(eventDetails.id, userId, isConfirm);\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: constants.SET_EVENT_DETAILS_PARTICIPANT_STATUS_SUCCESS,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tuserId,\r\n\t\t\t\t\tisConfirm\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}, 100)*/\r\n\t}\r\n}\r\n\r\nexport function removeComment(eventId, commentId){\r\n\treturn (dispatch) => {\r\n\t\tconst path = url.createPath({\r\n\t\t\tserver_name: 'events',\r\n\t\t\taction_name: 'RemoveComment'\r\n\t\t});\r\n\r\n\t\tfetch(path, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tid: eventId,\r\n\t\t\t\tcomment_id: commentId\r\n\t\t\t})\r\n\t\t})\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.json();\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\tif (data.error){\r\n\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\tconsole.error(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: constants.REMOVE_EVENT_DETAILS_COMMENT_SUCCESS,\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\teventId,\r\n\t\t\t\t\t\tcommentId\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}).catch(e => {\r\n\t\t\t//dispatch(error(e.message));\r\n\t\t\tconsole.error(e.message);\r\n\t\t});\r\n\t\t/*setTimeout(() => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: constants.REMOVE_EVENT_DETAILS_COMMENT_SUCCESS,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\teventId,\r\n\t\t\t\t\tcommentId\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tremoveCommentMock(eventId, commentId);\r\n\t\t});*/\r\n\t}\r\n}\r\n\r\nexport function addComment(eventId, message) {\r\n\treturn (dispatch) => {\r\n\t\tconst path = url.createPath({\r\n\t\t\tserver_name: 'events',\r\n\t\t\taction_name: 'AddComment'\r\n\t\t});\r\n\r\n\t\tfetch(path, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tid: eventId,\r\n\t\t\t\tmessage\r\n\t\t\t})\r\n\t\t})\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.json();\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\tif (data.error){\r\n\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\tconsole.error(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: constants.ADD_EVENT_DETAILS_COMMENT_SUCCESS,\r\n\t\t\t\t\tpayload: data\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}).catch(e => {\r\n\t\t\t//dispatch(error(e.message));\r\n\t\t\tconsole.error(e.message);\r\n\t\t});\r\n\t\t/*setTimeout(() => {\r\n\t\t\tconst comment = setCommentMock(eventId, null, message);\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: constants.ADD_EVENT_DETAILS_COMMENT_SUCCESS,\r\n\t\t\t\tpayload: comment\r\n\t\t\t});\r\n\t\t});*/\r\n\t}\r\n}\r\n\r\nexport function editComment(eventId, commentId, message) {\r\n\treturn (dispatch) => {\r\n\t\tconst path = url.createPath({\r\n\t\t\tserver_name: 'events',\r\n\t\t\taction_name: 'AddComment'\r\n\t\t});\r\n\r\n\t\tfetch(path, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\tid: eventId,\r\n\t\t\t\t\tcomment_id: commentId,\r\n\t\t\t\t\tmessage\r\n\t\t\t\t})\r\n\t\t})\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.json();\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\tif (data.error){\r\n\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\tconsole.error(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: constants.EDIT_EVENT_DETAILS_COMMENT_SUCCESS,\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\tcommentId,\r\n\t\t\t\t\t\tmessage\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}).catch(e => {\r\n\t\t\t//dispatch(error(e.message));\r\n\t\t\tconsole.error(e.message);\r\n\t\t});\r\n\t\t/*setTimeout(() => {\r\n\t\t\tsetCommentMock(eventId, commentId, message);\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: constants.EDIT_EVENT_DETAILS_COMMENT_SUCCESS,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tcommentId,\r\n\t\t\t\t\tmessage\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});*/\r\n\t}\r\n}","const lut = [];\r\n\r\nfor (let i = 0; i < 256; i++) {\r\n\tlut[i] = (i < 16 ? '0' : '') + (i).toString(16);\r\n}\r\n\r\nexport default function uuid(){\r\n\tconst d0 = Math.random() * 0xffffffff | 0;\r\n\tconst d1 = Math.random() * 0xffffffff | 0;\r\n\tconst d2 = Math.random() * 0xffffffff | 0;\r\n\tconst d3 = Math.random() * 0xffffffff | 0;\r\n\t\r\n\treturn lut[d0 & 0xff] + lut[d0 >> 8 & 0xff] + lut[d0 >> 16 & 0xff] + lut[d0 >> 24 & 0xff] + '-' +\r\n\t\tlut[d1 & 0xff] + lut[d1 >> 8 & 0xff] + '-' + lut[d1 >> 16 & 0x0f | 0x40] + lut[d1 >> 24 & 0xff] + '-' +\r\n\t\tlut[d2 & 0x3f | 0x80] + lut[d2 >> 8 & 0xff] + '-' + lut[d2 >> 16 & 0xff] + lut[d2 >> 24 & 0xff] +\r\n\t\tlut[d3 & 0xff] + lut[d3 >> 8 & 0xff] + lut[d3 >> 16 & 0xff] + lut[d3 >> 24 & 0xff];\r\n}","import uuid from './utils/uuid';\r\n\r\nconst servers = [];\r\n\r\n/*\r\n\tsrv: {id: 1, name: 'test'}\r\n*/\r\nfunction Server(srv){\r\n\tconst id  = srv.id || uuid();\r\n\tconst name = srv.name || `name_${srv.id}`;\r\n\tlet actions = [];\r\n\r\n\tthis.addActions = _actions => {\r\n\t\tactions = actions.concat((_actions || []));\r\n\t\treturn this;\r\n\t};\r\n\r\n\tthis.getId = () => {\r\n\t\treturn id;\r\n\t};\r\n\r\n\tthis.getName = () => {\r\n\t\treturn name;\r\n\t};\r\n\r\n\tthis.getActions = () => {\r\n\t\treturn actions;\r\n\t};\r\n}\r\n\r\nexport function addServer(srv){\r\n\tif (typeof srv !== 'object'){\r\n\t\tthrow TypeError('Argument must be an object like this \\r\\n \"{id: 1, name: \\'Test\\'}\"');\r\n\t}\r\n\tconst server = new Server(srv);\r\n\tservers.push(server);\r\n\treturn server;\r\n}\r\n\r\nexport function getAll(){\r\n\treturn servers;\r\n}\r\n\r\n","import { addServer, getAll } from  './servers';\r\n\r\nconst isProduction = process.env.NODE_ENV === 'production';\r\n\r\nconst wtBaseUrl = 'http://79.111.15.126';\r\nconst wtRouterId = '6385385939497347608';\r\nconst wtCustomBaseUrl = isProduction ? '/custom_web_template.html' : wtBaseUrl + '/custom_web_template.html';\r\n\r\naddServer({ id: '6668987061819174354', name: 'events' })\r\n.addActions(\r\n\t[\r\n\t\t'Data',\r\n\t\t'DataForCreate',\r\n\t\t'EventData',\r\n\t\t'AddComment',\r\n\t\t'RemoveComment',\r\n\t\t'NewEventStatus',\r\n\t\t'NewParticipiant',\r\n\t\t'ParticipiantStatus',\r\n\t\t'NewParticipiant',\r\n\t\t'Like',\r\n\t\t'SaveEvent',\r\n\t\t'Refuse',\r\n\t\t'ResolveEvent',\r\n\t\t'RejectEvent',\r\n\t\t'CompleteEvent'\r\n\t]\r\n);\r\n\r\nconst url = {\r\n\tgetServerId(serverName, actionName) {\r\n\t\tconst _servers = getAll().filter(s => {\r\n\t\t\tconst actions = s.getActions().filter(action => {\r\n\t\t\t\treturn action === actionName;\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\treturn (s.getName() === serverName && actions.length > 0);\r\n\t\t}).map(s => s.getId());\r\n\t\treturn _servers.length > 0 ? _servers[0] : '';\r\n\t},\r\n\r\n\tcreatePath(inputObj){\r\n\t\tif (!('server_name' in inputObj)) return '/';\r\n\t\tif (!('action_name' in inputObj)) inputObj.action_name = '';\r\n\t\tconst serverId = this.getServerId(inputObj.server_name, inputObj.action_name);\r\n\t\tconst basePath = wtCustomBaseUrl.concat('?object_id=').concat(wtRouterId).concat('&server_id='.concat(serverId));\r\n\r\n\t\treturn basePath.concat(Object.keys(inputObj).map(k => {\r\n\t\t\treturn '&'.concat(k).concat('=').concat(inputObj[k]);\r\n\t\t}).join(''));\r\n\t}\r\n};\r\nexport { url };\r\n","import React, { Component } from 'react';\r\nimport { Form, Label, Icon, Dropdown, Input, Button, TextArea, Message, Dimmer,  Loader } from 'semantic-ui-react';\r\nimport DatePicker from 'react-datepicker';\r\nimport { setDefaultLocale } from 'react-datepicker';\r\nimport ru from 'date-fns/locale/ru';\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from './eventActions';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport moment from 'moment';\r\n\r\nimport './event.css';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\n\r\nsetDefaultLocale('ru');\r\n\r\nclass Event extends Component {\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tisShowWarning: false,\r\n\t\t\tfileName: props.img_name || ''\r\n\t\t}\r\n\r\n\t\tthis.formRef = React.createRef();\r\n\r\n\t\tthis.handleSave = this.handleSave.bind(this);\r\n\t\tthis.onChangeRawStartDate = this.onChangeRawStartDate.bind(this);\r\n\t\tthis.onChangeRawFinishDate = this.onChangeRawFinishDate.bind(this);\r\n\t\tthis.handleChangeFile = this.handleChangeFile.bind(this);\r\n\t\tthis.dateFormat = 'd.MM.yyyy, hh:mm';\r\n\t}\r\n\r\n\t_isFormFilled(){\r\n\t\tconst {\r\n\t\t\ttitle,\r\n\t\t\tlong_desc,\r\n\t\t\tshort_desc,\r\n\t\t\taddress,\r\n\t\t\tcity_id,\r\n\t\t\tsubject_id,\r\n\t\t\tmax_person_count,\r\n\t\t\tcost,\r\n\t\t\tstart_date,\r\n\t\t\tfinish_date\r\n\t\t} = this.props;\r\n\t\t//const { fileName } = this.state;\r\n\t\treturn (\r\n\t\t\ttitle.trim() !== '' &&\r\n\t\t\tlong_desc.trim() !== '' &&\r\n\t\t\tshort_desc.trim() !== '' &&\r\n\t\t\taddress.trim() !== '' &&\r\n\t\t\tcity_id.trim() !== '' &&\r\n\t\t\tmax_person_count !== '' &&\r\n\t\t\tcost !== '' &&\r\n\t\t\tstart_date !== null &&\r\n\t\t\tfinish_date !== null\r\n\t\t);\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\tconst { match } = this.props;\r\n\t\tthis.props.getData(match.params.permalink);\r\n\t}\r\n\r\n\thandleChangeFile(e) {\r\n\t\tconst path = e.target.value;\r\n\t\tconst lastIndex = path.lastIndexOf('\\\\');\r\n\t\tconst fname = lastIndex === -1 ? path : path.substring(lastIndex + 1, path.length);\r\n\t\t/*this.setState({\r\n\t\t\tfileName: fname\r\n\t\t});*/\r\n\t\tthis.props.onChangeFileName(fname);\r\n\t\t//this.props.onResetPrevFile();\r\n\t}\r\n\r\n\thandleSave(){\r\n\t\tif (this._isFormFilled()){\r\n\t\t\tthis.props.onSaveEvent(document.getElementById('event-new_form'));\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tisShowWarning: true\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tonChangeRawStartDate(e){\r\n\t\tif (moment(e.target.value, this.dateFormat).isValid()){\r\n\t\t\tthis.props.onChangeStartDate(e.target.value);\r\n\t\t}\r\n\t}\r\n\r\n\tonChangeRawFinishDate(e){\r\n\t\tif (moment(e.target.value, this.dateFormat).isValid()){\r\n\t\t\tthis.props.onChangeFinishDate(e.target.value);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\trender(){\r\n\t\tconst {\r\n\t\t\tui,\r\n\t\t\thistory,\r\n\t\t\tonChangeTitle,\r\n\t\t\tonChangeDescription,\r\n\t\t\tonChangeShortDescription,\r\n\t\t\tonChangeStartDate,\r\n\t\t\tonChangeFinishDate,\r\n\t\t\tonChangeCity,\r\n\t\t\tonChangeAddress,\r\n\t\t\tonChangeSubject,\r\n\t\t\tonChangeMaxPersons,\r\n\t\t\tonChangeCost,\r\n\t\t\tonSaveEvent,\r\n\t\t\tid,\r\n\t\t\ttitle,\r\n\t\t\tlong_desc,\r\n\t\t\tshort_desc,\r\n\t\t\taddress,\r\n\t\t\tcity_id,\r\n\t\t\tsubject_id,\r\n\t\t\tmax_person_count,\r\n\t\t\tcost,\r\n\t\t\tstart_date,\r\n\t\t\tfinish_date,\r\n\t\t\tcities,\r\n\t\t\tsubjects,\r\n\t\t\timg_name,\r\n\t\t\tprevFileId\r\n\t\t} = this.props;\r\n\r\n\t\tconst { isShowWarning } = this.state;\r\n\r\n\t\tif (ui.isLoading){\r\n\t\t\treturn (\r\n\t\t\t\t<Dimmer active inverted>\r\n\t\t\t\t\t<Loader inverted>Loading</Loader>\r\n\t\t\t\t</Dimmer>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className='event-new'>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tclassName='event-new__back'\r\n\t\t\t\t\tsize='tiny'\r\n\t\t\t\t\tprimary\r\n\t\t\t\t\ticon\r\n\t\t\t\t\tlabelPosition='left'\r\n\t\t\t\t\tonClick={() => history.goBack()}\r\n\t\t\t\t>\r\n\t\t\t\t\tНазад\r\n\t\t\t\t\t<Icon name='arrow left' />\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Message\r\n\t\t\t\t\tattached\r\n\t\t\t\t\theader='Создание/Редактирование мероприятия'\r\n\t\t\t\t\tcontent='Заполните форму по вашим критериям'\r\n\t\t\t\t/>\r\n\t\t\t\t<Form id='event-new_form' className='attached fluid segment' encType='multipart/form-data'>\r\n\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t<input type='text' className='event-new__form-field' name='id' value={id} readOnly />\r\n\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t<Form.Field required>\r\n\t\t\t\t\t\t<Label>Название *</Label>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tname='title'\r\n\t\t\t\t\t\t\tplaceholder='Введите название мероприятия'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={onChangeTitle}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t<Form.Field required>\r\n\t\t\t\t\t\t<Label>Полное описание *</Label>\r\n\t\t\t\t\t\t <TextArea\r\n\t\t\t\t\t\t \tname='long_desc'\r\n\t\t\t\t\t\t \tplaceholder='Опишите подробнее мероприятие'\r\n\t\t\t\t\t\t \tvalue={long_desc}\r\n\t\t\t\t\t\t \tstyle={{ minHeight: 100 }}\r\n\t\t\t\t\t\t \tonChange={onChangeDescription}\r\n\t\t\t\t\t\t />\r\n\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t<Label>Краткое описание *</Label>\r\n\t\t\t\t\t\t <TextArea\r\n\t\t\t\t\t\t \tname='short_desc'\r\n\t\t\t\t\t\t \tplaceholder='Опишите коротко мероприятие'\r\n\t\t\t\t\t\t \tvalue={short_desc}\r\n\t\t\t\t\t\t \tstyle={{ minHeight: 100 }}\r\n\t\t\t\t\t\t \tonChange={onChangeShortDescription}\r\n\t\t\t\t\t\t />\r\n\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t<Form.Group inline>\r\n\t\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t\t\t<label className='event-new__calendar-label'> C *</label>\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\tclassName='event-new__calendar-icon'\r\n\t\t\t\t\t\t\t\t\tname='calendar'\r\n\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\tname='start_date'\r\n\t\t\t\t\t\t\t\t\tlocale={ru}\r\n\t\t\t\t\t\t\t\t\tselected={start_date}\r\n\t\t\t\t\t\t\t\t\tshowTimeSelect\r\n\t\t\t\t\t\t\t\t\ttimeIntervals={10}\r\n\t\t\t    \t\t\t\t\ttimeFormat='HH:mm'\r\n\t\t\t    \t\t\t\t\tdateFormat={this.dateFormat}\r\n\t\t\t    \t\t\t\t\ttimeCaption='время'\r\n\t\t\t    \t\t\t\t\tplaceholderText='Дата начала'\r\n\t\t\t    \t\t\t\t\tonChange={onChangeStartDate}\r\n\t\t\t    \t\t\t\t\tonChangeRaw={this.onChangeRawStartDate}\r\n\t\t\t    \t\t\t\t\tdisabledKeyboardNavigation\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t\t\t<label className='event-new__calendar-label'> По *</label>\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\tclassName='event-new__calendar-icon'\r\n\t\t\t\t\t\t\t\t\tname='calendar'\r\n\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\tname='finish_date'\r\n\t\t\t\t\t\t\t\t\tlocale={ru}\r\n\t\t\t\t\t\t\t\t\tselected={finish_date}\r\n\t\t\t\t\t\t\t\t\tshowTimeSelect\r\n\t\t\t\t\t\t\t\t\ttimeIntervals={10}\r\n\t\t\t    \t\t\t\t\ttimeFormat='HH:mm'\r\n\t\t\t    \t\t\t\t\tdateFormat={this.dateFormat}\r\n\t\t\t    \t\t\t\t\ttimeCaption='время'\r\n\t\t\t    \t\t\t\t\tplaceholderText='Дата окончания'\r\n\t\t\t    \t\t\t\t\tonChange={onChangeFinishDate}\r\n\t\t\t    \t\t\t\t\tonChangeRaw={this.onChangeRawFinishDate}\r\n\t\t\t    \t\t\t\t\tdisabledKeyboardNavigation\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group widths='equal'>\r\n\t\t\t\t\t\t<Form.Field required>\r\n\t\t\t\t\t\t\t<Label>Город *</Label>\r\n\t\t\t\t\t\t\t<input readOnly className='event-new__form-field' type='text' name='city_id' value={city_id} />\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\tplaceholder='Выберите город'\r\n\t\t\t\t\t\t\t\tupward\r\n\t\t\t\t\t\t\t\tsearch\r\n\t\t\t\t\t\t\t\tselection\r\n\t\t\t\t\t\t\t\toptions={cities}\r\n\t\t\t\t\t\t\t\tonChange={onChangeCity}\r\n\t\t\t\t\t\t\t\tvalue={city_id}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t\t<Form.Field required>\r\n\t\t\t\t\t\t\t<Label>Адрес *</Label>\r\n\t\t\t\t\t\t\t<Input type='text' name='address' placeholder='Введите адрес' value={address} onChange={onChangeAddress}/>\r\n\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t<Label>Тематика проведения *</Label>\r\n\t\t\t\t\t\t<input readOnly className='event-new__form-field' type='text' name='subject_id' value={subject_id} />\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tplaceholder='Выберите тематику'\r\n\t\t\t\t\t\t\tupward\r\n\t\t\t\t\t\t\tfluid\r\n\t\t\t\t\t\t\tselection\r\n\t\t\t\t\t\t\toptions={subjects}\r\n\t\t\t\t\t\t\tonChange={onChangeSubject}\r\n\t\t\t\t\t\t\tvalue={subject_id}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t<Form.Group widths='equal'>\r\n\t\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t\t<Label>Кол-во участников (0 - неограниченно) *</Label>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tname='max_person_count'\r\n\t\t\t\t\t\t\t\tplaceholder='Введите кол-во участников'\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tonChange={onChangeMaxPersons}\r\n\t\t\t\t\t\t\t\tvalue={max_person_count}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t\t<Label>Стоимость (0 - бесплатно) *</Label>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tname='cost'\r\n\t\t\t\t\t\t\t\taction={{ icon: 'ruble sign' }}\r\n\t\t\t\t\t\t\t\tlabelPosition='right'\r\n\t\t\t\t\t\t\t\tplaceholder='Введите стоимость'\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tonChange={onChangeCost}\r\n\t\t\t\t\t\t\t\tvalue={cost}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t<div className='event-new__file_upload'>\r\n\t\t\t\t\t\t\t<Button size='tiny'>Выберите изображение</Button>\r\n\t\t\t\t\t\t\t<div className='event-new__file_upload-name'>{img_name || 'Файл не выбран'}</div>\r\n\t\t\t\t\t\t\t<input readOnly className='event-new__form-field' type='text' name='prev_file_id' value={prevFileId} />\r\n\t\t\t\t\t\t\t<input type='file' name='upload_file' accept='image/*' onChange={this.handleChangeFile}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tprimary\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\tonClick={this.handleSave}\r\n\t\t\t\t\t>Сохранить</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t\t\r\n\t\t\t\t<Message attached='bottom' warning>\r\n\t\t\t\t\t<Icon name='help' />\r\n\t\t\t\t\tПоля помеченные &nbsp;*&nbsp; обязательные для заполнения\r\n\t\t\t\t\t{isShowWarning && <Message error>\r\n\t\t\t\t\t<Icon name='exclamation' />\r\n\t\t\t\t\tЗаполнены не все поля!\r\n\t\t\t\t</Message>}\r\n\t\t\t\t</Message>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state, props) => {\r\n\treturn state.event;\r\n};\r\n\r\nconst mapDispatchProps = (dispatch, ownProps) => {\r\n\treturn {\r\n\t\t...bindActionCreators(actions, dispatch),\r\n\t\tonSaveEvent: (formRef) => dispatch(actions.saveEvent(formRef, ownProps.history))\r\n\t}\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchProps)(Event));","export { default } from './Event';","import { url } from '../../../../config';\r\nimport { constants as homeConstants } from '../homeActions';\r\n\r\nexport const constants = {\r\n\t'CHANGE_SEARCH': 'CHANGE_SEARCH',\r\n\t'CHANGE_PAGE': 'CHANGE_PAGE',\r\n\t'CHANGE_STATUS': 'CHANGE_STATUS',\r\n\t'CHANGE_SUBJECT': 'CHANGE_SUBJECT',\r\n\t'CHANGE_CITY': 'CHANGE_CITY',\r\n\t'CLEAR_FIELDS': 'CLEAR_FIELDS'\r\n}\r\n\r\nexport const statuses = {\r\n\tall: 'Выберите статус',\r\n\tactive: 'Активные',\r\n\tplan: 'Планируются',\r\n\tcompleted: 'Завершены'\r\n}\r\n\r\n\r\nexport function changeStatus(value){\r\n\treturn {\r\n\t\ttype: constants.CHANGE_STATUS,\r\n\t\tpayload: value\r\n\t}\r\n}\r\n\r\nexport function changeSearch(value){\r\n\treturn {\r\n\t\ttype: constants.CHANGE_SEARCH,\r\n\t\tpayload: value\r\n\t}\r\n}\r\n\r\nexport function changePage(value){\r\n\treturn {\r\n\t\ttype: constants.CHANGE_PAGE,\r\n\t\tpayload: value\r\n\t}\r\n}\r\n\r\nexport function changeSubject(value){\r\n\treturn {\r\n\t\ttype: constants.CHANGE_SUBJECT,\r\n\t\tpayload: value\r\n\t}\r\n}\r\n\r\nexport function changeCity(value){\r\n\treturn {\r\n\t\ttype: constants.CHANGE_CITY,\r\n\t\tpayload: value\r\n\t}\r\n}\r\n\r\nexport function clearFields(){\r\n\treturn {\r\n\t\ttype: constants.CLEAR_FIELDS\r\n\t}\r\n}\r\n\r\n\r\nfunction loading(isLoading){\r\n\treturn {\r\n\t\ttype: homeConstants.INITIAL_LOADING,\r\n\t\tpayload: isLoading\r\n\t}\r\n}\r\n\r\nexport function search(){\r\n\treturn (dispatch, getState) => {\r\n\t\tconst { home } = getState();\r\n\t\tconst filters = home.ui.filters;\r\n\r\n\t\tconst path = url.createPath({\r\n\t\t\tserver_name: 'events',\r\n\t\t\taction_name: 'Data',\r\n\t\t\tstatus: filters.status,\r\n\t\t\tsearch: filters.search,\r\n\t\t\tpage: filters.page,\r\n\t\t\tcity: filters.city,\r\n\t\t\tsubject: filters.subject\r\n\r\n\t\t});\r\n\r\n\t\tdispatch(loading(true));\r\n\t\tfetch(path)\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.json();\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\tif (data.error){\r\n\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\tconsole.error(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tdispatch(loading(false));\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: homeConstants.GET_INITIAL_DATA_SUCCESS,\r\n\t\t\t\t\tpayload: data\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(e => {\r\n\t\t\t//dispatch(error(e.message));\r\n\t\t\tconsole.error(e.message);\r\n\t\t});\r\n\r\n\t\t/*setTimeout((search, status) => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: constants.FILTER_EVENTS_SUCCESS,\r\n\t\t\t\tpayload: []\r\n\t\t\t})\r\n\t\t}, 1000);*/\r\n\t};\r\n}","if (process.env.NODE_ENV === 'production') {\r\n\tmodule.exports = require('./configureStore.prod');\r\n} else {\r\n\tmodule.exports = require('./configureStore.dev');\r\n}","import { url } from '../../../config';\r\nimport createRemoteActions from '../../utils/createRemoteActions';\r\nimport { omit } from 'lodash';\r\nrequire('formdata-polyfill');\r\n\r\nexport const constants = {\r\n\t'NEW_EVENT_CHANGE_TITLE': 'NEW_EVENT_CHANGE_TITLE',\r\n\t'NEW_EVENT_CHANGE_DESCRIPTION': 'NEW_EVENT_CHANGE_DESCRIPTION',\r\n\t'NEW_EVENT_CHANGE_SHORT_DESCRIPTION': 'NEW_EVENT_CHANGE_SHORT_DESCRIPTION',\r\n\t'NEW_EVENT_CHANGE_START_DATE': 'NEW_EVENT_CHANGE_START_DATE',\r\n\t'NEW_EVENT_CHANGE_FINISH_DATE': 'NEW_EVENT_CHANGE_FINISH_DATE',\r\n\t'NEW_EVENT_CHANGE_CITY': 'NEW_EVENT_CHANGE_CITY',\r\n\t'NEW_EVENT_CHANGE_SUBJECT': 'NEW_EVENT_CHANGE_SUBJECT',\r\n\t'NEW_EVENT_CHANGE_MAX_PERSONS': 'NEW_EVENT_CHANGE_MAX_PERSONS',\r\n\t'NEW_EVENT_CHANGE_COST': 'NEW_EVENT_CHANGE_COST',\r\n\t'NEW_EVENT_CHANGE_ADDRESS': 'NEW_EVENT_CHANGE_ADDRESS',\r\n\t'NEW_EVENT_LOADING': 'NEW_EVENT_LOADING',\r\n\t'NEW_EVENT_CHANGE_FILE_NAME': 'NEW_EVENT_CHANGE_FILE_NAME',\r\n\t...createRemoteActions('GET_EVENT_CREATE')\r\n}\r\n\r\nfunction loading(isLoading){\r\n\treturn {\r\n\t\ttype: constants.NEW_EVENT_LOADING,\r\n\t\tpayload: isLoading\r\n\t}\r\n}\r\n\r\nexport function onChangeFileName(fname){\r\n\treturn {\r\n\t\ttype: constants.NEW_EVENT_CHANGE_FILE_NAME,\r\n\t\tpayload: fname\r\n\t}\r\n}\r\n\r\nexport function onChangeTitle(event, data){\r\n\treturn {\r\n\t\ttype: constants.NEW_EVENT_CHANGE_TITLE,\r\n\t\tpayload: data.value\r\n\t}\r\n}\r\n\r\nexport function onChangeDescription(event, data){\r\n\treturn {\r\n\t\ttype: constants.NEW_EVENT_CHANGE_DESCRIPTION,\r\n\t\tpayload: data.value\r\n\t}\r\n}\r\n\r\nexport function onChangeShortDescription(event, data){\r\n\treturn {\r\n\t\ttype: constants.NEW_EVENT_CHANGE_SHORT_DESCRIPTION,\r\n\t\tpayload: data.value\r\n\t}\r\n}\r\n\r\nexport function onChangeStartDate(date){\r\n\treturn {\r\n\t\ttype: constants.NEW_EVENT_CHANGE_START_DATE,\r\n\t\tpayload: date\r\n\t}\r\n}\r\n\r\nexport function onChangeFinishDate(date){\r\n\treturn {\r\n\t\ttype: constants.NEW_EVENT_CHANGE_FINISH_DATE,\r\n\t\tpayload: date\r\n\t}\r\n}\r\n\r\nexport function onChangeCity(event, data){\r\n\treturn {\r\n\t\ttype: constants.NEW_EVENT_CHANGE_CITY,\r\n\t\tpayload: data.value\r\n\t}\r\n}\r\n\r\nexport function onChangeAddress(event, data){\r\n\treturn {\r\n\t\ttype: constants.NEW_EVENT_CHANGE_ADDRESS,\r\n\t\tpayload: data.value\r\n\t}\r\n}\r\n\r\nexport function onChangeSubject(event, data){\r\n\treturn {\r\n\t\ttype: constants.NEW_EVENT_CHANGE_SUBJECT,\r\n\t\tpayload: data.value\r\n\t}\r\n}\r\n\r\nexport function onChangeMaxPersons(event, data){\r\n\tlet payload = parseInt(data.value);\r\n\r\n\tif (isNaN(payload) || data.value < 0 || data.value === '') {\r\n\t\tpayload = '';\r\n\t}\r\n\r\n\treturn {\r\n\t\ttype: constants.NEW_EVENT_CHANGE_MAX_PERSONS,\r\n\t\tpayload\r\n\t}\r\n}\r\n\r\nexport function onChangeCost(event, data){\r\n\tlet payload = parseInt(data.value);\r\n\r\n\tif (isNaN(payload) || data.value < 0 || data.value === '') {\r\n\t\tpayload = '';\r\n\t}\r\n\t\r\n\treturn {\r\n\t\ttype: constants.NEW_EVENT_CHANGE_COST,\r\n\t\tpayload\r\n\t}\r\n}\r\n\r\nexport function saveEvent(form, history){\r\n\treturn (dispatch, getState) => {\r\n\t\t//const { event } = getState();\r\n\r\n\t\t//const data = omit(event, [ 'cities', 'subjects' ]);\r\n\r\n\t\tconst path = url.createPath({\r\n\t\t\tserver_name: 'events',\r\n\t\t\taction_name: 'SaveEvent'\r\n\t\t});\r\n\r\n\t\tconst data = new FormData(form);\r\n\r\n\t\tdispatch(loading(true));\r\n\t\tfetch(path, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\t/*headers: {  \r\n\t\t\t\t'Content-type': 'application/x-www-form-urlencoded; charset=UTF-8'  \r\n\t\t\t},*/\r\n\t\t\tbody: data\r\n\t\t})\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.json();\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\tif (data.error){\r\n\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\tconsole.log(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tdispatch(loading(false));\r\n\t\t\t\thistory.push(`/event/details/${data.id}`);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(e => {\r\n\t\t\t//dispatch(error(e.message));\r\n\t\t\tconsole.log(e.message);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport function getData(eventId){\r\n\treturn dispatch => {\r\n\t\tif (eventId){\r\n\t\t\tconst path = url.createPath({\r\n\t\t\t\tserver_name: 'events',\r\n\t\t\t\taction_name: 'EventData',\r\n\t\t\t\tid: eventId\r\n\t\t\t});\r\n\r\n\t\t\tdispatch(loading(true));\r\n\t\t\tfetch(path)\r\n\t\t\t.then(resp => {\r\n\t\t\t\treturn resp.json();\r\n\t\t\t})\r\n\t\t\t.then(data => {\r\n\t\t\t\tif (data.error){\r\n\t\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\t\tconsole.log(data.error);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdispatch(loading(false));\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: constants.GET_EVENT_CREATE_SUCCESS,\r\n\t\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\t\tid: eventId,\r\n\t\t\t\t\t\t\t...data\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(e => {\r\n\t\t\t\t//dispatch(error(e.message));\r\n\t\t\t\tconsole.log(e.message);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tconst path = url.createPath({\r\n\t\t\t\tserver_name: 'events',\r\n\t\t\t\taction_name: 'DataForCreate'\r\n\t\t\t});\r\n\r\n\t\t\tdispatch(loading(true));\r\n\t\t\tfetch(path, { method: 'POST' })\r\n\t\t\t.then(resp => {\r\n\t\t\t\treturn resp.json();\r\n\t\t\t})\r\n\t\t\t.then(data => {\r\n\t\t\t\tif (data.error){\r\n\t\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\t\tconsole.log(data.error);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdispatch(loading(false));\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: constants.GET_EVENT_CREATE_SUCCESS,\r\n\t\t\t\t\t\tpayload: data\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(e => {\r\n\t\t\t\t//dispatch(error(e.message));\r\n\t\t\t\tconsole.log(e.message);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t/*dispatch(loading(true));\r\n\t\tsetTimeout(() => {\r\n\t\t\tdispatch(loading(false));\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: constants.GET_EVENT_CREATE_SUCCESS,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t  \"id\": \"6675349716799068736\",\r\n\t\t\t\t  \"cur_user_id\": \"6148914691236517121\",\r\n\t\t\t\t  \"user_role\": \"admin\",\r\n\t\t\t\t  \"title\": \"Мой тест\",\r\n\t\t\t\t  \"status_id\": \"plan\",\r\n\t\t\t\t  \"status_name\": \"Активные\",\r\n\t\t\t\t  \"long_desc\": \"Полное\",\r\n\t\t\t\t  \"img\": \"/download_file.html?file_id=6674662346535409549\",\r\n\t\t\t\t  \"img_name\": \"test.png\",\r\n\t\t\t\t  \"max_person_count\": \"7\",\r\n\t\t\t\t  \"start_date\": \"Tue, 02 Apr 2019 17:25:36 +0300\",\r\n\t\t\t\t  \"finish_date\": \"Tue, 02 Apr 2019 18:50:00 +0300\",\r\n\t\t\t\t  \"cost\": \"8000\",\r\n\t\t\t\t  \"city_id\": \"5667697629116916647\",\r\n\t\t\t\t  \"city\": \"Алматы\",\r\n\t\t\t\t  \"subject_id\": \"Здоровье\",\r\n\t\t\t\t  \"address\": \"\",\r\n\t\t\t\t  \"phone_number\": \"84993674214\",\r\n\t\t\t\t  \"email\": \"user_006@gmail.com\",\r\n\t\t\t\t  \"event_admin_id\": \"6671539145020354632\",\r\n\t\t\t\t  \"event_admin_fullname\": \"Бахирев Рустам Маратович\",\r\n\t\t\t\t  \"event_admin_position\": \"Главный бухгалтер\",\r\n\t\t\t\t  \"event_admin_avatar\": \"/download_file.html?file_id=6671539891956233514\",\r\n\t\t\t\t  \"like_count\": \"0\",\r\n\t\t\t\t  \"collaborators\": [],\r\n\t\t\t\t  \"comments\": [],\r\n\t\t\t\t  \"cities\": [\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916643\",\r\n\t\t\t\t      \"name\": \"Абакан\"\r\n\t\t\t\t    },\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916644\",\r\n\t\t\t\t      \"name\": \"Аксай\"\r\n\t\t\t\t    },\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916645\",\r\n\t\t\t\t      \"name\": \"Актау\"\r\n\t\t\t\t    },\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916646\",\r\n\t\t\t\t      \"name\": \"Актобе\"\r\n\t\t\t\t    },\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916647\",\r\n\t\t\t\t      \"name\": \"Алматы\"\r\n\t\t\t\t    },\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916648\",\r\n\t\t\t\t      \"name\": \"Архангельск\"\r\n\t\t\t\t    },\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916649\",\r\n\t\t\t\t      \"name\": \"Астана\"\r\n\t\t\t\t    },\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916650\",\r\n\t\t\t\t      \"name\": \"Астрахань\"\r\n\t\t\t\t    },\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916651\",\r\n\t\t\t\t      \"name\": \"Атырау\"\r\n\t\t\t\t    },\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916652\",\r\n\t\t\t\t      \"name\": \"Барнаул\"\r\n\t\t\t\t    },\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916653\",\r\n\t\t\t\t      \"name\": \"Белгород\"\r\n\t\t\t\t    },\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916654\",\r\n\t\t\t\t      \"name\": \"Бобруйск\"\r\n\t\t\t\t    },\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916655\",\r\n\t\t\t\t      \"name\": \"Брест\"\r\n\t\t\t\t    },\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916656\",\r\n\t\t\t\t      \"name\": \"Брянск\"\r\n\t\t\t\t    },\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916657\",\r\n\t\t\t\t      \"name\": \"Винница\"\r\n\t\t\t\t    }\r\n\t\t\t\t  ],\r\n\t\t\t\t  \"subjects\": [\r\n\t\t\t\t    \"Образование\",\r\n\t\t\t\t    \"Спорт\",\r\n\t\t\t\t    \"Здоровье\",\r\n\t\t\t\t    \"Путешествия, туризм\",\r\n\t\t\t\t    \"Культура\",\r\n\t\t\t\t    \"Развлечение\"\r\n\t\t\t\t  ]\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}, 1000);*/\r\n\t};\r\n}","import { url } from '../../../config';\r\nimport createRemoteActions from '../../utils/createRemoteActions';\r\nimport initialData from '../../mock/static.json';\r\n\r\nexport const constants = {\r\n\t...createRemoteActions('GET_INITIAL_DATA'),\r\n\t'INITIAL_LOADING': 'INITIAL_LOADING'\r\n}\r\n\r\nfunction loading(isLoading){\r\n\treturn {\r\n\t\ttype: constants.INITIAL_LOADING,\r\n\t\tpayload: isLoading\r\n\t}\r\n}\r\n\r\nexport function getInitialData(){\r\n\treturn (dispatch, getState) => {\r\n\r\n\t\t/*dispatch(loading(true));\r\n\t\tsetTimeout((search, status) => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: constants.GET_INITIAL_DATA_SUCCESS,\r\n\t\t\t\tpayload: initialData\r\n\t\t\t});\r\n\t\t\tdispatch(loading(false));\r\n\t\t}, 1000);*/\r\n\r\n\t\t\r\n\t\tdispatch(loading(true));\r\n\t\tconst { home } = getState();\r\n\r\n\t\tconst path = url.createPath({\r\n\t\t\tserver_name: 'events',\r\n\t\t\taction_name: 'Data',\r\n\t\t\tstatus: home.ui.filters.status,\r\n\t\t\tsearch: home.ui.filters.search,\r\n\t\t\tcity: home.ui.filters.city,\r\n\t\t\tsubject: home.ui.filters.subject\r\n\t\t});\r\n\r\n\t\tfetch(path)\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.json();\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\tif (data.error){\r\n\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\tconsole.log(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tdispatch(loading(false));\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: constants.GET_INITIAL_DATA_SUCCESS,\r\n\t\t\t\t\tpayload: data\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}).catch(e => {\r\n\t\t\t//dispatch(error(e.message));\r\n\t\t\tconsole.log(e.message);\r\n\t\t});\r\n\t};\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Popup, Icon } from 'semantic-ui-react'\r\nimport cs from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport { url } from '../../../../config';\r\nimport toBoolean from '../../../utils/toBoolean';\r\n\r\nimport './eventOfList.css';\r\n\r\nclass Event extends Component {\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tlike_count: props.like_count,\r\n\t\t\tis_liked: toBoolean(props.is_liked)\r\n\t\t}\r\n\t\tthis.handleLike = this.handleLike.bind(this);\r\n\t}\r\n\r\n\thandleLike(e) {\r\n\t\te.preventDefault();\r\n\t\tconst self = this;\r\n\r\n\t\tconst path = url.createPath({\r\n\t\t\tserver_name: 'events',\r\n\t\t\taction_name: 'Like'\r\n\t\t});\r\n\t\tfetch(path, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tid: this.props.id\r\n\t\t\t})\r\n\t\t}).then(resp => {\r\n\t\t\treturn resp.json();\r\n\t\t}).then(data => {\r\n\t\t\tself.setState({\r\n\t\t\t\tlike_count: data.count,\r\n\t\t\t\tis_liked: !self.state.is_liked\r\n\t\t\t})\r\n\t\t}).catch(e => {\r\n\t\t\tconsole.error(e.message);\r\n\t\t});\r\n\t}\r\n\r\n\trender(){\r\n\t\tconst {\r\n\t\t\tid,\r\n\t\t\ttitle,\r\n\t\t\tshort_desc,\r\n\t\t\tsubject_id,\r\n\t\t\tcity,\r\n\t\t\timg,\r\n\t\t\tmax_person_count,\r\n\t\t\tcur_person_count,\r\n\t\t\tstart_date,\r\n\t\t\tcost,\r\n\t\t\tevent_admin_fullname,\r\n\t\t\tevent_admin_avatar,\r\n\t\t\taddress,\r\n\t\t\tcomments_count\r\n\t\t} = this.props;\r\n\r\n\t\tconst { like_count, is_liked } = this.state;\r\n\r\n\t\tconst isLikedClass = cs({\r\n\t\t\t'mdl-button--colored': is_liked\r\n\t\t});\r\n\t\treturn (\r\n\t\t\t<Link className='event-of-list' to={`/event/details/${id}`}\r\n\t\t\t\tclassName='mdl-cell mdl-cell--4-col mdl-card mdl-shadow--2dp otp-news otp-news__link'\r\n\t\t\t>\r\n\t\t\t\t<div className='mdl-card__title'>\r\n\t\t\t\t\t<div className='mdl-card__subtitle-text otp-event__type'>{subject_id}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName='mdl-card__media mdl-card__media--h-140 mdl-color--grey-500'\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tbackground: `url(${img}) center/cover no-repeat`\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tstyle={{marginBottom: 0}}\r\n\t\t\t\t\t\tclassName='mdl-color--light-blue-900 mdl-color-text--white otp-card__media-label otp-event__date'>\r\n\t\t\t\t\t\t{city}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span className='mdl-color--primary mdl-color-text--white otp-card__media-label otp-event__date'>\r\n\t\t\t\t\t\t{new Date(start_date).toLocaleDateString('ru-RU', {year: 'numeric', month: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric'})}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<div className='event-of-list__lectors'>\r\n\t\t\t\t\t\t<Popup inverted size='mini' trigger={\r\n\t\t\t\t\t\t\t<div className='event-of-list__lector' style={{\r\n\t\t\t\t\t\t\t\tbackgroundImage: `url(${event_admin_avatar})`\r\n\t\t\t\t\t\t\t}} />\r\n\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t{event_admin_fullname}\r\n\t\t\t\t\t\t</Popup>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='mdl-card__title' style={{ paddingRight: '60px' }}>\r\n\t\t\t\t\t<div className='mdl-card__subtitle-text otp-event__place'>{address}</div>\r\n\t\t\t\t\t<div className='mdl-card__title-text otp-event__name'>{title}&nbsp;</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='mdl-card__supporting-text mdl-card--expand otp-event__comment'>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<i>{short_desc}</i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='mdl-card__actions mdl-card--border'>\r\n\t\t\t\t\t<div className='otp-action__item'>\r\n\t\t\t\t\t\t<button onClick={this.handleLike} className={`mdl-button mdl-button--icon otp-news__like-button ${isLikedClass}`}>\r\n\t\t\t\t\t\t\t<i className='material-icons mdl-18 otp-action__icon'>thumb_up</i>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<span className='otp-action__label otp-news__like'>{like_count}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='otp-action__item'>\r\n\t\t\t\t\t\t<i className='material-icons mdl-18 otp-action__icon'>forum</i>\r\n\t\t\t\t\t\t<span className='otp-action__label otp-news__comment-count'>{comments_count}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='otp-action__item' style={{\r\n\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\tright: 0\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<Icon name='ruble sign' color='grey'/>\r\n\t\t\t\t\t\t<span className='otp-action__label otp-news__comment-count otp-color--black-hint'>{cost}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/*<div className='mdl-card__actions'>\r\n\t\t\t\t\t<Link to={`/event/details/${id}`} className='mdl-button mdl-button--colored otp-event__link'>Подробнее</Link>\r\n\t\t\t\t\t<div className='mdl-layout-spacer'></div>\r\n\t\t\t\t</div>*/}\r\n\t\t\t\t<div className='mdl-card__menu'>\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclassName='otp-color--black-hint'\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\talignItems: 'center'}}\r\n\t\t\t\t\t\ttitle='Количество участников'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<i className='material-icons' style={{marginRight: '4px'}}>group</i>\r\n\t\t\t\t\t\t<b className='otp-event__count'>{cur_person_count} / {max_person_count}</b>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</Link>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\nexport default Event;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './search-bar.css';\r\n\r\nclass SearchBar extends Component {\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t\tthis.handleSearch = this.handleSearch.bind(this);\r\n\t\tthis.state = {\r\n\t\t\tvalue: props.value || ''\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps){\r\n\t\tif (this.props.value !== nextProps.value){\r\n\t\t\tthis.setState({ value: nextProps.value });\r\n\t\t}\r\n\t}\r\n\r\n\thandleChange(e){\r\n\t\tthis.setState({ value: e.target.value });\r\n\t\tif (this.props.onChange){\r\n\t\t\tthis.props.onChange(e.target.value);\r\n\t\t}\r\n\t}\r\n\r\n\thandleSearch(e){\r\n\t\tif (e.keyCode === 13 && this.props.onSearch){\r\n\t\t\tthis.props.onSearch(e.target.value);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst className = this.props.className ? this.props.className : '';\r\n\t\tconst classNameInput = this.props.classNameInput ? this.props.classNameInput : '';\r\n\t\treturn (\r\n\t\t\t<div className={`search-box ${  className}`}>\r\n\t\t\t\t<input\r\n\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\tonKeyDown={this.handleSearch}\r\n\t\t\t\t\tclassName={`search-box__search-input ${  classNameInput}`}\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tvalue={this.state.value}\r\n\t\t\t\t\tplaceholder='Поиск...'\r\n\t\t\t\t/>\r\n\t\t\t\t<i className='search-box__search-icon material-icons'>search</i>\r\n\t\t\t\t{this.props.children}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nSearchBar.propTypes = {\r\n\tvalue: PropTypes.string,\r\n\tclassName: PropTypes.string,\r\n\tclassNameInput: PropTypes.string,\r\n\tonSearch: PropTypes.func,\r\n\tonChange: PropTypes.func\r\n};\r\n\r\nexport default SearchBar;","import React, { Component } from 'react';\r\nimport SearchBar from '../../../components/search-bar';\r\nimport { Grid, Search, Dropdown, Button, Icon, Pagination } from 'semantic-ui-react';\r\n//import { ButtonSuccess, ButtonWarning, ButtonInfo, ButtonDanger } from '../../../components/button';\r\nimport { changeStatus, changeSearch, changePage, changeSubject, changeCity, search, statuses } from './filtersActions';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\n\r\nimport './filters.css';\r\n\r\nconst Filters = ({\r\n\tonChangeStatus,\r\n\tonChangeSearch,\r\n\tonChangeSubject,\r\n\tonChangeCity,\r\n\tfilter,\r\n\tsearch,\r\n\tpage,\r\n\tpagesCount,\r\n\tonChangePage,\r\n\tstatus,\r\n\tsubject,\r\n\tcity,\r\n\tcities,\r\n\tsubjects,\r\n\tstatuses,\r\n\thistory,\r\n\tchildren\r\n}) => {\r\n\t//const { ALL, SELF, PLAN } = visibilityFilters;\r\n\treturn (\r\n\t\t<div className='filters'>\r\n\t\t\t<Grid className='filters__menu' columns='equal'>\r\n\t\t\t\t<Grid.Column width={4}>\r\n\t\t\t\t\t<SearchBar\r\n\t\t\t\t\t\tclassName='filters__search-bar'\r\n\t\t\t\t\t\tonChange={ onChangeSearch }\r\n\t\t\t\t\t\tonSearch={ filter }\r\n\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t\t<Grid.Column width={9}>\r\n\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\tclassName='filters__dropdown'\r\n\t\t\t\t\t\tplaceholder='Выберите город'\r\n\t\t\t\t\t\tsearch\r\n\t\t\t\t\t\tselection\r\n\t\t\t\t\t\toptions={cities}\r\n\t\t\t\t\t\tonChange={onChangeCity}\r\n\t\t\t\t\t\tvalue={city}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\tclassName='filters__dropdown'\r\n\t\t\t\t\t\tplaceholder='Выберите тематику'\r\n\t\t\t\t\t\tselection\r\n\t\t\t\t\t\toptions={subjects}\r\n\t\t\t\t\t\tonChange={onChangeSubject}\r\n\t\t\t\t\t\tvalue={subject}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\tclassName='filters__dropdown'\r\n\t\t\t\t\t\tplaceholder='Выберите статус'\r\n\t\t\t\t\t\tselection\r\n\t\t\t\t\t\toptions={statuses}\r\n\t\t\t\t\t\tonChange={onChangeStatus}\r\n\t\t\t\t\t\tvalue={status}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t{/*<Button\r\n\t\t\t\t\t\tcolor='green'\r\n\t\t\t\t\t\tactive={status === ALL}\r\n\t\t\t\t\t\tonClick={() => onChangeStatus(ALL)}\r\n\r\n\t\t\t\t\t>Все</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor='yellow'\r\n\t\t\t\t\t\tactive={status === SELF}\r\n\t\t\t\t\t\tonClick={() => onChangeStatus(SELF)}\r\n\t\t\t\t\t>Мои</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor='blue'\r\n\t\t\t\t\t\tactive={status === PLAN}\r\n\t\t\t\t\t\tonClick={() => onChangeStatus(PLAN)}\r\n\t\t\t\t\t>Планируются</Button>*/}\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t\t<Grid.Column floated='right'>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tsize='tiny'\r\n\t\t\t\t\t\tclassName='filters__button filters__create-event'\r\n\t\t\t\t\t\tcolor='red'\r\n\t\t\t\t\t\ticon\r\n\t\t\t\t\t\tlabelPosition='left'\r\n\t\t\t\t\t\tonClick={() => history.push('/event/new')}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tСоздать\r\n\t\t\t\t\t\t<Icon name='pencil alternate' />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t</Grid>\r\n\t\t\t{children}\r\n\t\t\t<Pagination\r\n\t\t\t\tclassName='filters__pagination'\r\n\t\t\t\tactivePage={page}\r\n\t\t\t\tfirstItem={{ content: <Icon name='angle double left' />, icon: true }}\r\n\t\t\t\tlastItem={{ content: <Icon name='angle double right' />, icon: true }}\r\n\t\t\t\tprevItem={{ content: <Icon name='angle left' />, icon: true }}\r\n\t\t\t\tnextItem={{ content: <Icon name='angle right' />, icon: true }}\r\n\t\t\t\ttotalPages={pagesCount}\r\n\t\t\t\tonPageChange={onChangePage}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\tconst { user, statuses, cities, subjects } = state.home;\r\n\r\n\tconst _statuses = statuses.filter(s => {\r\n\t\treturn s.roles.indexOf(user.user_role) !== -1;\r\n\t});\r\n\r\n\treturn {\r\n\t\tcities,\r\n\t\tsubjects,\r\n\t\tstatuses: _statuses,\r\n\t\t...state.home.ui.filters\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tonChangeStatus: (event, data) => {\r\n\t\t\tdispatch(changeStatus(data.value));\r\n\t\t\tdispatch(search());\r\n\t\t},\r\n\t\tonChangeSearch: (value) => {\r\n\t\t\tdispatch(changeSearch(value));\r\n\t\t},\r\n\t\tonChangePage: (event, data) => {\r\n\t\t\tdispatch(changePage(data.activePage));\r\n\t\t\tdispatch(search());\r\n\t\t},\r\n\t\tonChangeSubject: (event, data) => {\r\n\t\t\tdispatch(changeSubject(data.value));\r\n\t\t\tdispatch(search());\r\n\t\t},\r\n\t\tonChangeCity: (event, data) => {\r\n\t\t\tdispatch(changeCity(data.value));\r\n\t\t\tdispatch(search());\r\n\t\t},\r\n\t\tfilter: () => {\r\n\t\t\tdispatch(search());\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Filters));","import React, { Component } from 'react';\r\nimport Event from './event';\r\nimport { Segment, Header, Icon, Button, Dimmer, Loader } from 'semantic-ui-react';\r\nimport Filters from './filters';\r\nimport { connect } from 'react-redux';\r\nimport { getInitialData } from './homeActions';\r\nimport { clearFields } from './filters/filtersActions';\r\n\r\nimport './home.css';\r\n\r\nclass Home extends Component {\r\n\r\n\tcomponentDidMount(){\r\n\t\tthis.props.loadData();\r\n\t}\r\n\r\n\trender(){\r\n\t\tconst { events, ui } = this.props;\r\n\t\tconst len = events.length;\r\n\r\n\t\treturn (\r\n\t\t\t<div className='home'>\r\n\t\t\t\t<Filters>\r\n\t\t\t\t\t<div className='clearfix' />\r\n\t\t\t\t\t<div className='mdl-grid mdl-grid--no-spacing'>\r\n\t\t\t\t\t\t<div className='mdl-cell mdl-cell--12-col-desktop'>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tui.isLoading ? (\r\n\t\t\t\t\t\t\t\t\t<Dimmer active inverted>\r\n\t\t\t\t\t\t\t\t\t\t<Loader inverted>Loading</Loader>\r\n\t\t\t\t\t\t\t\t\t</Dimmer>\r\n\t\t\t\t\t\t\t\t) : (\r\n\r\n\t\t\t\t\t\t\t\t\t<div className='mdl-grid'>\r\n\t\t\t\t\t\t\t\t\t\t{len > 0 ?\r\n\t\t\t\t\t\t\t\t\t\t\tevents.map(e => <Event key={e.id} {...e}/>)\r\n\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t<Segment className='home__not-found' placeholder>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Header icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon name='search' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tМы не нашли ничего по вашему запросу {\"    \"} :(\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Header>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Segment.Inline>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize='tiny'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpositive\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.props.clear}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>Очистить фильтры</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Segment.Inline>\r\n\t\t\t\t\t\t\t\t\t\t\t</Segment>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Filters>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = ( state ) => {\r\n\treturn { ...state.home };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tloadData: () => {\r\n\t\t\tdispatch(getInitialData());\r\n\t\t},\r\n\t\tclear: () => {\r\n\t\t\tdispatch(clearFields());\r\n\t\t\tdispatch(getInitialData());\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","import React, { Component } from 'react';\r\nimport { object } from 'prop-types';\r\n\r\nclass LazyLoad extends Component {\r\n\t\r\n\tcomponentWillMount() {\r\n\t\tconst self = this;\r\n\t\tthis.props.load.then(comp => {\r\n\t\t\tself.comp = comp;\r\n\t\t\tself.forceUpdate();\r\n\t\t});\r\n\t}\r\n\trender() {\r\n\t\tconst Component = this.comp;\r\n\t\treturn Component ? <Component /> : null;\r\n\t}\r\n}\r\n\r\nLazyLoad.propTypes = {\r\n\tload: object\r\n};\r\n\r\nexport default (dynamicImport) => () => (\r\n\t<LazyLoad load={ dynamicImport() } />\r\n);","import Home from '../pages/home';\r\nimport { lazyLoad } from '../enhancers';\r\n\r\nconst routes = [\r\n\t{\r\n\t\tpath: '/',\r\n\t\tcomponent: Home,\r\n\t\texact: true\r\n\t},\r\n\t{\r\n\t\tpath: '/event/details/:permalink',\r\n\t\tcomponent: lazyLoad(() => new Promise((resolve, reject) => {\r\n\t\t\tresolve(require('../pages/details-event').default)\r\n\t\t})),\r\n\t\texact: true\r\n\t},\r\n\t{\r\n\t\tpath: '/event/edit/:permalink',\r\n\t\tcomponent: lazyLoad(() => new Promise((resolve, reject) => {\r\n\t\t\tresolve(require('../pages/event').default)\r\n\t\t})),\r\n\t\texact: true\r\n\t},\r\n\t{\tpath: '/event/new',\r\n\t\tcomponent: lazyLoad(() => new Promise((resolve, reject) => {\r\n\t\t\tresolve(require('../pages/event').default)\r\n\t\t})),\r\n\t\texact: true\r\n\t}\r\n];\r\n\r\nexport default routes;","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport routes from './routes';\r\n\r\nconst App = () => (\r\n\t<div>\r\n\t\t{ routes.map(route => (\r\n\t\t\t<Route key={ route.path } { ...route } />\r\n\t\t)) }\r\n\t</div>\r\n);\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { HashRouter as Router } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport App from './ui/app';\r\nimport configureStore from './store';\r\nimport './css/material.font.css';\r\nimport './css/material.min.css';\r\nimport './css/global.css';\r\n\r\nimport 'semantic-ui-css/semantic.min.css';\r\n\r\nconst store = configureStore();\r\n\r\nconst render = () => (\r\n\t<Provider store={store}>\r\n\t\t<Router>\r\n\t\t\t<App />\r\n\t\t</Router>\r\n\t</Provider>\r\n);\r\n\r\nReactDOM.render(render(), document.getElementById('root'));\r\n\r\n\r\n","import { constants } from './filtersActions';\r\nimport { constants as homeConstatns } from '../homeActions';\r\n\r\nconst initialState = {\r\n\tsearch: '',\r\n\tpage: 1,\r\n\tpagesCount: 1,\r\n\tstatus: 'all',\r\n\tsubject: 'all',\r\n\tcity: 'all',\r\n\tui: {\r\n\t\tisLoading: false\r\n\t}\r\n}\r\n\r\nexport default function reducer(state = initialState, action) {\r\n\tswitch(action.type) {\r\n\r\n\t\tcase homeConstatns.GET_INITIAL_DATA_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpagesCount: action.payload.pagesCount\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.CLEAR_FIELDS: {\r\n\t\t\treturn {\r\n\t\t\t\t...initialState\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.CHANGE_SEARCH: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsearch: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.CHANGE_PAGE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpage: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.CHANGE_STATUS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstatus: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.CHANGE_SUBJECT: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsubject: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.CHANGE_CITY: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcity: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdefault: return state;\r\n\t}\r\n}","import { constants } from './homeActions';\r\nimport { combineReducers } from 'redux';\r\nimport filtersReducer from './filters/reducer';\r\n\r\nfunction statusReducer(state=[], action){\r\n\tswitch(action.type) {\r\n\r\n\t\tcase constants.GET_INITIAL_DATA_SUCCESS: {\r\n\t\t\tlet { status_list } = action.payload;\r\n\r\n\t\t\tstatus_list = status_list.map(s => ({\r\n\t\t\t\ttext: s.title,\r\n\t\t\t\tvalue: s.id,\r\n\t\t\t\t...s\r\n\t\t\t}));\r\n\t\t\treturn [{\r\n\t\t\t\t\tvalue: 'all',\r\n\t\t\t\t\ttext: 'Выберите статус',\r\n\t\t\t\t\troles: ['admin', 'event_admin', 'user']\r\n\t\t\t\t}, \r\n\t\t\t\t...status_list\r\n\t\t\t]\r\n\t\t}\r\n\t\tdefault: return state;\r\n\t}\r\n}\r\n\r\nfunction citiesReducer(state=[], action){\r\n\tswitch(action.type) {\r\n\r\n\t\tcase constants.GET_INITIAL_DATA_SUCCESS: {\r\n\t\t\tlet { cities } = action.payload;\r\n\r\n\t\t\tcities = cities.map(c => ({\r\n\t\t\t\ttext: c.name,\r\n\t\t\t\tvalue: c.id\r\n\t\t\t}));\r\n\t\t\treturn [{\r\n\t\t\t\t\tvalue: 'all',\r\n\t\t\t\t\ttext: 'Выберите город'\r\n\t\t\t\t}, \r\n\t\t\t\t...cities\r\n\t\t\t]\r\n\t\t}\r\n\t\tdefault: return state;\r\n\t}\r\n}\r\n\r\nfunction subjectsReducer(state=[], action){\r\n\tswitch(action.type) {\r\n\r\n\t\tcase constants.GET_INITIAL_DATA_SUCCESS: {\r\n\t\t\tlet { subjects } = action.payload;\r\n\r\n\t\t\tsubjects = subjects.map(s => ({\r\n\t\t\t\ttext: s,\r\n\t\t\t\tvalue: s\r\n\t\t\t}));\r\n\t\t\treturn [{\r\n\t\t\t\t\tvalue: 'all',\r\n\t\t\t\t\ttext: 'Выберите тематику'\r\n\t\t\t\t}, \r\n\t\t\t\t...subjects\r\n\t\t\t]\r\n\t\t}\r\n\t\tdefault: return state;\r\n\t}\r\n}\r\n\r\nfunction userReducer(state={}, action){\r\n\tswitch(action.type) {\r\n\t\tcase constants.GET_INITIAL_DATA_SUCCESS: {\r\n\t\t\tconst { cur_user_id, user_role } = action.payload;\r\n\t\t\treturn {\r\n\t\t\t\tcur_user_id,\r\n\t\t\t\tuser_role\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdefault: return state;\r\n\t}\r\n}\r\n\r\nfunction eventsReducer(state=[], action){\r\n\tswitch(action.type) {\r\n\r\n\t\tcase constants.GET_INITIAL_DATA_SUCCESS: {\r\n\t\t\treturn action.payload.events;\r\n\t\t}\r\n\r\n\t\tdefault: return state;\r\n\t}\r\n}\r\n\r\nfunction loadingReducer(state = false, action){\r\n\tswitch(action.type) {\r\n\r\n\t\tcase constants.INITIAL_LOADING: {\r\n\t\t\treturn action.payload;\r\n\t\t}\r\n\r\n\t\tdefault: return state;\r\n\t}\r\n}\r\n\r\nconst reducer = combineReducers({\r\n\tuser: userReducer,\r\n\tcities: citiesReducer,\r\n\tsubjects: subjectsReducer,\r\n\tstatuses: statusReducer,\r\n\tevents: eventsReducer,\r\n\tui: combineReducers({\r\n\t\tfilters: filtersReducer,\r\n\t\tisLoading: loadingReducer\r\n\t})\r\n});\r\n\r\nexport default reducer;","import { constants } from './eventActions';\r\n\r\nfunction uiReducer(state = {\r\n\tisLoading: false\r\n}, action){\r\n\tswitch(action.type) {\r\n\r\n\t\tcase constants.NEW_EVENT_LOADING: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdefault: return state;\r\n\t}\r\n}\r\n\r\nexport default function eventNewReducer(state = {\r\n\tid: '',\r\n\ttitle: '',\r\n\tlong_desc: '',\r\n\tshort_desc: '',\r\n\tstart_date: new Date(),\r\n\tfinish_date: new Date(),\r\n\tcity: '',\r\n\tcity_id: '',\r\n\taddress: '',\r\n\tsubject_id: '',\r\n\tmax_person_count: 0,\r\n\tcost: 0,\r\n\tcities: [],\r\n\tsubjects: [],\r\n\timg: '',\r\n\timg_name: '',\r\n\tprevFileId: '',\r\n\tui: {\r\n\t\tisLoading: false\r\n\t}\r\n}, action){\r\n\tswitch(action.type) {\r\n\r\n\t\tcase constants.GET_EVENT_CREATE_SUCCESS: {\r\n\t\t\tlet { cities, subjects } = action.payload;\r\n\t\t\tcities = cities.map(c => ({\r\n\t\t\t\ttext: c.name,\r\n\t\t\t\tvalue: c.id\r\n\t\t\t}));\r\n\r\n\t\t\tsubjects = subjects.map(s => ({\r\n\t\t\t\ttext: s,\r\n\t\t\t\tvalue: s\r\n\t\t\t}));\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload,\r\n\t\t\t\tprevFileId: action.payload.img ? \r\n\t\t\t\t\taction.payload.img.substring(action.payload.img.lastIndexOf('=') + 1, action.payload.img.length) : '',\r\n\t\t\t\tstart_date: action.payload.start_date ? new Date(action.payload.start_date): new Date(),\r\n\t\t\t\tfinish_date: action.payload.finish_date ? new Date(action.payload.finish_date): new Date(),\r\n\t\t\t\tcities,\r\n\t\t\t\tsubjects\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.NEW_EVENT_CHANGE_FILE_NAME: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\timg_name: action.payload,\r\n\t\t\t\tprevFileId: ''\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.NEW_EVENT_CHANGE_TITLE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttitle: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.NEW_EVENT_CHANGE_DESCRIPTION: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlong_desc: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.NEW_EVENT_CHANGE_SHORT_DESCRIPTION: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tshort_desc: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.NEW_EVENT_CHANGE_START_DATE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstart_date: action.payload\r\n\t\t\t}\t\r\n\t\t}\r\n\r\n\t\tcase constants.NEW_EVENT_CHANGE_FINISH_DATE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfinish_date: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.NEW_EVENT_CHANGE_CITY: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcity_id: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.NEW_EVENT_CHANGE_ADDRESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\taddress: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.NEW_EVENT_CHANGE_SUBJECT: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsubject_id: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.NEW_EVENT_CHANGE_MAX_PERSONS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmax_person_count: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.NEW_EVENT_CHANGE_COST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcost: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.NEW_EVENT_LOADING: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tui: uiReducer(state.ui, action)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdefault: return state;\r\n\t}\r\n}","import { constants } from './eventDetailsActions';\r\nimport { combineReducers } from 'redux';\r\n\r\nfunction commentsReducer(state=[], action){\r\n\tswitch(action.type){\r\n\t\tcase constants.REMOVE_EVENT_DETAILS_COMMENT_SUCCESS: {\r\n\t\t\treturn state.filter(c => c.id !== action.payload.commentId);\r\n\t\t}\r\n\r\n\t\tcase constants.ADD_EVENT_DETAILS_COMMENT_SUCCESS: {\r\n\t\t\treturn state.concat([ {\r\n\t\t\t\t...action.payload\r\n\t\t\t} ])\r\n\t\t}\r\n\r\n\t\tcase constants.EDIT_EVENT_DETAILS_COMMENT_SUCCESS: {\r\n\t\t\treturn state.map(c => {\r\n\t\t\t\t\tif (c.id === action.payload.commentId){\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t...c,\r\n\t\t\t\t\t\t\tmessage: action.payload.message\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn c;\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\tdefault: return state;\r\n\t}\r\n}\r\n\r\nfunction collaboratorsReducer(state=[], action) {\r\n\tswitch (action.type) {\r\n\t\tcase constants.SET_EVENT_DETAILS_PARTICIPANT_STATUS_SUCCESS: {\r\n\t\t\tif (action.payload.isConfirm){\r\n\t\t\t\treturn state.map(c => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...c,\r\n\t\t\t\t\t\tis_confirm: c.id == action.payload.userId ? true : c.is_confirm\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn state.filter(c => {\r\n\t\t\t\t\treturn c.id != action.payload.userId\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.RESPOND_EVENT_DETAILS_PARTICIPANT_SUCCESS: {\r\n\t\t\treturn state.concat([action.payload]);\r\n\t\t}\r\n\r\n\t\tcase constants.REFUSE_EVENT_DETAILS_PARTICIPANT_SUCCESS: {\r\n\t\t\treturn state.filter(c => c.id !== action.payload.id);\r\n\t\t}\r\n\t\t\r\n\t\tdefault: return state;\r\n\t}\r\n}\r\n\r\nfunction uiReducer(state = {\r\n\tisLoading: false\r\n}, action){\r\n\tswitch(action.type) {\r\n\r\n\t\tcase constants.EVENT_DETAILS_LOADING: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdefault: return state;\r\n\t}\r\n}\r\n\r\nexport default function eventDetailsReducer(state={\r\n\tcollaborators: [],\r\n\tcomments: [],\r\n\tadmins: [],\r\n\tui: {\r\n\t\tisLoading: false\r\n\t}\r\n}, action){\r\n\tswitch(action.type) {\r\n\r\n\t\tcase constants.GET_EVENT_DETAILS_INITIAL_DATA_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.EVENT_DETAILS_SET_STATUS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstatus_id: action.payload.status_id,\r\n\t\t\t\tstatus_name: action.payload.status_name\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.REFUSE_EVENT_DETAILS_PARTICIPANT_SUCCESS:\r\n\t\tcase constants.RESPOND_EVENT_DETAILS_PARTICIPANT_SUCCESS:\r\n\t\tcase constants.SET_EVENT_DETAILS_PARTICIPANT_STATUS_SUCCESS: {\r\n\r\n\t\t\tconst newState = {\r\n\t\t\t\t...state,\r\n\t\t\t\tcollaborators: collaboratorsReducer(state.collaborators, action)\r\n\t\t\t}\r\n\r\n\t\t\treturn newState;\r\n\t\t}\r\n\r\n\t\tcase constants.REMOVE_EVENT_DETAILS_COMMENT_SUCCESS:\r\n\t\tcase constants.ADD_EVENT_DETAILS_COMMENT_SUCCESS:\r\n\t\tcase constants.EDIT_EVENT_DETAILS_COMMENT_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcomments: commentsReducer(state.comments, action) \r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.EVENT_DETAILS_LOADING: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tui: uiReducer(state.ui, action)\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault: return state;\r\n\t}\r\n}","import { combineReducers } from 'redux';\r\nimport homeReducer from './pages/home/reducer';\r\nimport eventReducer from './pages/event/eventReducer';\r\nimport eventDetailsReducer from './pages/details-event/eventDetailsReducer';\r\n\r\nconst reducer = combineReducers({\r\n\thome: homeReducer,\r\n\tevent: eventReducer,\r\n\teventDetails: eventDetailsReducer\r\n});\r\n\r\nexport default reducer;\r\n\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport reducers from '../ui/rootReducer';\r\n\r\nexport default function configureStore(){\r\n\tconst store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\treturn store;\r\n}","export default function formateDate(date){\r\n\treturn date\r\n\t\t.toLocaleDateString(\r\n\t\t\t'ru-RU',\r\n\t\t\t{ year: 'numeric', month: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric'}\r\n\t\t);\r\n}","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n\tgetEventDetails,\r\n\tsetParticipiantStatus,\r\n\tremoveComment,\r\n\taddComment,\r\n\teditComment,\r\n\trespondParticipiant,\r\n\trefuseParticipiant,\r\n\tresolveEvent,\r\n\trejectEvent,\r\n\tcompleteEvent\r\n} from './eventDetailsActions';\r\nimport {\r\n\tIcon,\r\n\tSegment,\r\n\tHeader,\r\n\tItem,\r\n\tImage,\r\n\tGrid,\r\n\tCard,\r\n\tList,\r\n\tButton,\r\n\tComment,\r\n\tForm,\r\n\tDimmer,\r\n\tLoader,\r\n\tDropdown\r\n} from 'semantic-ui-react';\r\nimport formatDate from '../../utils/formatDate';\r\nimport toBoolean from '../../utils/toBoolean';\r\nimport { find } from 'lodash';\r\n\r\nimport './event-details.css';\r\n\r\nclass EventDetails extends Component {\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tcomment: '',\r\n\t\t\tisEditCommentNow: false\r\n\t\t}\r\n\r\n\t\tthis.handleChangeNewComment = this.handleChangeNewComment.bind(this);\r\n\t\tthis.handleSubmitNewComment = this.handleSubmitNewComment.bind(this);\r\n\t\tthis.handleChangeComment = this.handleChangeComment.bind(this);\r\n\t\tthis.handleSubmitComment = this.handleSubmitComment.bind(this);\r\n\t\tthis.handeShowEditCommentForm = this.handeShowEditCommentForm.bind(this);\r\n\t\tthis.handleCancelEditComment = this.handleCancelEditComment.bind(this);\r\n\t}\r\n\r\n\thandleChangeNewComment(e, { name, value }) {\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t}\r\n\r\n\thandeShowEditCommentForm(commentId, message) {\r\n\t\tthis.setState({\r\n\t\t\t[`comment_${commentId}`]: true,\r\n\t\t\t[`commentValue_${commentId}`]: message,\r\n\t\t\tisEditCommentNow: true\r\n\t\t});\r\n\t}\r\n\r\n\thandleCancelEditComment(e, commentId){\r\n\t\te.preventDefault();\r\n\t\tthis.setState({\r\n\t\t\t[`comment_${commentId}`]: false\r\n\t\t})\r\n\t}\r\n\r\n\thandleChangeComment(e, { name, value }) {\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t}\r\n\r\n\thandleSubmitComment(e, commentId) {\r\n\t\tconst { submitComment, id } = this.props;\r\n\r\n\t\te.preventDefault();\r\n\t\tsubmitComment(id, commentId, this.state[`commentValue_${commentId}`]);\r\n\t\tthis.setState({\r\n\t\t\t[`comment_${commentId}`]: false,\r\n\t\t\tisEditCommentNow: false\r\n\t\t});\r\n\t}\r\n\r\n\thandleSubmitNewComment(e) {\r\n\t\tconst { submitNewComment, id } = this.props;\r\n\r\n\t\te.preventDefault();\r\n\t\tsubmitNewComment(id, this.state.comment);\r\n\t\tthis.setState({\r\n\t\t\tcomment: ''\r\n\t\t});\r\n\t}\r\n\r\n\t_adminButtons(){\r\n\t\tconst { id, status_id, onResolveEvent, onRejectEvent, onCompleteEvent, history, user_role } = this.props;\r\n\t\tconst buttons = [];\r\n\t\tconst isEventAdmin = user_role === 'event_admin';\r\n\t\tconst isAdmin = user_role === 'admin';\r\n\r\n\t\tif (isAdmin || isEventAdmin){\r\n\t\t\tif (status_id === 'project' || status_id === 'plan'){\r\n\t\t\t\tbuttons.push(\r\n\t\t\t\t\t<Button.Group color='teal' className='event-details__reject' key={2}>\r\n\t\t\t\t\t\t<Button>Сменить статус</Button>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tas={Button}\r\n\t\t\t\t\t\t\tclassName='icon'\r\n\t\t\t\t\t\t\tfloating\r\n\t\t\t\t\t\t\ttrigger={<React.Fragment />}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Dropdown.Menu>\r\n\t\t    \t\t\t\t\t<Dropdown.Item text='Отменить' icon='close' onClick={onRejectEvent}/>\r\n\t\t    \t\t\t\t\t{status_id === 'plan' && <Dropdown.Item icon='minus' text='Завершить' onClick={onCompleteEvent}/>}\r\n\t\t    \t\t\t\t</Dropdown.Menu>\r\n\t\t    \t\t\t</Dropdown>\r\n\t    \t\t\t\t\r\n\t    \t\t\t</Button.Group>,\r\n\t\t\t\t\t<Button key={3}\r\n\t\t\t\t\t\tclassName='event-details__reject'\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\tcolor='red'\r\n\t\t\t\t\t\tonClick={() => history.push(`/event/edit/${id}`)}\r\n\t\t\t\t\t\ticon='pencil alternate'\r\n\t\t\t\t\t\tcontent='Редактировать'\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (isAdmin && status_id === 'project'){\r\n\t\t\t\t\tbuttons.push(\r\n\t\t\t\t\t\t<Button key={1}\r\n\t\t\t\t\t\t\tclassName='event-details__resolve'\r\n\t\t\t\t\t\t\tsize='mini'\r\n\t\t\t\t\t\t\tprimary\r\n\t\t\t\t\t\t\tonClick={onResolveEvent}\r\n\t\t\t\t\t\t\ticon='check'\r\n\t\t\t\t\t\t\tcontent='Подтвердить'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn buttons;\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\tthis.props.loadEvent();\r\n\t}\r\n\r\n\trender(){\r\n\t\tconst {\r\n\t\t\tui,\r\n\t\t\thistory,\r\n\t\t\tid,\r\n\t\t\tcur_user_id,\r\n\t\t\tadmins,\r\n\t\t\tstatus_id,\r\n\t\t\tstatus_name,\r\n\t\t\ttitle,\r\n\t\t\tlong_desc,\r\n\t\t\timg,\r\n\t\t\tmax_person_count,\r\n\t\t\tcur_person_count,\r\n\t\t\tstart_date,\r\n\t\t\tfinish_date,\r\n\t\t\tcost,\r\n\t\t\tevent_admin_id,\r\n\t\t\tevent_admin_fullname,\r\n\t\t\tevent_admin_avatar,\r\n\t\t\tevent_admin_position,\r\n\t\t\taddress,\r\n\t\t\tlike_count,\r\n\t\t\tcollaborators,\r\n\t\t\tcomments\r\n\t\t} = this.props;\r\n\r\n\t\tconst {\r\n\t\t\tacceptParticipiantStatus,\r\n\t\t\trejectParticipiantStatus,\r\n\t\t\tremoveComment,\r\n\t\t\tonRespondParticipiant,\r\n\t\t\tonRefuseParticipiant\r\n\t\t} = this.props;\r\n\t\tconst { comment, isEditCommentNow } = this.state;\r\n\r\n\t\tconst styles = img ? { backgroundImage: `url(${img})` } : {};\r\n\r\n\t\tif (ui.isLoading){\r\n\t\t\treturn (\r\n\t\t\t\t<Dimmer active inverted>\r\n\t\t\t\t\t<Loader inverted>Loading</Loader>\r\n\t\t\t\t</Dimmer>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className='event-details'>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tclassName='event-details__back'\r\n\t\t\t\t\tsize='small'\r\n\t\t\t\t\tprimary\r\n\t\t\t\t\ticon\r\n\t\t\t\t\tlabelPosition='left'\r\n\t\t\t\t\tonClick={() => history.push('/')}\r\n\t\t\t\t>\r\n\t\t\t\t\tНазад\r\n\t\t\t\t\t<Icon name='arrow left' />\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button.Group className='event-details__admin-buttons' size='mini'>\r\n\t\t\t\t\t{this._adminButtons()}\r\n\t\t\t\t</Button.Group>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName='mdl-layout__header mdl-layout__header--scroll otp-layout__header otp-layout__header--transparent mdl-color--grey-400 mdl-shadow--4dp'\r\n\t\t\t\t\tstyle={styles}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className='mdl-layout__title otp-layout__title'>\r\n\t\t\t\t\t\t<div className='event-details__status'>\r\n\t\t\t\t\t\t\t{status_name}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='otp-layout__title-text mdl-typography--display-1'>\r\n\t\t\t\t\t\t\t<span className='event-details__title'>{title}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='otp-layout__subtitle'>\r\n\t\t\t\t\t\t\tС {formatDate(new Date(start_date))} по {formatDate(new Date(finish_date))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Segment basic>\r\n\t\t\t\t\t<Grid>\r\n\t\t\t\t\t\t<Grid.Row>\r\n\t\t\t\t\t\t\t<Grid.Column width={8}>\r\n\t\t\t\t\t\t\t\t<Header as='h2' dividing>Описание</Header>\r\n\t\t\t\t\t\t\t\t<Card fluid>\r\n\t\t\t\t\t\t\t\t\t<Card.Content>\r\n\t\t\t\t\t\t\t\t\t\t<Image avatar floated='left' size='massive' src={event_admin_avatar} />\r\n\t\t\t\t\t\t\t\t\t\t<Card.Header>{event_admin_fullname}</Card.Header>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Meta>{event_admin_position}</Card.Meta>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Description>\r\n\t\t\t\t\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{__html: long_desc}} />\r\n\t\t\t\t\t\t\t\t\t\t</Card.Description>\r\n\t\t\t\t\t\t\t\t\t</Card.Content>\r\n\t\t\t\t\t\t\t\t\t<Card.Content extra>\r\n\t\t\t\t\t\t\t\t\t{cost ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Icon name='ruble sign' color='grey'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{cost}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<span>Стоимость не указана</span>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{status_id === 'plan' && find(collaborators, { id: cur_user_id }) ? \r\n\t\t\t\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t\t\t \t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tfloated='right'\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize='tiny'\r\n\t\t\t\t\t\t\t\t\t\t\t\tbasic\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='red'\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={onRefuseParticipiant}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tОтказаться\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t \t<span>{collaborators.length < max_person_count && <Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tfloated='right'\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize='tiny'\r\n\t\t\t\t\t\t\t\t\t\t\t\tbasic\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='blue'\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={onRespondParticipiant}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tОткликнуться\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>}</span>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</Card.Content>\r\n\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t\t\t<Grid.Column width={8}>\r\n\t\t\t\t\t\t\t\t<Header as='h2' dividing>Участники ({collaborators.length} / {max_person_count})</Header>\r\n\t\t\t\t\t\t\t\t<List divided verticalAlign='middle'>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tcollaborators.map((c, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<List.Item key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{event_admin_id === cur_user_id ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<List.Content floated='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{!toBoolean(c.is_confirm) ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button.Group size='mini'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon='add'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='green'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => acceptParticipiantStatus(c.id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button.Or text=' | '/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon='minus'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='red'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => rejectParticipiantStatus(c.id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t): (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon name='check' color='green' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</List.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t): (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<List.Content floated='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{toBoolean(c.is_confirm) ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon name='check' color='green' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t): (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>На утверждении</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</List.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Image avatar src={c.avatar} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<List.Content>{c.fullname}</List.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t\t\t<Grid.Row>\r\n\t\t\t\t\t\t\t<Grid.Column with={16}>\r\n\t\t\t\t\t\t\t\t<Comment.Group>\r\n\t\t\t\t\t\t\t\t\t<Header as='h3' dividing>\r\n\t\t\t\t\t\t\t\t\t\tКомментарии\r\n\t\t\t\t\t\t\t\t\t</Header>\r\n\t\t\t\t\t\t\t\t\t{comments.map(c => (\r\n\t\t\t\t\t\t\t\t\t\t<div key={c.id} className='event-details__comment'>\r\n\t\t\t\t\t\t\t\t\t\t\t{!this.state[`comment_${c.id}`] ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Comment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Comment.Avatar src={c.avatar} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Comment.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Comment.Author href='/test' as='a'>{c.user_fullname}</Comment.Author>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Comment.Metadata>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>{formatDate(new Date(c.date))}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Comment.Metadata>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Comment.Text>{c.message}</Comment.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{cur_user_id === c.user_id && <Comment.Actions>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Comment.Action onClick={() => this.handeShowEditCommentForm(c.id, c.message)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon name='pencil' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tРедактировать\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Comment.Action>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Comment.Action onClick={() => removeComment(id, c.id)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon name='remove' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tУдалить\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Comment.Action>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Comment.Actions>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Comment.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Comment>\r\n\t\t\t\t\t\t\t\t\t\t\t): (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form className='event-details__form' reply onSubmit={(e) => this.handleSubmitComment(e, c.id)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.TextArea\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`commentValue_${c.id}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state[`commentValue_${c.id}`]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeComment}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize='mini'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent='Отменить'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelPosition='left'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon= 'remove'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsecondary\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfloated='right'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => this.handleCancelEditComment(e, c.id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize='mini'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent='Cохранить'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelPosition='left'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon= 'edit'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tprimary\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfloated='right'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t{!isEditCommentNow && <Form reply onSubmit={this.handleSubmitNewComment}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.TextArea name='comment' value={comment} onChange={this.handleChangeNewComment}/>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize='tiny'\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={comment.trim() === ''}\r\n\t\t\t\t\t\t\t\t\t\t\tcontent='Добавить комментарий'\r\n\t\t\t\t\t\t\t\t\t\t\tlabelPosition='left'\r\n\t\t\t\t\t\t\t\t\t\t\ticon='edit'\r\n\t\t\t\t\t\t\t\t\t\t\tprimary\r\n\t\t\t\t\t\t\t\t\t\t\tfloated='right'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Form>}\r\n\t\t\t\t\t\t\t\t\t</Comment.Group>\r\n\t\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Segment>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn state.eventDetails;\r\n};\r\n\r\nconst mapDispatchProps = (dispatch, ownProps) => {\r\n\tconst { match } = ownProps;\r\n\treturn {\r\n\t\tloadEvent: () => dispatch(getEventDetails(match.params.permalink)),\r\n\t\tacceptParticipiantStatus: (userId) => dispatch(setParticipiantStatus(userId, true)),\r\n\t\trejectParticipiantStatus: (userId) => dispatch(setParticipiantStatus(userId, false)),\r\n\t\tremoveComment: (eventId, commentId) => dispatch(removeComment(eventId, commentId)),\r\n\t\tsubmitNewComment: (eventId, message) => dispatch(addComment(eventId, message)),\r\n\t\tsubmitComment: (eventId, commentId, message) => dispatch(editComment(eventId, commentId, message)),\r\n\t\tonRespondParticipiant: () => dispatch(respondParticipiant()),\r\n\t\tonRefuseParticipiant: () => dispatch(refuseParticipiant()),\r\n\t\tonResolveEvent: () => dispatch(resolveEvent()),\r\n\t\tonRejectEvent: () => dispatch(rejectEvent()),\r\n\t\tonCompleteEvent: () => dispatch(completeEvent())\r\n\t}\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchProps)(EventDetails));","export { default } from './eventDetails';"],"sourceRoot":""}