{"version":3,"sources":["ui/pages/home/event/Event.js","ui/components/search-bar/SearchBar.js","ui/pages/home/filters/index.js","ui/pages/home/instruction.js","ui/pages/home/index.js","ui/enhancers/lazyLoad.js","ui/routes/index.js","ui/app.js","index.js","ui/pages/home/filters/reducer.js","ui/pages/home/reducer.js","ui/pages/event/eventReducer.js","ui/pages/details-event/eventDetailsReducer.js","ui/rootReducer.js","store/configureStore.prod.js","ui/utils/formatDate.js","ui/pages/details-event/eventDetails.js","ui/pages/details-event/index.js","ui/utils/createRemoteActions.js","ui/utils/toBoolean.js","ui/utils/uuid.js","ui/pages/details-event/mock.js","ui/pages/details-event/eventDetailsActions.js","ui/pages/home/filters/filtersActions.js","utils/uuid.js","servers.js","config.js","ui/pages/event/eventActions.js","ui/pages/event/Event.js","ui/pages/event/index.js","store/index.js","ui/pages/home/homeActions.js"],"names":["Event","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","like_count","is_liked","toBoolean","handleLike","bind","assertThisInitialized","e","preventDefault","self","path","url","createPath","server_name","action_name","axios","method","data","JSON","stringify","id","then","resp","setState","count","catch","console","error","message","_this$props","title","short_desc","subject_id","city","img","max_person_count","cur_person_count","start_date","cost","event_admin_fullname","event_admin_avatar","address","comments_count","_this$state","isLikedClass","cs","mdl-button--colored","react_default","a","createElement","react_router_dom","defineProperty","className","to","concat","style","background","marginBottom","Date","toLocaleDateString","year","month","day","hour","minute","Popup","inverted","size","trigger","backgroundImage","paddingRight","onClick","position","right","Icon","name","color","display","alignItems","marginRight","Component","SearchBar","handleChange","handleSearch","value","nextProps","target","onChange","keyCode","onSearch","classNameInput","onKeyDown","type","placeholder","children","withRouter","connect","_state$home","home","user","statuses","cities","affilations","subjects","_statuses","filter","s","roles","indexOf","user_role","objectSpread","ui","filters","dispatch","onChangeStatus","event","changePage","changeStatus","search","onChangeSearch","changeSearch","onChangePage","activePage","onChangeSubject","changeSubject","onChangeCity","changeCity","onChangeAffilation","changeAffilation","_ref","page","pagesCount","status","subject","affilation","history","Grid","columns","Column","width","search_bar_SearchBar","Dropdown","selection","options","floated","Button","icon","labelPosition","push","Pagination","firstItem","content","lastItem","prevItem","nextItem","totalPages","onPageChange","Instruction","instruction","onClose","Modal","open","closeIcon","Header","Content","scrolling","Description","Segment","basic","dangerouslySetInnerHTML","__html","Home","handleCloseInstruction","isShowInstruction","loadData","events","storage","len","length","home_filters","isLoading","Dimmer","active","Loader","isFirstVisit","home_instruction","map","event_Event","assign","key","Inline","positive","clear","getInitialData","clearFields","LazyLoad","load","comp","forceUpdate","lazyLoad","dynamicImport","lazyLoad_LazyLoad","routes","component","exact","Promise","resolve","reject","require","default","App","route","react_router","store","configureStore","ReactDOM","render","es","basename","hashType","app","document","getElementById","initialState","reducer","combineReducers","arguments","undefined","action","constants","GET_INITIAL_DATA_SUCCESS","payload","_action$payload","cur_user_id","c","text","toConsumableArray","filter_list","status_list","homeConstatns","CLEAR_FIELDS","CHANGE_SEARCH","CHANGE_PAGE","CHANGE_STATUS","CHANGE_SUBJECT","CHANGE_CITY","CHANGE_AFFILATION","INITIAL_LOADING","uiReducer","NEW_EVENT_LOADING","commentsReducer","REMOVE_EVENT_DETAILS_COMMENT_SUCCESS","commentId","ADD_EVENT_DETAILS_COMMENT_SUCCESS","EDIT_EVENT_DETAILS_COMMENT_SUCCESS","collaboratorsReducer","SET_EVENT_DETAILS_PARTICIPANT_STATUS_SUCCESS","isConfirm","is_confirm","userId","RESPOND_EVENT_DETAILS_PARTICIPANT_SUCCESS","REFUSE_EVENT_DETAILS_PARTICIPANT_SUCCESS","EVENT_DETAILS_LOADING","homeReducer","long_desc","finish_date","city_id","img_name","prevFileId","GET_EVENT_CREATE_SUCCESS","substring","lastIndexOf","NEW_EVENT_CHANGE_FILE_NAME","NEW_EVENT_CHANGE_TITLE","NEW_EVENT_CHANGE_DESCRIPTION","NEW_EVENT_CHANGE_SHORT_DESCRIPTION","NEW_EVENT_CHANGE_START_DATE","NEW_EVENT_CHANGE_FINISH_DATE","NEW_EVENT_CHANGE_CITY","NEW_EVENT_CHANGE_ADDRESS","NEW_EVENT_CHANGE_SUBJECT","NEW_EVENT_CHANGE_MAX_PERSONS","NEW_EVENT_CHANGE_COST","eventDetails","collaborators","comments","admins","GET_EVENT_DETAILS_INITIAL_DATA_SUCCESS","EVENT_DETAILS_SET_STATUS","status_id","status_name","createStore","reducers","applyMiddleware","thunkMiddleware","__webpack_require__","d","__webpack_exports__","formateDate","date","EventDetails","comment","isEditCommentNow","isShowRejectedModal","rejectReason","handleChangeNewComment","handleSubmitNewComment","handleChangeComment","handleSubmitComment","handeShowEditCommentForm","handleCancelEditComment","handleTargetShowRejectedEvent","handleRejectEvent","handleChangeRejectReason","onRejectEvent","_this$setState2","_ref2","_this$setState5","submitComment","_this$props2","submitNewComment","_this$props3","onResolveEvent","onCompleteEvent","buttons","isAdmin","Group","as","floating","Menu","Item","primary","loadEvent","_this2","_this$props4","event_admin_id","event_admin_position","_this$props5","acceptParticipiantStatus","rejectParticipiantStatus","removeComment","onRespondParticipiant","onRefuseParticipiant","styles","_adminButtons","formatDate","Row","dividing","Card","fluid","Image","avatar","src","Meta","extra","find","parseInt","List","divided","verticalAlign","index","Or","fullname","with","Comment","Form","reply","onSubmit","TextArea","secondary","Avatar","Author","href","user_id","user_fullname","Metadata","Text","Actions","Action","disabled","trim","rows","ownProps","match","getEventDetails","params","permalink","setParticipiantStatus","eventId","addComment","editComment","respondParticipiant","refuseParticipiant","resolveEvent","rejectEvent","completeEvent","createAction","D_wt_projects_otp_events_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","createRemoteActions","actions","prototype","toString","Array","isArray","Error","reduce","f","reducedAction","lodash__WEBPACK_IMPORTED_MODULE_0__","str","isBoolean","lut","i","phone_number","email","loading","get","log","getState","accept","comment_id","axios__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_0___default","n","_config__WEBPACK_IMPORTED_MODULE_1__","_homeActions__WEBPACK_IMPORTED_MODULE_2__","homeConstants","servers","Server","srv","d0","Math","random","d1","d2","d3","uuid","addActions","_actions","getId","getName","getActions","wtCustomBaseUrl","TypeError","server","addServer","getServerId","serverName","actionName","_servers","inputObj","serverId","keys","k","join","D_wt_projects_otp_events_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","onChangeFileName","fname","onChangeTitle","onChangeDescription","onChangeShortDescription","onChangeStartDate","onChangeFinishDate","onChangeAddress","onChangeMaxPersons","isNaN","onChangeCost","saveEvent","form","FormData","getData","setDefaultLocale","isShowWarning","fileName","formRef","React","createRef","handleSave","onChangeRawStartDate","onChangeRawFinishDate","handleChangeFile","dateFormat","lastIndex","_isFormFilled","onSaveEvent","moment","isValid","goBack","Message","attached","header","encType","Field","readOnly","required","Label","Input","minHeight","inline","locale","ru","selected","showTimeSelect","timeIntervals","timeFormat","timeCaption","placeholderText","onChangeRaw","disabledKeyboardNavigation","widths","upward","warning","bindActionCreators","module","exports","isFV","_storage","window","sessionStorage","localStorage","getItem","setItem","dataInstr"],"mappings":"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","file":"static/js/main.ab4b58dc.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Popup, Icon } from 'semantic-ui-react'\r\nimport cs from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport { url } from '../../../../config';\r\nimport toBoolean from '../../../utils/toBoolean';\r\n\r\nimport './eventOfList.css';\r\n\r\nclass Event extends Component {\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tlike_count: props.like_count,\r\n\t\t\tis_liked: toBoolean(props.is_liked)\r\n\t\t}\r\n\t\tthis.handleLike = this.handleLike.bind(this);\r\n\t}\r\n\r\n\thandleLike(e) {\r\n\t\te.preventDefault();\r\n\t\tconst self = this;\r\n\r\n\t\tconst path = url.createPath({\r\n\t\t\tserver_name: 'events',\r\n\t\t\taction_name: 'Like'\r\n\t\t});\r\n\r\n\t\taxios({\r\n\t\t\tmethod: 'post',\r\n\t\t\turl: path,\r\n\t\t\tdata: JSON.stringify({\r\n\t\t\t\tid: this.props.id\r\n\t\t\t})\r\n\t\t})\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.data;\r\n\t\t}).then(data => {\r\n\t\t\tself.setState({\r\n\t\t\t\tlike_count: data.count,\r\n\t\t\t\tis_liked: !self.state.is_liked\r\n\t\t\t})\r\n\t\t}).catch(e => {\r\n\t\t\tconsole.error(e.message);\r\n\t\t});\r\n\t}\r\n\r\n\trender(){\r\n\t\tconst {\r\n\t\t\tid,\r\n\t\t\ttitle,\r\n\t\t\tshort_desc,\r\n\t\t\tsubject_id,\r\n\t\t\tcity,\r\n\t\t\timg,\r\n\t\t\tmax_person_count,\r\n\t\t\tcur_person_count,\r\n\t\t\tstart_date,\r\n\t\t\tcost,\r\n\t\t\tevent_admin_fullname,\r\n\t\t\tevent_admin_avatar,\r\n\t\t\taddress,\r\n\t\t\tcomments_count\r\n\t\t} = this.props;\r\n\r\n\t\tconst { like_count, is_liked } = this.state;\r\n\r\n\t\tconst isLikedClass = cs({\r\n\t\t\t'mdl-button--colored': is_liked\r\n\t\t});\r\n\t\treturn (\r\n\t\t\t<Link className='event-of-list' to={`/event/details/${id}`}\r\n\t\t\t\tclassName='mdl-cell mdl-cell--4-col mdl-card mdl-shadow--2dp otp-news otp-news__link'\r\n\t\t\t>\r\n\t\t\t\t<div className='mdl-card__title'>\r\n\t\t\t\t\t<div className='mdl-card__subtitle-text otp-event__type'>{subject_id}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName='mdl-card__media mdl-card__media--h-140 mdl-color--grey-500'\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tbackground: `url(${img}) center/cover no-repeat`\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tstyle={{marginBottom: 0}}\r\n\t\t\t\t\t\tclassName='mdl-color--light-blue-900 mdl-color-text--white otp-card__media-label otp-event__date'>\r\n\t\t\t\t\t\t{city}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span className='mdl-color--primary mdl-color-text--white otp-card__media-label otp-event__date'>\r\n\t\t\t\t\t\t{new Date(start_date).toLocaleDateString('ru-RU', {year: 'numeric', month: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric'})}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<div className='event-of-list__lectors'>\r\n\t\t\t\t\t\t<Popup inverted size='mini' trigger={\r\n\t\t\t\t\t\t\t<div className='event-of-list__lector' style={{\r\n\t\t\t\t\t\t\t\tbackgroundImage: `url(${event_admin_avatar})`\r\n\t\t\t\t\t\t\t}} />\r\n\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t{event_admin_fullname}\r\n\t\t\t\t\t\t</Popup>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='mdl-card__title' style={{ paddingRight: '60px' }}>\r\n\t\t\t\t\t<div className='mdl-card__subtitle-text otp-event__place'>{address}</div>\r\n\t\t\t\t\t<div className='mdl-card__title-text otp-event__name'>{title}&nbsp;</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='mdl-card__supporting-text mdl-card--expand otp-event__comment'>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<i>{short_desc}</i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='mdl-card__actions mdl-card--border'>\r\n\t\t\t\t\t<div className='otp-action__item'>\r\n\t\t\t\t\t\t<button onClick={this.handleLike} className={`mdl-button mdl-button--icon otp-news__like-button ${isLikedClass}`}>\r\n\t\t\t\t\t\t\t<i className='material-icons mdl-18 otp-action__icon'>thumb_up</i>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<span className='otp-action__label otp-news__like'>{like_count}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='otp-action__item'>\r\n\t\t\t\t\t\t<i className='material-icons mdl-18 otp-action__icon'>forum</i>\r\n\t\t\t\t\t\t<span className='otp-action__label otp-news__comment-count'>{comments_count}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='otp-action__item' style={{\r\n\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\tright: 0\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\t{cost == 0 ?\r\n\t\t\t\t\t\t\t<span className='otp-color--black-hint'></span> :\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<Icon name='ruble sign' color='grey'/>\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tclassName='otp-action__label otp-news__comment-count otp-color--black-hint'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{cost}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/*<div className='mdl-card__actions'>\r\n\t\t\t\t\t<Link to={`/event/details/${id}`} className='mdl-button mdl-button--colored otp-event__link'></Link>\r\n\t\t\t\t\t<div className='mdl-layout-spacer'></div>\r\n\t\t\t\t</div>*/}\r\n\t\t\t\t<div className='mdl-card__menu'>\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclassName='otp-color--black-hint'\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\talignItems: 'center'}}\r\n\t\t\t\t\t\ttitle=' '\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{max_person_count == 0 ?\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t</span> :\r\n\t\t\t\t\t\t\t<span style={{\r\n\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\talignItems: 'center'}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<i className='material-icons' style={{marginRight: '4px'}}>group</i>\r\n\t\t\t\t\t\t\t\t<b className='otp-event__count'>{cur_person_count} / {max_person_count}</b>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</Link>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\nexport default Event;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './search-bar.css';\r\n\r\nclass SearchBar extends Component {\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t\tthis.handleSearch = this.handleSearch.bind(this);\r\n\t\tthis.state = {\r\n\t\t\tvalue: props.value || ''\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps){\r\n\t\tif (this.props.value !== nextProps.value){\r\n\t\t\tthis.setState({ value: nextProps.value });\r\n\t\t}\r\n\t}\r\n\r\n\thandleChange(e){\r\n\t\tthis.setState({ value: e.target.value });\r\n\t\tif (this.props.onChange){\r\n\t\t\tthis.props.onChange(e.target.value);\r\n\t\t}\r\n\t}\r\n\r\n\thandleSearch(e){\r\n\t\tif (e.keyCode === 13 && this.props.onSearch){\r\n\t\t\tthis.props.onSearch(e.target.value);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst className = this.props.className ? this.props.className : '';\r\n\t\tconst classNameInput = this.props.classNameInput ? this.props.classNameInput : '';\r\n\t\treturn (\r\n\t\t\t<div className={`search-box ${  className}`}>\r\n\t\t\t\t<input\r\n\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\tonKeyDown={this.handleSearch}\r\n\t\t\t\t\tclassName={`search-box__search-input ${  classNameInput}`}\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tvalue={this.state.value}\r\n\t\t\t\t\tplaceholder='...'\r\n\t\t\t\t/>\r\n\t\t\t\t<i className='search-box__search-icon material-icons'>search</i>\r\n\t\t\t\t{this.props.children}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nSearchBar.propTypes = {\r\n\tvalue: PropTypes.string,\r\n\tclassName: PropTypes.string,\r\n\tclassNameInput: PropTypes.string,\r\n\tonSearch: PropTypes.func,\r\n\tonChange: PropTypes.func\r\n};\r\n\r\nexport default SearchBar;","import React, { Component } from 'react';\r\nimport SearchBar from '../../../components/search-bar';\r\nimport { Grid, Search, Dropdown, Button, Icon, Pagination } from 'semantic-ui-react';\r\n//import { ButtonSuccess, ButtonWarning, ButtonInfo, ButtonDanger } from '../../../components/button';\r\nimport { changeStatus, changeSearch, changePage, changeSubject, changeCity, changeAffilation, search, statuses } from './filtersActions';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\n\r\nimport './filters.css';\r\n\r\nconst Filters = ({\r\n\tonChangeStatus,\r\n\tonChangeSearch,\r\n\tonChangeSubject,\r\n\tonChangeCity,\r\n\tonChangeAffilation,\r\n\tfilter,\r\n\tsearch,\r\n\tpage,\r\n\tpagesCount,\r\n\tonChangePage,\r\n\tstatus,\r\n\tsubject,\r\n\tcity,\r\n\tcities,\r\n\taffilation,\r\n\taffilations,\r\n\tsubjects,\r\n\tstatuses,\r\n\thistory,\r\n\tchildren\r\n}) => {\r\n\t//const { ALL, SELF, PLAN } = visibilityFilters;\r\n\treturn (\r\n\t\t<div className='filters'>\r\n\t\t\t<Grid className='filters__menu' columns='equal'>\r\n\t\t\t\t<Grid.Column width={3}>\r\n\t\t\t\t\t<SearchBar\r\n\t\t\t\t\t\tclassNameInput='filters__search-bar'\r\n\t\t\t\t\t\tonChange={ onChangeSearch }\r\n\t\t\t\t\t\tonSearch={ filter }\r\n\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t\t<Grid.Column width={11}>\r\n\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\tclassName='filters__dropdown'\r\n\t\t\t\t\t\tselection\r\n\t\t\t\t\t\toptions={affilations}\r\n\t\t\t\t\t\tonChange={onChangeAffilation}\r\n\t\t\t\t\t\tvalue={affilation}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\tclassName='filters__dropdown'\r\n\t\t\t\t\t\tplaceholder=' '\r\n\t\t\t\t\t\tsearch\r\n\t\t\t\t\t\tselection\r\n\t\t\t\t\t\toptions={cities}\r\n\t\t\t\t\t\tonChange={onChangeCity}\r\n\t\t\t\t\t\tvalue={city}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\tclassName='filters__dropdown'\r\n\t\t\t\t\t\tplaceholder=' '\r\n\t\t\t\t\t\tselection\r\n\t\t\t\t\t\toptions={subjects}\r\n\t\t\t\t\t\tonChange={onChangeSubject}\r\n\t\t\t\t\t\tvalue={subject}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\tclassName='filters__dropdown'\r\n\t\t\t\t\t\tplaceholder=' '\r\n\t\t\t\t\t\tselection\r\n\t\t\t\t\t\toptions={statuses}\r\n\t\t\t\t\t\tonChange={onChangeStatus}\r\n\t\t\t\t\t\tvalue={status}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t{/*<Button\r\n\t\t\t\t\t\tcolor='green'\r\n\t\t\t\t\t\tactive={status === ALL}\r\n\t\t\t\t\t\tonClick={() => onChangeStatus(ALL)}\r\n\r\n\t\t\t\t\t></Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor='yellow'\r\n\t\t\t\t\t\tactive={status === SELF}\r\n\t\t\t\t\t\tonClick={() => onChangeStatus(SELF)}\r\n\t\t\t\t\t></Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor='blue'\r\n\t\t\t\t\t\tactive={status === PLAN}\r\n\t\t\t\t\t\tonClick={() => onChangeStatus(PLAN)}\r\n\t\t\t\t\t></Button>*/}\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t\t<Grid.Column floated='right'>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tsize='tiny'\r\n\t\t\t\t\t\tclassName='filters__button filters__create-event'\r\n\t\t\t\t\t\tcolor='red'\r\n\t\t\t\t\t\ticon\r\n\t\t\t\t\t\tlabelPosition='left'\r\n\t\t\t\t\t\tonClick={() => history.push('/event/new')}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Icon name='pencil alternate' />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t</Grid>\r\n\t\t\t{children}\r\n\t\t\t<Pagination\r\n\t\t\t\tclassName='filters__pagination'\r\n\t\t\t\tactivePage={page}\r\n\t\t\t\tfirstItem={{ content: <Icon name='angle double left' />, icon: true }}\r\n\t\t\t\tlastItem={{ content: <Icon name='angle double right' />, icon: true }}\r\n\t\t\t\tprevItem={{ content: <Icon name='angle left' />, icon: true }}\r\n\t\t\t\tnextItem={{ content: <Icon name='angle right' />, icon: true }}\r\n\t\t\t\ttotalPages={pagesCount}\r\n\t\t\t\tonPageChange={onChangePage}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\tconst { user, statuses, cities, affilations, subjects } = state.home;\r\n\r\n\tconst _statuses = statuses.filter(s => {\r\n\t\treturn s.roles.indexOf(user.user_role) !== -1;\r\n\t});\r\n\r\n\treturn {\r\n\t\tcities,\r\n\t\taffilations,\r\n\t\tsubjects,\r\n\t\tstatuses: _statuses,\r\n\t\t...state.home.ui.filters\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tonChangeStatus: (event, data) => {\r\n\t\t\tdispatch(changePage(1));\r\n\t\t\tdispatch(changeStatus(data.value));\r\n\t\t\tdispatch(search());\r\n\t\t},\r\n\t\tonChangeSearch: (value) => {\r\n\t\t\tdispatch(changeSearch(value));\r\n\t\t},\r\n\t\tonChangePage: (event, data) => {\r\n\t\t\tdispatch(changePage(data.activePage));\r\n\t\t\tdispatch(search());\r\n\t\t},\r\n\t\tonChangeSubject: (event, data) => {\r\n\t\t\tdispatch(changePage(1));\r\n\t\t\tdispatch(changeSubject(data.value));\r\n\t\t\tdispatch(search());\r\n\t\t},\r\n\t\tonChangeCity: (event, data) => {\r\n\t\t\tdispatch(changePage(1));\r\n\t\t\tdispatch(changeCity(data.value));\r\n\t\t\tdispatch(search());\r\n\t\t},\r\n\t\tonChangeAffilation: (event, data) => {\r\n\t\t\tdispatch(changePage(1));\r\n\t\t\tdispatch(changeAffilation(data.value));\r\n\t\t\tdispatch(search());\r\n\t\t},\r\n\t\tfilter: () => {\r\n\t\t\tdispatch(changePage(1));\r\n\t\t\tdispatch(search());\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Filters));","import React from 'react';\r\nimport { Modal, Segment } from 'semantic-ui-react';\r\n\r\nconst Instruction = ({ instruction, onClose }) => {\r\n\treturn (\r\n\t\t<Modal size='large' open closeIcon onClose={onClose} style={{\r\n\t\t\tposition: 'relative'\r\n\t\t}}>\r\n\t\t\t<Modal.Header></Modal.Header>\r\n\t\t\t<Modal.Content  scrolling>\r\n\t\t\t\t<Modal.Description>\r\n\t\t\t\t\t<Segment basic dangerouslySetInnerHTML={{ __html: instruction }} />\r\n\t\t\t\t</Modal.Description>\r\n\t\t\t</Modal.Content>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n\r\nexport default Instruction;","import React, { Component } from 'react';\r\nimport Event from './event';\r\nimport { Segment, Header, Icon, Button, Dimmer, Loader } from 'semantic-ui-react';\r\nimport Filters from './filters';\r\nimport Instruction from './instruction';\r\nimport { connect } from 'react-redux';\r\nimport { getInitialData } from './homeActions';\r\nimport { clearFields } from './filters/filtersActions';\r\n\r\nimport './home.css';\r\n\r\nclass Home extends Component {\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.handleCloseInstruction = this.handleCloseInstruction.bind(this);\r\n\r\n\t\tthis.state = {\r\n\t\t\tisShowInstruction: true\r\n\t\t}\r\n\t}\r\n\r\n\thandleCloseInstruction(){\r\n\t\tthis.setState({\r\n\t\t\tisShowInstruction: false\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\tthis.props.loadData();\r\n\t}\r\n\r\n\trender(){\r\n\t\tconst { isShowInstruction } = this.state;\r\n\t\tconst { events, ui, storage, user } = this.props;\r\n\t\tconst len = events.length;\r\n\r\n\t\treturn (\r\n\t\t\t<div className='home'>\r\n\t\t\t\t<Filters>\r\n\t\t\t\t\t<div className='clearfix' />\r\n\t\t\t\t\t<div className='mdl-grid mdl-grid--no-spacing'>\r\n\t\t\t\t\t\t<div className='mdl-cell mdl-cell--12-col-desktop'>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tui.isLoading ? (\r\n\t\t\t\t\t\t\t\t\t<Dimmer active inverted>\r\n\t\t\t\t\t\t\t\t\t\t<Loader inverted>Loading</Loader>\r\n\t\t\t\t\t\t\t\t\t</Dimmer>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t(storage.isFirstVisit && isShowInstruction) ? (\r\n\t\t\t\t\t\t\t\t\t\t<Instruction instruction={user.instruction} onClose={this.handleCloseInstruction}/>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div className='mdl-grid'>\r\n\t\t\t\t\t\t\t\t\t\t\t{len > 0 ?\r\n\t\t\t\t\t\t\t\t\t\t\t\tevents.map(e => <Event key={e.id} {...e}/>)\r\n\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Segment className='home__not-found' placeholder>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Header icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon name='search' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       {\"    \"} :(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Header>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Segment.Inline>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize='tiny'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpositive\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.props.clear}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t> </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Segment.Inline>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Segment>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Filters>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = ( state ) => {\r\n\treturn { ...state.home };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tloadData: () => {\r\n\t\t\tdispatch(getInitialData());\r\n\t\t},\r\n\t\tclear: () => {\r\n\t\t\tdispatch(clearFields());\r\n\t\t\tdispatch(getInitialData());\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","import React, { Component } from 'react';\r\nimport { object } from 'prop-types';\r\n\r\nclass LazyLoad extends Component {\r\n\t\r\n\tcomponentWillMount() {\r\n\t\tconst self = this;\r\n\t\tthis.props.load.then(comp => {\r\n\t\t\tself.comp = comp;\r\n\t\t\tself.forceUpdate();\r\n\t\t});\r\n\t}\r\n\trender() {\r\n\t\tconst Component = this.comp;\r\n\t\treturn Component ? <Component /> : null;\r\n\t}\r\n}\r\n\r\nLazyLoad.propTypes = {\r\n\tload: object\r\n};\r\n\r\nexport default (dynamicImport) => () => (\r\n\t<LazyLoad load={ dynamicImport() } />\r\n);","import Home from '../pages/home';\r\nimport { lazyLoad } from '../enhancers';\r\n\r\nconst routes = [\r\n\t{\r\n\t\tpath: '/',\r\n\t\tcomponent: Home,\r\n\t\texact: true\r\n\t},\r\n\t{\r\n\t\tpath: '/event/details/:permalink',\r\n\t\tcomponent: lazyLoad(() => new Promise((resolve, reject) => {\r\n\t\t\tresolve(require('../pages/details-event').default)\r\n\t\t})),\r\n\t\texact: true\r\n\t},\r\n\t{\r\n\t\tpath: '/event/edit/:permalink',\r\n\t\tcomponent: lazyLoad(() => new Promise((resolve, reject) => {\r\n\t\t\tresolve(require('../pages/event').default)\r\n\t\t})),\r\n\t\texact: true\r\n\t},\r\n\t{\tpath: '/event/new',\r\n\t\tcomponent: lazyLoad(() => new Promise((resolve, reject) => {\r\n\t\t\tresolve(require('../pages/event').default)\r\n\t\t})),\r\n\t\texact: true\r\n\t}\r\n];\r\n\r\nexport default routes;","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport routes from './routes';\r\n\r\nconst App = () => (\r\n\t<div>\r\n\t\t{ routes.map(route => (\r\n\t\t\t<Route key={ route.path } { ...route } />\r\n\t\t)) }\r\n\t</div>\r\n);\r\n\r\nexport default App;","import 'react-app-polyfill/ie9';\r\nimport 'react-app-polyfill/stable';\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { HashRouter as Router } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport App from './ui/app';\r\nimport configureStore from './store';\r\nimport './css/material.font.css';\r\nimport './css/material.min.css';\r\nimport './css/global.css';\r\n\r\nimport 'semantic-ui-css/semantic.min.css';\r\n\r\nconst store = configureStore();\r\n\r\nconst render = () => (\r\n\t<Provider store={store}>\r\n\t\t<Router basename='/home' hashType='noslash'>\r\n\t\t\t<App />\r\n\t\t</Router>\r\n\t</Provider>\r\n);\r\n\r\nReactDOM.render(render(), document.getElementById('root'));\r\n\r\n\r\n","import { constants } from './filtersActions';\r\nimport { constants as homeConstatns } from '../homeActions';\r\n\r\nconst initialState = {\r\n\tsearch: '',\r\n\tpage: 1,\r\n\tpagesCount: 1,\r\n\tstatus: 'all',\r\n\tsubject: 'all',\r\n\tcity: 'all',\r\n\taffilation: 'all',\r\n\tui: {\r\n\t\tisLoading: false\r\n\t}\r\n}\r\n\r\nexport default function reducer(state = initialState, action) {\r\n\tswitch(action.type) {\r\n\r\n\t\tcase homeConstatns.GET_INITIAL_DATA_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpagesCount: action.payload.pagesCount\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.CLEAR_FIELDS: {\r\n\t\t\treturn {\r\n\t\t\t\t...initialState\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.CHANGE_SEARCH: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsearch: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.CHANGE_PAGE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpage: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.CHANGE_STATUS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstatus: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.CHANGE_SUBJECT: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsubject: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.CHANGE_CITY: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcity: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.CHANGE_AFFILATION: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\taffilation: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdefault: return state;\r\n\t}\r\n}","import { constants } from './homeActions';\r\nimport { combineReducers } from 'redux';\r\nimport filtersReducer from './filters/reducer';\r\n\r\nfunction statusReducer(state=[], action){\r\n\tswitch(action.type) {\r\n\r\n\t\tcase constants.GET_INITIAL_DATA_SUCCESS: {\r\n\t\t\tlet { status_list } = action.payload;\r\n\r\n\t\t\tstatus_list = status_list.map(s => ({\r\n\t\t\t\ttext: s.title,\r\n\t\t\t\tvalue: s.id,\r\n\t\t\t\t...s\r\n\t\t\t}));\r\n\t\t\treturn [{\r\n\t\t\t\t\tvalue: 'all',\r\n\t\t\t\t\ttext: ' ',\r\n\t\t\t\t\troles: ['admin', 'event_admin', 'user']\r\n\t\t\t\t}, \r\n\t\t\t\t...status_list\r\n\t\t\t]\r\n\t\t}\r\n\t\tdefault: return state;\r\n\t}\r\n}\r\n\r\nfunction citiesReducer(state=[], action){\r\n\tswitch(action.type) {\r\n\r\n\t\tcase constants.GET_INITIAL_DATA_SUCCESS: {\r\n\t\t\tlet { cities } = action.payload;\r\n\r\n\t\t\tcities = cities.map(c => ({\r\n\t\t\t\ttext: c.name,\r\n\t\t\t\tvalue: c.id\r\n\t\t\t}));\r\n\t\t\treturn [{\r\n\t\t\t\t\tvalue: 'all',\r\n\t\t\t\t\ttext: ' '\r\n\t\t\t\t}, \r\n\t\t\t\t...cities\r\n\t\t\t]\r\n\t\t}\r\n\t\tdefault: return state;\r\n\t}\r\n}\r\n\r\nfunction affilationsReducer(state=[], action){\r\n\tswitch(action.type) {\r\n\r\n\t\tcase constants.GET_INITIAL_DATA_SUCCESS: {\r\n\t\t\tlet { filter_list } = action.payload;\r\n\r\n\t\t\tconst affilations = filter_list.map(a => ({\r\n\t\t\t\ttext: a.title,\r\n\t\t\t\tvalue: a.id\r\n\t\t\t}));\r\n\t\t\treturn affilations;\r\n\t\t}\r\n\t\tdefault: return state;\r\n\t}\r\n}\r\n\r\nfunction subjectsReducer(state=[], action){\r\n\tswitch(action.type) {\r\n\r\n\t\tcase constants.GET_INITIAL_DATA_SUCCESS: {\r\n\t\t\tlet { subjects } = action.payload;\r\n\r\n\t\t\tsubjects = subjects.map(s => ({\r\n\t\t\t\ttext: s,\r\n\t\t\t\tvalue: s\r\n\t\t\t}));\r\n\t\t\treturn [{\r\n\t\t\t\t\tvalue: 'all',\r\n\t\t\t\t\ttext: ' '\r\n\t\t\t\t}, \r\n\t\t\t\t...subjects\r\n\t\t\t]\r\n\t\t}\r\n\t\tdefault: return state;\r\n\t}\r\n}\r\n\r\nfunction storageReducer(state={\r\n\tisFirstVisit: false\r\n}, action){\r\n\tswitch(action.type) {\r\n\t\tcase constants.GET_INITIAL_DATA_SUCCESS: {\r\n\t\t\tconst { isFirstVisit } = action.payload;\r\n\t\t\treturn {\r\n\t\t\t\tisFirstVisit\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdefault: return state;\r\n\t}\r\n}\r\n\r\nfunction userReducer(state={}, action){\r\n\tswitch(action.type) {\r\n\t\tcase constants.GET_INITIAL_DATA_SUCCESS: {\r\n\t\t\tconst { cur_user_id, user_role, instruction } = action.payload;\r\n\t\t\treturn {\r\n\t\t\t\tcur_user_id,\r\n\t\t\t\tuser_role,\r\n\t\t\t\tinstruction\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdefault: return state;\r\n\t}\r\n}\r\n\r\nfunction eventsReducer(state=[], action){\r\n\tswitch(action.type) {\r\n\r\n\t\tcase constants.GET_INITIAL_DATA_SUCCESS: {\r\n\t\t\treturn action.payload.events;\r\n\t\t}\r\n\r\n\t\tdefault: return state;\r\n\t}\r\n}\r\n\r\nfunction loadingReducer(state = false, action){\r\n\tswitch(action.type) {\r\n\r\n\t\tcase constants.INITIAL_LOADING: {\r\n\t\t\treturn action.payload;\r\n\t\t}\r\n\r\n\t\tdefault: return state;\r\n\t}\r\n}\r\n\r\nconst reducer = combineReducers({\r\n\tstorage: storageReducer,\r\n\tuser: userReducer,\r\n\tcities: citiesReducer,\r\n\taffilations: affilationsReducer,\r\n\tsubjects: subjectsReducer,\r\n\tstatuses: statusReducer,\r\n\tevents: eventsReducer,\r\n\tui: combineReducers({\r\n\t\tfilters: filtersReducer,\r\n\t\tisLoading: loadingReducer\r\n\t})\r\n});\r\n\r\nexport default reducer;","import { constants } from './eventActions';\r\n\r\nfunction uiReducer(state = {\r\n\tisLoading: false\r\n}, action){\r\n\tswitch(action.type) {\r\n\r\n\t\tcase constants.NEW_EVENT_LOADING: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdefault: return state;\r\n\t}\r\n}\r\n\r\nexport default function eventNewReducer(state = {\r\n\tid: '',\r\n\ttitle: '',\r\n\tlong_desc: '',\r\n\tshort_desc: '',\r\n\tstart_date: new Date(),\r\n\tfinish_date: new Date(),\r\n\tcity: '',\r\n\tcity_id: '',\r\n\taddress: '',\r\n\tsubject_id: '',\r\n\tmax_person_count: 0,\r\n\tcost: 0,\r\n\tcities: [],\r\n\tsubjects: [],\r\n\timg: '',\r\n\timg_name: '',\r\n\tprevFileId: '',\r\n\tui: {\r\n\t\tisLoading: false\r\n\t}\r\n}, action){\r\n\tswitch(action.type) {\r\n\r\n\t\tcase constants.GET_EVENT_CREATE_SUCCESS: {\r\n\t\t\tlet { cities, subjects } = action.payload;\r\n\t\t\tcities = cities.map(c => ({\r\n\t\t\t\ttext: c.name,\r\n\t\t\t\tvalue: c.id\r\n\t\t\t}));\r\n\r\n\t\t\tsubjects = subjects.map(s => ({\r\n\t\t\t\ttext: s,\r\n\t\t\t\tvalue: s\r\n\t\t\t}));\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload,\r\n\t\t\t\tprevFileId: action.payload.img ? \r\n\t\t\t\t\taction.payload.img.substring(action.payload.img.lastIndexOf('=') + 1, action.payload.img.length) : '',\r\n\t\t\t\tstart_date: action.payload.start_date ? new Date(action.payload.start_date): new Date(),\r\n\t\t\t\tfinish_date: action.payload.finish_date ? new Date(action.payload.finish_date): new Date(),\r\n\t\t\t\tcities,\r\n\t\t\t\tsubjects\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.NEW_EVENT_CHANGE_FILE_NAME: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\timg_name: action.payload,\r\n\t\t\t\tprevFileId: ''\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.NEW_EVENT_CHANGE_TITLE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttitle: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.NEW_EVENT_CHANGE_DESCRIPTION: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlong_desc: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.NEW_EVENT_CHANGE_SHORT_DESCRIPTION: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tshort_desc: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.NEW_EVENT_CHANGE_START_DATE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstart_date: action.payload\r\n\t\t\t}\t\r\n\t\t}\r\n\r\n\t\tcase constants.NEW_EVENT_CHANGE_FINISH_DATE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfinish_date: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.NEW_EVENT_CHANGE_CITY: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcity_id: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.NEW_EVENT_CHANGE_ADDRESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\taddress: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.NEW_EVENT_CHANGE_SUBJECT: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsubject_id: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.NEW_EVENT_CHANGE_MAX_PERSONS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmax_person_count: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.NEW_EVENT_CHANGE_COST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcost: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.NEW_EVENT_LOADING: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tui: uiReducer(state.ui, action)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdefault: return state;\r\n\t}\r\n}","import { constants } from './eventDetailsActions';\r\nimport { combineReducers } from 'redux';\r\n\r\nfunction commentsReducer(state=[], action){\r\n\tswitch(action.type){\r\n\t\tcase constants.REMOVE_EVENT_DETAILS_COMMENT_SUCCESS: {\r\n\t\t\treturn state.filter(c => c.id !== action.payload.commentId);\r\n\t\t}\r\n\r\n\t\tcase constants.ADD_EVENT_DETAILS_COMMENT_SUCCESS: {\r\n\t\t\treturn state.concat([ {\r\n\t\t\t\t...action.payload\r\n\t\t\t} ])\r\n\t\t}\r\n\r\n\t\tcase constants.EDIT_EVENT_DETAILS_COMMENT_SUCCESS: {\r\n\t\t\treturn state.map(c => {\r\n\t\t\t\t\tif (c.id === action.payload.commentId){\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t...c,\r\n\t\t\t\t\t\t\tmessage: action.payload.message\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn c;\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\tdefault: return state;\r\n\t}\r\n}\r\n\r\nfunction collaboratorsReducer(state=[], action) {\r\n\tswitch (action.type) {\r\n\t\tcase constants.SET_EVENT_DETAILS_PARTICIPANT_STATUS_SUCCESS: {\r\n\t\t\tif (action.payload.isConfirm){\r\n\t\t\t\treturn state.map(c => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...c,\r\n\t\t\t\t\t\tis_confirm: c.id == action.payload.userId ? true : c.is_confirm\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn state.filter(c => {\r\n\t\t\t\t\treturn c.id != action.payload.userId\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.RESPOND_EVENT_DETAILS_PARTICIPANT_SUCCESS: {\r\n\t\t\treturn state.concat([action.payload]);\r\n\t\t}\r\n\r\n\t\tcase constants.REFUSE_EVENT_DETAILS_PARTICIPANT_SUCCESS: {\r\n\t\t\treturn state.filter(c => c.id !== action.payload.id);\r\n\t\t}\r\n\t\t\r\n\t\tdefault: return state;\r\n\t}\r\n}\r\n\r\nfunction uiReducer(state = {\r\n\tisLoading: false\r\n}, action){\r\n\tswitch(action.type) {\r\n\r\n\t\tcase constants.EVENT_DETAILS_LOADING: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdefault: return state;\r\n\t}\r\n}\r\n\r\nexport default function eventDetailsReducer(state={\r\n\tcollaborators: [],\r\n\tcomments: [],\r\n\tadmins: [],\r\n\tui: {\r\n\t\tisLoading: false\r\n\t}\r\n}, action){\r\n\tswitch(action.type) {\r\n\r\n\t\tcase constants.GET_EVENT_DETAILS_INITIAL_DATA_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.EVENT_DETAILS_SET_STATUS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstatus_id: action.payload.status_id,\r\n\t\t\t\tstatus_name: action.payload.status_name\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.REFUSE_EVENT_DETAILS_PARTICIPANT_SUCCESS:\r\n\t\tcase constants.RESPOND_EVENT_DETAILS_PARTICIPANT_SUCCESS:\r\n\t\tcase constants.SET_EVENT_DETAILS_PARTICIPANT_STATUS_SUCCESS: {\r\n\r\n\t\t\tconst newState = {\r\n\t\t\t\t...state,\r\n\t\t\t\tcollaborators: collaboratorsReducer(state.collaborators, action)\r\n\t\t\t}\r\n\r\n\t\t\treturn newState;\r\n\t\t}\r\n\r\n\t\tcase constants.REMOVE_EVENT_DETAILS_COMMENT_SUCCESS:\r\n\t\tcase constants.ADD_EVENT_DETAILS_COMMENT_SUCCESS:\r\n\t\tcase constants.EDIT_EVENT_DETAILS_COMMENT_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcomments: commentsReducer(state.comments, action) \r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase constants.EVENT_DETAILS_LOADING: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tui: uiReducer(state.ui, action)\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault: return state;\r\n\t}\r\n}","import { combineReducers } from 'redux';\r\nimport homeReducer from './pages/home/reducer';\r\nimport eventReducer from './pages/event/eventReducer';\r\nimport eventDetailsReducer from './pages/details-event/eventDetailsReducer';\r\n\r\nconst reducer = combineReducers({\r\n\thome: homeReducer,\r\n\tevent: eventReducer,\r\n\teventDetails: eventDetailsReducer\r\n});\r\n\r\nexport default reducer;\r\n\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport reducers from '../ui/rootReducer';\r\n\r\nexport default function configureStore(){\r\n\tconst store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\treturn store;\r\n}","export default function formateDate(date){\r\n\treturn date\r\n\t\t.toLocaleDateString(\r\n\t\t\t'ru-RU',\r\n\t\t\t{ year: 'numeric', month: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric'}\r\n\t\t);\r\n}","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n\tgetEventDetails,\r\n\tsetParticipiantStatus,\r\n\tremoveComment,\r\n\taddComment,\r\n\teditComment,\r\n\trespondParticipiant,\r\n\trefuseParticipiant,\r\n\tresolveEvent,\r\n\trejectEvent,\r\n\tcompleteEvent\r\n} from './eventDetailsActions';\r\nimport {\r\n\tIcon,\r\n\tSegment,\r\n\tHeader,\r\n\tItem,\r\n\tImage,\r\n\tGrid,\r\n\tCard,\r\n\tList,\r\n\tButton,\r\n\tComment,\r\n\tForm,\r\n\tDimmer,\r\n\tLoader,\r\n\tDropdown,\r\n\tLabel,\r\n\tModal\r\n} from 'semantic-ui-react';\r\nimport formatDate from '../../utils/formatDate';\r\nimport toBoolean from '../../utils/toBoolean';\r\nimport { find } from 'lodash';\r\n\r\nimport './event-details.css';\r\n\r\nclass EventDetails extends Component {\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tcomment: '',\r\n\t\t\tisEditCommentNow: false,\r\n\t\t\tisShowRejectedModal: false,\r\n\t\t\trejectReason: ''\r\n\t\t}\r\n\r\n\t\tthis.handleChangeNewComment = this.handleChangeNewComment.bind(this);\r\n\t\tthis.handleSubmitNewComment = this.handleSubmitNewComment.bind(this);\r\n\t\tthis.handleChangeComment = this.handleChangeComment.bind(this);\r\n\t\tthis.handleSubmitComment = this.handleSubmitComment.bind(this);\r\n\t\tthis.handeShowEditCommentForm = this.handeShowEditCommentForm.bind(this);\r\n\t\tthis.handleCancelEditComment = this.handleCancelEditComment.bind(this);\r\n\t\tthis.handleTargetShowRejectedEvent = this.handleTargetShowRejectedEvent.bind(this);\r\n\t\tthis.handleRejectEvent = this.handleRejectEvent.bind(this);\r\n\t\tthis.handleChangeRejectReason = this.handleChangeRejectReason.bind(this);\r\n\t}\r\n\r\n\thandleChangeRejectReason(e) {\r\n\t\tthis.setState({\r\n\t\t\trejectReason: e.target.value\r\n\t\t});\r\n\t}\r\n\r\n\thandleRejectEvent(){\r\n\t\tthis.handleTargetShowRejectedEvent();\r\n\t\tthis.props.onRejectEvent(this.state.rejectReason);\r\n\t}\r\n\r\n\thandleTargetShowRejectedEvent(){\r\n\t\tthis.setState({\r\n\t\t\tisShowRejectedModal: !this.state.isShowRejectedModal\r\n\t\t});\r\n\t}\r\n\r\n\thandleChangeNewComment(e, { name, value }) {\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t}\r\n\r\n\thandeShowEditCommentForm(commentId, message) {\r\n\t\tthis.setState({\r\n\t\t\t[`comment_${commentId}`]: true,\r\n\t\t\t[`commentValue_${commentId}`]: message,\r\n\t\t\tisEditCommentNow: true\r\n\t\t});\r\n\t}\r\n\r\n\thandleCancelEditComment(e, commentId){\r\n\t\te.preventDefault();\r\n\t\tthis.setState({\r\n\t\t\t[`comment_${commentId}`]: false\r\n\t\t})\r\n\t}\r\n\r\n\thandleChangeComment(e, { name, value }) {\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t}\r\n\r\n\thandleSubmitComment(e, commentId) {\r\n\t\tconst { submitComment, id } = this.props;\r\n\r\n\t\te.preventDefault();\r\n\t\tsubmitComment(id, commentId, this.state[`commentValue_${commentId}`]);\r\n\t\tthis.setState({\r\n\t\t\t[`comment_${commentId}`]: false,\r\n\t\t\tisEditCommentNow: false\r\n\t\t});\r\n\t}\r\n\r\n\thandleSubmitNewComment(e) {\r\n\t\tconst { submitNewComment, id } = this.props;\r\n\r\n\t\te.preventDefault();\r\n\t\tsubmitNewComment(id, this.state.comment);\r\n\t\tthis.setState({\r\n\t\t\tcomment: ''\r\n\t\t});\r\n\t}\r\n\r\n\t_adminButtons(){\r\n\t\tconst { id, status_id, onResolveEvent, onRejectEvent, onCompleteEvent, history, user_role } = this.props;\r\n\t\tconst buttons = [];\r\n\t\tconst isEventAdmin = user_role === 'event_admin';\r\n\t\tconst isAdmin = user_role === 'admin';\r\n\r\n\t\tif (isAdmin || isEventAdmin){\r\n\t\t\tif (status_id === 'project' || status_id === 'plan'){\r\n\t\t\t\tbuttons.push(\r\n\t\t\t\t\t<Button.Group color='teal' className='event-details__reject' key={2}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tas={Button}\r\n\t\t\t\t\t\t\tfloating\r\n\t\t\t\t\t\t\ttext='C '\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Dropdown.Menu size='small'>\r\n\t\t    \t\t\t\t\t{isAdmin ?\r\n\t\t    \t\t\t\t\t\t<Dropdown.Item text='' icon='close' onClick={this.handleTargetShowRejectedEvent}/> :\r\n\t\t    \t\t\t\t\t\t<Dropdown.Item text='' icon='close' onClick={() => onRejectEvent('')}/>\r\n\t\t    \t\t\t\t\t}\r\n\t\t    \t\t\t\t\t{status_id === 'plan' && <Dropdown.Item icon='minus' text='' onClick={onCompleteEvent}/>}\r\n\t\t    \t\t\t\t</Dropdown.Menu>\r\n\t\t    \t\t\t</Dropdown>\r\n\t    \t\t\t\t\r\n\t    \t\t\t</Button.Group>,\r\n\t\t\t\t\t<Button key={3}\r\n\t\t\t\t\t\tclassName='event-details__reject'\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\tcolor='red'\r\n\t\t\t\t\t\tonClick={() => history.push(`/event/edit/${id}`)}\r\n\t\t\t\t\t\ticon='pencil alternate'\r\n\t\t\t\t\t\tcontent=''\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (isAdmin && status_id === 'project'){\r\n\t\t\t\t\tbuttons.push(\r\n\t\t\t\t\t\t<Button key={1}\r\n\t\t\t\t\t\t\tclassName='event-details__resolve'\r\n\t\t\t\t\t\t\tsize='mini'\r\n\t\t\t\t\t\t\tprimary\r\n\t\t\t\t\t\t\tonClick={onResolveEvent}\r\n\t\t\t\t\t\t\ticon='check'\r\n\t\t\t\t\t\t\tcontent=''\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn buttons;\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\tthis.props.loadEvent();\r\n\t}\r\n\r\n\trender(){\r\n\t\tconst {\r\n\t\t\tui,\r\n\t\t\thistory,\r\n\t\t\tid,\r\n\t\t\tcur_user_id,\r\n\t\t\tadmins,\r\n\t\t\tstatus_id,\r\n\t\t\tstatus_name,\r\n\t\t\ttitle,\r\n\t\t\tlong_desc,\r\n\t\t\timg,\r\n\t\t\tmax_person_count,\r\n\t\t\tcur_person_count,\r\n\t\t\tstart_date,\r\n\t\t\tfinish_date,\r\n\t\t\tcost,\r\n\t\t\tevent_admin_id,\r\n\t\t\tevent_admin_fullname,\r\n\t\t\tevent_admin_avatar,\r\n\t\t\tevent_admin_position,\r\n\t\t\taddress,\r\n\t\t\tlike_count,\r\n\t\t\tcollaborators,\r\n\t\t\tcomments\r\n\t\t} = this.props;\r\n\r\n\t\tconst {\r\n\t\t\tacceptParticipiantStatus,\r\n\t\t\trejectParticipiantStatus,\r\n\t\t\tremoveComment,\r\n\t\t\tonRespondParticipiant,\r\n\t\t\tonRefuseParticipiant\r\n\t\t} = this.props;\r\n\t\tconst { comment, isEditCommentNow, isShowRejectedModal, rejectReason } = this.state;\r\n\r\n\t\tconst styles = img ? { backgroundImage: `url(${img})` } : {};\r\n\r\n\t\tif (ui.isLoading){\r\n\t\t\treturn (\r\n\t\t\t\t<Dimmer active inverted>\r\n\t\t\t\t\t<Loader inverted>Loading</Loader>\r\n\t\t\t\t</Dimmer>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className='event-details'>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tclassName='event-details__back'\r\n\t\t\t\t\tsize='small'\r\n\t\t\t\t\tprimary\r\n\t\t\t\t\ticon\r\n\t\t\t\t\tlabelPosition='left'\r\n\t\t\t\t\tonClick={() => history.push('/')}\r\n\t\t\t\t>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Icon name='arrow left' />\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button.Group className='event-details__admin-buttons' size='mini'>\r\n\t\t\t\t\t{this._adminButtons()}\r\n\t\t\t\t</Button.Group>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName='mdl-layout__header mdl-layout__header--scroll otp-layout__header otp-layout__header--transparent mdl-color--grey-400 mdl-shadow--4dp'\r\n\t\t\t\t\tstyle={styles}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className='mdl-layout__title otp-layout__title'>\r\n\t\t\t\t\t\t<div className='event-details__status'>\r\n\t\t\t\t\t\t\t{status_name}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='otp-layout__title-text mdl-typography--display-1'>\r\n\t\t\t\t\t\t\t<span className='event-details__title'>{title}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='otp-layout__subtitle'>\r\n\t\t\t\t\t\t\t {formatDate(new Date(start_date))}  {formatDate(new Date(finish_date))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Segment basic>\r\n\t\t\t\t\t<Grid>\r\n\t\t\t\t\t\t<Grid.Row>\r\n\t\t\t\t\t\t\t<Grid.Column width={8}>\r\n\t\t\t\t\t\t\t\t<Header as='h2' dividing></Header>\r\n\t\t\t\t\t\t\t\t<Card fluid>\r\n\t\t\t\t\t\t\t\t\t<Card.Content>\r\n\t\t\t\t\t\t\t\t\t\t<Image avatar floated='left' size='massive' src={event_admin_avatar} />\r\n\t\t\t\t\t\t\t\t\t\t<Card.Header>{event_admin_fullname}</Card.Header>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Meta>{event_admin_position}</Card.Meta>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Description>\r\n\t\t\t\t\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{__html: long_desc}} />\r\n\t\t\t\t\t\t\t\t\t\t</Card.Description>\r\n\t\t\t\t\t\t\t\t\t</Card.Content>\r\n\t\t\t\t\t\t\t\t\t<Card.Content extra>\r\n\t\t\t\t\t\t\t\t\t{cost != 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Icon name='ruble sign' color='grey'/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{cost}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{status_id === 'plan' && \r\n\t\t\t\t\t\t\t\t\t\t(find(collaborators, { id: cur_user_id }) ?\r\n\t\t\t\t\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t\t\t\t \t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfloated='right'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize='tiny'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbasic\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='red'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={onRefuseParticipiant}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t \t<span>{(collaborators.length < parseInt(max_person_count, 10) || max_person_count == 0) && <Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfloated='right'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize='tiny'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbasic\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='blue'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={onRespondParticipiant}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</Card.Content>\r\n\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t\t\t<Grid.Column width={8}>\r\n\t\t\t\t\t\t\t\t<Header as='h2' dividing> {\r\n\t\t\t\t\t\t\t\t\tmax_person_count == 0 ? ` (${collaborators.length})` :\r\n\t\t\t\t\t\t\t\t\t`${collaborators.length} / ${max_person_count}`\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</Header>\r\n\t\t\t\t\t\t\t\t<List divided verticalAlign='middle'>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tcollaborators.map((c, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<List.Item key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{(event_admin_id === cur_user_id && status_id === 'plan') ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<List.Content floated='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{!toBoolean(c.is_confirm) ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button.Group size='mini'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon='add'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='green'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => acceptParticipiantStatus(c.id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button.Or text=' | '/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon='minus'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='red'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => rejectParticipiantStatus(c.id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t): (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon name='check' color='green' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</List.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t): (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<List.Content floated='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{toBoolean(c.is_confirm) ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon name='check' color='green' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t): (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span> </span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</List.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Image avatar src={c.avatar} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<List.Content>{c.fullname}</List.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t\t\t<Grid.Row>\r\n\t\t\t\t\t\t\t<Grid.Column with={16}>\r\n\t\t\t\t\t\t\t\t<Comment.Group>\r\n\t\t\t\t\t\t\t\t\t<Header as='h3' dividing>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Header>\r\n\t\t\t\t\t\t\t\t\t{comments.map(c => (\r\n\t\t\t\t\t\t\t\t\t\t<div key={c.id} className='event-details__comment'>\r\n\t\t\t\t\t\t\t\t\t\t\t{!this.state[`comment_${c.id}`] ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Comment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Comment.Avatar src={c.avatar} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Comment.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Comment.Author href={`/view_doc.html?mode=collaborator&object_id=${c.user_id}`} as='a'>{c.user_fullname}</Comment.Author>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Comment.Metadata>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>{formatDate(new Date(c.date))}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Comment.Metadata>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Comment.Text>{c.message}</Comment.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(cur_user_id === c.user_id && status_id === 'plan') &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Comment.Actions>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Comment.Action onClick={() => this.handeShowEditCommentForm(c.id, c.message)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon name='pencil' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Comment.Action>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Comment.Action onClick={() => removeComment(id, c.id)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon name='remove' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Comment.Action>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Comment.Actions>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Comment.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Comment>\r\n\t\t\t\t\t\t\t\t\t\t\t): (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form className='event-details__form' reply onSubmit={(e) => this.handleSubmitComment(e, c.id)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.TextArea\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`commentValue_${c.id}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state[`commentValue_${c.id}`]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeComment}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize='mini'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent=''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelPosition='left'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon= 'remove'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsecondary\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfloated='right'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => this.handleCancelEditComment(e, c.id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize='mini'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent='C'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelPosition='left'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon= 'edit'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tprimary\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfloated='right'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t{!isEditCommentNow && (status_id !== 'cancel' && status_id !== 'project') && <Form reply onSubmit={this.handleSubmitNewComment}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.TextArea name='comment' value={comment} onChange={this.handleChangeNewComment}/>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize='tiny'\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={comment.trim() === ''}\r\n\t\t\t\t\t\t\t\t\t\t\tcontent=' '\r\n\t\t\t\t\t\t\t\t\t\t\tlabelPosition='left'\r\n\t\t\t\t\t\t\t\t\t\t\ticon='edit'\r\n\t\t\t\t\t\t\t\t\t\t\tprimary\r\n\t\t\t\t\t\t\t\t\t\t\tfloated='right'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Form>}\r\n\t\t\t\t\t\t\t\t\t</Comment.Group>\r\n\t\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Segment>\r\n\t\t\t\t{isShowRejectedModal && <Modal\r\n\t\t\t\t\tsize='small'\r\n\t\t\t\t\topen\r\n\t\t\t\t\tcloseIcon\r\n\t\t\t\t\tonClose={this.handleTargetShowRejectedEvent}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tposition: 'relative'\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Modal.Header> </Modal.Header>\r\n\t\t\t\t\t<Modal.Content>\r\n\t\t\t\t\t\t<Modal.Description>\r\n\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t\t\t\tclassName='event-details__reject-event-textarea'\r\n\t\t\t\t\t\t\t\tplaceholder='  '\r\n\t\t\t\t\t\t\t\tonChange={this.handleChangeRejectReason}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Modal.Description>\r\n\t\t\t\t\t</Modal.Content>\r\n\t\t\t\t\t<Modal.Actions>\r\n\t\t\t\t\t\t<Button disabled={rejectReason.trim() === ''} primary onClick={this.handleRejectEvent}>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Modal.Actions>\r\n\t\t\t\t</Modal>}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn state.eventDetails;\r\n};\r\n\r\nconst mapDispatchProps = (dispatch, ownProps) => {\r\n\tconst { match } = ownProps;\r\n\treturn {\r\n\t\tloadEvent: () => dispatch(getEventDetails(match.params.permalink)),\r\n\t\tacceptParticipiantStatus: (userId) => dispatch(setParticipiantStatus(userId, true)),\r\n\t\trejectParticipiantStatus: (userId) => dispatch(setParticipiantStatus(userId, false)),\r\n\t\tremoveComment: (eventId, commentId) => dispatch(removeComment(eventId, commentId)),\r\n\t\tsubmitNewComment: (eventId, message) => dispatch(addComment(eventId, message)),\r\n\t\tsubmitComment: (eventId, commentId, message) => dispatch(editComment(eventId, commentId, message)),\r\n\t\tonRespondParticipiant: () => dispatch(respondParticipiant()),\r\n\t\tonRefuseParticipiant: () => dispatch(refuseParticipiant()),\r\n\t\tonResolveEvent: () => dispatch(resolveEvent()),\r\n\t\tonRejectEvent: (value) => dispatch(rejectEvent(value)),\r\n\t\tonCompleteEvent: () => dispatch(completeEvent())\r\n\t}\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchProps)(EventDetails));","export { default } from './eventDetails';","const createAction = action => {\r\n\treturn {\r\n\t\t[action]: action,\r\n\t\t[`${action}_SUCCESS`]: `${action}_SUCCESS`,\r\n\t\t[`${action}_FAILURE`]: `${action}_FAILURE`\r\n\t}\r\n}\r\n\r\nexport default function createRemoteActions(actions){\r\n\tif (Object.prototype.toString.call(actions) === '[object String]') {\r\n\t\tactions = [actions];\r\n\t}\r\n\r\n\tif (!Array.isArray(actions)){\r\n\t\tthrow new Error('Unknown input arguments!');\r\n\t}\r\n\r\n\treturn actions.reduce((f,s) => {\r\n\t\tconst reducedAction = createAction(s);\r\n\t\treturn Object.assign(f, reducedAction);\r\n\t}, {});\r\n}","import { isBoolean } from 'lodash';\r\n\r\nexport default function toBoolean(str){\r\n\tif (isBoolean(str)) return str;\r\n\r\n\tif (str === 'true') return true;\r\n\telse if (str === 'false') return false;\r\n\r\n\treturn false;\r\n}","const lut = [];\r\n\r\nfor (let i = 0; i < 256; i++) {\r\n\tlut[i] = (i < 16 ? '0' : '') + (i).toString(16);\r\n}\r\n\r\nexport default function uuid(){\r\n\tconst d0 = Math.random() * 0xffffffff | 0;\r\n\tconst d1 = Math.random() * 0xffffffff | 0;\r\n\tconst d2 = Math.random() * 0xffffffff | 0;\r\n\tconst d3 = Math.random() * 0xffffffff | 0;\r\n\t\r\n\treturn lut[d0 & 0xff] + lut[d0 >> 8 & 0xff] + lut[d0 >> 16 & 0xff] + lut[d0 >> 24 & 0xff] + '-' +\r\n\t\tlut[d1 & 0xff] + lut[d1 >> 8 & 0xff] + '-' + lut[d1 >> 16 & 0x0f | 0x40] + lut[d1 >> 24 & 0xff] + '-' +\r\n\t\tlut[d2 & 0x3f | 0x80] + lut[d2 >> 8 & 0xff] + '-' + lut[d2 >> 16 & 0xff] + lut[d2 >> 24 & 0xff] +\r\n\t\tlut[d3 & 0xff] + lut[d3 >> 8 & 0xff] + lut[d3 >> 16 & 0xff] + lut[d3 >> 24 & 0xff];\r\n}","import { find, findIndex } from 'lodash';\r\nimport uuid from '../../utils/uuid';\r\n\r\n\r\nconst events = [\r\n\t{\r\n\t\t\"id\": \"6668962976716051403\",\r\n\t\t\"cur_user_id\": \"6148914691236517121\",\r\n\t\t\"user_role\": \"admin\",\r\n\t\t\"title\": \"    \",\r\n\t\t\"status_name\": \"\",\r\n\t\t\"status_id\": \"plan\",\r\n\t\t\"long_desc\": \"  &nbsp;   ,   &quot;&quot;.     ,     &nbsp;      .\",\r\n\t\t\"img\": \"/download_file.html?file_id=6668970663716716859\",\r\n\t\t\"max_person_count\": \"25\",\r\n\t\t\"start_date\": \"Sat, 01 Jun 2019 16:00:00 +0300\",\r\n\t\t\"finish_date\": \"Sat, 01 Jun 2019 19:00:00 +0300\",\r\n\t\t\"cost\": \"150000\",\r\n\t\t\"city_id\": \"5667697629116916688\",\r\n\t\t\"city\": \"\",\r\n\t\t\"subject_id\": \"\",\r\n\t\t\"address\": \". ,  , 9\",\r\n\t\t\"phone_number\": \"84967281726\",\r\n\t\t\"email\": \"user_019@gmail.com\",\r\n\t\t\"event_admin_id\": \"6671630922937078440\",\r\n\t\t\"event_admin_fullname\": \"  \",\r\n\t\t\"event_admin_position\": \" \",\r\n\t\t\"event_admin_avatar\": \"/download_file.html?file_id=6671631649276712429\",\r\n\t\t\"like_count\": \"3\",\r\n\t\t\"collaborators\": [\r\n\t\t{\r\n\t\t  \"id\": \"6671537774053763818\",\r\n\t\t  \"fullname\": \"  \",\r\n\t\t  \"is_confirm\": \"true\",\r\n\t\t  \"avatar\": \"/download_file.html?file_id=6671538400859850742\"\r\n\t\t},\r\n\t\t{\r\n\t\t  \"id\": \"6671536515542115698\",\r\n\t\t  \"fullname\": \"  \",\r\n\t\t  \"is_confirm\": \"true\",\r\n\t\t  \"avatar\": \"/download_file.html?file_id=6671537379586870665\"\r\n\t\t},\r\n\t\t{\r\n\t\t  \"id\": \"6670724707302122721\",\r\n\t\t  \"fullname\": \"  \",\r\n\t\t  \"is_confirm\": \"true\",\r\n\t\t  \"avatar\": \"/download_file.html?file_id=6669106315989699280\"\r\n\t\t},\r\n\t\t{\r\n\t\t  \"id\": \"6148914691236517121\",\r\n\t\t  \"fullname\": \"  \",\r\n\t\t  \"is_confirm\": \"false\",\r\n\t\t  \"avatar\": \"/download_file.html?file_id=6671540961322951686\"\r\n\t\t}\r\n\t\t],\r\n\t\t\"comments\": [\r\n\t\t{\r\n\t\t  \"id\": \"6677220343771366295\",\r\n\t\t  \"user_id\": \"6148914691236517121\",\r\n\t\t  \"avatar\": \"/download_file.html?file_id=6671540961322951686\",\r\n\t\t  \"user_fullname\": \"  \",\r\n\t\t  \"date\": \"Sun, 07 Apr 2019 21:25:10 +0300\",\r\n\t\t  \"message\": \"fsfs\"\r\n\t\t}\r\n\t\t],\r\n\t\t\"cities\": [\r\n\t\t{\r\n\t\t  \"id\": \"5667697629116916643\",\r\n\t\t  \"name\": \"\"\r\n\t\t},\r\n\t\t{\r\n\t\t  \"id\": \"5667697629116916644\",\r\n\t\t  \"name\": \"\"\r\n\t\t},\r\n\t\t{\r\n\t\t  \"id\": \"5667697629116916645\",\r\n\t\t  \"name\": \"\"\r\n\t\t},\r\n\t\t{\r\n\t\t  \"id\": \"5667697629116916646\",\r\n\t\t  \"name\": \"\"\r\n\t\t},\r\n\t\t{\r\n\t\t  \"id\": \"5667697629116916647\",\r\n\t\t  \"name\": \"\"\r\n\t\t},\r\n\t\t{\r\n\t\t  \"id\": \"5667697629116916648\",\r\n\t\t  \"name\": \"\"\r\n\t\t},\r\n\t\t{\r\n\t\t  \"id\": \"5667697629116916649\",\r\n\t\t  \"name\": \"\"\r\n\t\t}\r\n\t\t],\r\n\t\t\"subjects\": [\r\n\t\t\t\"\",\r\n\t\t\t\"\",\r\n\t\t\t\"\",\r\n\t\t\t\", \",\r\n\t\t\t\"\",\r\n\t\t\t\"\"\r\n\t\t]\r\n\t}\r\n]\r\n\r\nconst data = events[0];\r\n\r\nexport function setParticipiantStatusMock(eventId, userId, isConfirm){\r\n\tconst event = find(events, { id: eventId });\r\n\tif (event){\r\n\t\tconst index = findIndex(event.collaborators, { id: userId });\r\n\t\tif (index !== -1){\r\n\t\t\tif (isConfirm){\r\n\t\t\t\tevent.collaborators[index].is_confirm = isConfirm;\r\n\t\t\t} else {\r\n\t\t\t\tevent.collaborators.splice(index, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function setCommentMock(eventId, commentId, message){\r\n\tconst event = find(events, { id: eventId });\r\n\tif (event){\r\n\t\tif (commentId !== null && commentId !== undefined) {\r\n\t\t\tconst comment = find(event.comments, { id: commentId });\r\n\t\t\tif (comment) {\r\n\t\t\t\tcomment.message = message;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst newComment = {\r\n\t\t\t\t\"id\": uuid(),\r\n\t\t\t\t\"user_id\": uuid(),\r\n\t\t\t\t\"avatar\": \"/download_file.html?file_id=6669106315989699280\",\r\n\t\t\t\t\"user_fullname\": \"  \",\r\n\t\t\t\t\"date\": new Date(),\r\n\t\t\t\t\"message\": message\r\n\t\t\t};\r\n\t\t\tevent.comments = event.comments.concat([newComment]);\r\n\t\t\treturn newComment;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function removeCommentMock(eventId, commentId){\r\n\tconst event = find(events, { id: eventId });\r\n\tif (event){\r\n\t\tconst index = findIndex(event.comments, { id: commentId });\r\n\t\tif (index !== -1){\r\n\t\t\tevent.comments.splice(index, 1);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default data;","import axios from 'axios';\r\nimport { url } from '../../../config';\r\nimport createRemoteActions from '../../utils/createRemoteActions';\r\nimport mock, { setParticipiantStatusMock, removeCommentMock, setCommentMock } from './mock';\r\n\r\nexport const constants = {\r\n\t...createRemoteActions([\r\n\t\t'GET_EVENT_DETAILS_INITIAL_DATA',\r\n\t\t'SET_EVENT_DETAILS_PARTICIPANT_STATUS',\r\n\t\t'REMOVE_EVENT_DETAILS_COMMENT',\r\n\t\t'ADD_EVENT_DETAILS_COMMENT',\r\n\t\t'EDIT_EVENT_DETAILS_COMMENT',\r\n\t\t'RESPOND_EVENT_DETAILS_PARTICIPANT',\r\n\t\t'REFUSE_EVENT_DETAILS_PARTICIPANT'\r\n\t]),\r\n\t'EVENT_DETAILS_SET_STATUS': 'EVENT_DETAILS_SET_STATUS',\r\n\t'EVENT_DETAILS_LOADING': 'EVENT_DETAILS_LOADING'\r\n}\r\n\r\nfunction loading(isLoading){\r\n\treturn {\r\n\t\ttype: constants.EVENT_DETAILS_LOADING,\r\n\t\tpayload: isLoading\r\n\t}\r\n}\r\n\r\nexport function getEventDetails(id){\r\n\treturn dispatch => {\r\n\t\tconst path = url.createPath({\r\n\t\t\tserver_name: 'events',\r\n\t\t\taction_name: 'EventData',\r\n\t\t\tid\r\n\t\t});\r\n\r\n\t\tdispatch(loading(true));\r\n\t\taxios.get(path)\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.data;\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\tif (data.error){\r\n\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\tconsole.log(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tdispatch(loading(false));\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: constants.GET_EVENT_DETAILS_INITIAL_DATA_SUCCESS,\r\n\t\t\t\t\tpayload: data\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}).catch(e => {\r\n\t\t\t//dispatch(error(e.message));\r\n\t\t\tconsole.log(e.message);\r\n\t\t});\r\n\r\n\r\n\t\t\r\n\t\t/*dispatch(loading(true));\r\n\t\tsetTimeout(() => {\r\n\t\t\tdispatch(loading(false));\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: constants.GET_EVENT_DETAILS_INITIAL_DATA_SUCCESS,\r\n\t\t\t\tpayload: { ...mock }\r\n\t\t\t});\r\n\t\t}, 300);*/\r\n\t}\r\n}\r\n\r\nexport function resolveEvent(){\r\n\treturn (dispatch, getState) => {\r\n\t\tconst { eventDetails } = getState();\r\n\r\n\t\tconst path = url.createPath({\r\n\t\t\tserver_name: 'events',\r\n\t\t\taction_name: 'ResolveEvent'\r\n\t\t});\r\n\r\n\t\taxios({\r\n\t\t\tmethod: 'post',\r\n\t\t\turl: path,\r\n\t\t\tdata: JSON.stringify({\r\n\t\t\t\tid: eventDetails.id\r\n\t\t\t})\r\n\t\t})\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.data;\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\tif (data.error){\r\n\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\tconsole.log(data.error);\r\n\t\t\t} else {\r\n\t\t\t\t/*dispatch({\r\n\t\t\t\t\ttype: constants.RESOLVE_EVENT_DETAILS_SUCCESS,\r\n\t\t\t\t\tpayload: data.status_id\r\n\t\t\t\t});*/\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: constants.EVENT_DETAILS_SET_STATUS,\r\n\t\t\t\t\tpayload: data\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}).catch(e => {\r\n\t\t\t//dispatch(error(e.message));\r\n\t\t\tconsole.log(e.message);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport function completeEvent(){\r\n\treturn (dispatch, getState) => {\r\n\t\tconst { eventDetails } = getState();\r\n\r\n\t\tconst path = url.createPath({\r\n\t\t\tserver_name: 'events',\r\n\t\t\taction_name: 'CompleteEvent'\r\n\t\t});\r\n\r\n\r\n\t\taxios({\r\n\t\t\tmethod: 'post',\r\n\t\t\turl: path,\r\n\t\t\tdata: JSON.stringify({\r\n\t\t\t\tid: eventDetails.id\r\n\t\t\t})\r\n\t\t})\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.data;\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\tif (data.error){\r\n\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\tconsole.log(data.error);\r\n\t\t\t} else {\r\n\t\t\t\t/*dispatch({\r\n\t\t\t\t\ttype: constants.REJECT_EVENT_DETAILS_SUCCESS,\r\n\t\t\t\t\tpayload: data\r\n\t\t\t\t});*/\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: constants.EVENT_DETAILS_SET_STATUS,\r\n\t\t\t\t\tpayload: data\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}).catch(e => {\r\n\t\t\t//dispatch(error(e.message));\r\n\t\t\tconsole.log(e.message);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport function rejectEvent(value){\r\n\treturn (dispatch, getState) => {\r\n\t\tconst { eventDetails } = getState();\r\n\r\n\t\tconst path = url.createPath({\r\n\t\t\tserver_name: 'events',\r\n\t\t\taction_name: 'RejectEvent'\r\n\t\t});\r\n\r\n\t\taxios({\r\n\t\t\tmethod: 'post',\r\n\t\t\turl: path,\r\n\t\t\tdata: JSON.stringify({\r\n\t\t\t\tid: eventDetails.id,\r\n\t\t\t\tvalue: value\r\n\t\t\t})\r\n\t\t})\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.data;\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\tif (data.error){\r\n\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\tconsole.log(data.error);\r\n\t\t\t} else {\r\n\t\t\t\t/*dispatch({\r\n\t\t\t\t\ttype: constants.REJECT_EVENT_DETAILS_SUCCESS,\r\n\t\t\t\t\tpayload: data\r\n\t\t\t\t});*/\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: constants.EVENT_DETAILS_SET_STATUS,\r\n\t\t\t\t\tpayload: data\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}).catch(e => {\r\n\t\t\t//dispatch(error(e.message));\r\n\t\t\tconsole.log(e.message);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport function respondParticipiant() {\r\n\treturn (dispatch, getState) => {\r\n\t\tconst { eventDetails } = getState();\r\n\r\n\t\tconst path = url.createPath({\r\n\t\t\tserver_name: 'events',\r\n\t\t\taction_name: 'NewParticipiant'\r\n\t\t});\r\n\r\n\t\taxios({\r\n\t\t\tmethod: 'post',\r\n\t\t\turl: path,\r\n\t\t\tdata: JSON.stringify({\r\n\t\t\t\tid: eventDetails.id\r\n\t\t\t})\r\n\t\t})\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.data;\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\tif (data.error){\r\n\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\tconsole.log(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: constants.RESPOND_EVENT_DETAILS_PARTICIPANT_SUCCESS,\r\n\t\t\t\t\tpayload: data\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}).catch(e => {\r\n\t\t\t//dispatch(error(e.message));\r\n\t\t\tconsole.log(e.message);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport function refuseParticipiant() {\r\n\treturn (dispatch, getState) => {\r\n\t\tconst { eventDetails } = getState();\r\n\r\n\t\tconst path = url.createPath({\r\n\t\t\tserver_name: 'events',\r\n\t\t\taction_name: 'Refuse'\r\n\t\t});\r\n\r\n\t\taxios({\r\n\t\t\tmethod: 'post',\r\n\t\t\turl: path,\r\n\t\t\tdata: JSON.stringify({\r\n\t\t\t\tid: eventDetails.id\r\n\t\t\t})\r\n\t\t})\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.data;\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\tif (data.error){\r\n\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\tconsole.log(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: constants.REFUSE_EVENT_DETAILS_PARTICIPANT_SUCCESS,\r\n\t\t\t\t\tpayload: data\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}).catch(e => {\r\n\t\t\t//dispatch(error(e.message));\r\n\t\t\tconsole.log(e.message);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport function setParticipiantStatus(userId, isConfirm){\r\n\treturn (dispatch, getState) => {\r\n\t\tconst { eventDetails } = getState();\r\n\r\n\t\tconst path = url.createPath({\r\n\t\t\tserver_name: 'events',\r\n\t\t\taction_name: 'ParticipiantStatus'\r\n\t\t});\r\n\r\n\t\taxios({\r\n\t\t\tmethod: 'post',\r\n\t\t\turl: path,\r\n\t\t\tdata: JSON.stringify({\r\n\t\t\t\tid: eventDetails.id,\r\n\t\t\t\tuser_id: userId,\r\n\t\t\t\taccept: isConfirm\r\n\t\t\t})\r\n\t\t})\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.data;\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\tif (data.error){\r\n\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\tconsole.error(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: constants.SET_EVENT_DETAILS_PARTICIPANT_STATUS_SUCCESS,\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\tuserId,\r\n\t\t\t\t\t\tisConfirm\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}).catch(e => {\r\n\t\t\t//dispatch(error(e.message));\r\n\t\t\tconsole.error(e.message);\r\n\t\t});\r\n\r\n\t\t/*const { eventDetails } = getState();\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetParticipiantStatusMock(eventDetails.id, userId, isConfirm);\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: constants.SET_EVENT_DETAILS_PARTICIPANT_STATUS_SUCCESS,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tuserId,\r\n\t\t\t\t\tisConfirm\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}, 100)*/\r\n\t}\r\n}\r\n\r\nexport function removeComment(eventId, commentId){\r\n\treturn (dispatch) => {\r\n\t\tconst path = url.createPath({\r\n\t\t\tserver_name: 'events',\r\n\t\t\taction_name: 'RemoveComment'\r\n\t\t});\r\n\r\n\t\taxios({\r\n\t\t\tmethod: 'post',\r\n\t\t\turl: path,\r\n\t\t\tdata: JSON.stringify({\r\n\t\t\t\tid: eventId,\r\n\t\t\t\tcomment_id: commentId\r\n\t\t\t})\r\n\t\t})\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.data;\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\tif (data.error){\r\n\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\tconsole.error(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: constants.REMOVE_EVENT_DETAILS_COMMENT_SUCCESS,\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\teventId,\r\n\t\t\t\t\t\tcommentId\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}).catch(e => {\r\n\t\t\t//dispatch(error(e.message));\r\n\t\t\tconsole.error(e.message);\r\n\t\t});\r\n\t\t/*setTimeout(() => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: constants.REMOVE_EVENT_DETAILS_COMMENT_SUCCESS,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\teventId,\r\n\t\t\t\t\tcommentId\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tremoveCommentMock(eventId, commentId);\r\n\t\t});*/\r\n\t}\r\n}\r\n\r\nexport function addComment(eventId, message) {\r\n\treturn (dispatch) => {\r\n\t\tconst path = url.createPath({\r\n\t\t\tserver_name: 'events',\r\n\t\t\taction_name: 'AddComment'\r\n\t\t});\r\n\r\n\t\taxios({\r\n\t\t\tmethod: 'post',\r\n\t\t\turl: path,\r\n\t\t\tdata: JSON.stringify({\r\n\t\t\t\tid: eventId,\r\n\t\t\t\tmessage\r\n\t\t\t})\r\n\t\t})\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.data;\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\tif (data.error){\r\n\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\tconsole.error(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: constants.ADD_EVENT_DETAILS_COMMENT_SUCCESS,\r\n\t\t\t\t\tpayload: data\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}).catch(e => {\r\n\t\t\t//dispatch(error(e.message));\r\n\t\t\tconsole.error(e.message);\r\n\t\t});\r\n\t\t/*setTimeout(() => {\r\n\t\t\tconst comment = setCommentMock(eventId, null, message);\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: constants.ADD_EVENT_DETAILS_COMMENT_SUCCESS,\r\n\t\t\t\tpayload: comment\r\n\t\t\t});\r\n\t\t});*/\r\n\t}\r\n}\r\n\r\nexport function editComment(eventId, commentId, message) {\r\n\treturn (dispatch) => {\r\n\t\tconst path = url.createPath({\r\n\t\t\tserver_name: 'events',\r\n\t\t\taction_name: 'AddComment'\r\n\t\t});\r\n\r\n\t\taxios({\r\n\t\t\tmethod: 'post',\r\n\t\t\turl: path,\r\n\t\t\tdata: JSON.stringify({\r\n\t\t\t\tid: eventId,\r\n\t\t\t\tcomment_id: commentId,\r\n\t\t\t\tmessage\r\n\t\t\t})\r\n\t\t})\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.data;\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\tif (data.error){\r\n\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\tconsole.error(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: constants.EDIT_EVENT_DETAILS_COMMENT_SUCCESS,\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\tcommentId,\r\n\t\t\t\t\t\tmessage\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}).catch(e => {\r\n\t\t\t//dispatch(error(e.message));\r\n\t\t\tconsole.error(e.message);\r\n\t\t});\r\n\t\t/*setTimeout(() => {\r\n\t\t\tsetCommentMock(eventId, commentId, message);\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: constants.EDIT_EVENT_DETAILS_COMMENT_SUCCESS,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tcommentId,\r\n\t\t\t\t\tmessage\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});*/\r\n\t}\r\n}","import axios from 'axios';\r\nimport { url } from '../../../../config';\r\nimport { constants as homeConstants } from '../homeActions';\r\n\r\nexport const constants = {\r\n\t'CHANGE_SEARCH': 'CHANGE_SEARCH',\r\n\t'CHANGE_PAGE': 'CHANGE_PAGE',\r\n\t'CHANGE_STATUS': 'CHANGE_STATUS',\r\n\t'CHANGE_SUBJECT': 'CHANGE_SUBJECT',\r\n\t'CHANGE_CITY': 'CHANGE_CITY',\r\n\t'CHANGE_AFFILATION': 'CHANGE_AFFILATION',\r\n\t'CLEAR_FIELDS': 'CLEAR_FIELDS'\r\n}\r\n\r\nexport const statuses = {\r\n\tall: ' ',\r\n\tactive: '',\r\n\tplan: '',\r\n\tcompleted: ''\r\n}\r\n\r\n\r\nexport function changeStatus(value){\r\n\treturn {\r\n\t\ttype: constants.CHANGE_STATUS,\r\n\t\tpayload: value\r\n\t}\r\n}\r\n\r\nexport function changeSearch(value){\r\n\treturn {\r\n\t\ttype: constants.CHANGE_SEARCH,\r\n\t\tpayload: value\r\n\t}\r\n}\r\n\r\nexport function changePage(value){\r\n\treturn {\r\n\t\ttype: constants.CHANGE_PAGE,\r\n\t\tpayload: value\r\n\t}\r\n}\r\n\r\nexport function changeSubject(value){\r\n\treturn {\r\n\t\ttype: constants.CHANGE_SUBJECT,\r\n\t\tpayload: value\r\n\t}\r\n}\r\n\r\nexport function changeCity(value){\r\n\treturn {\r\n\t\ttype: constants.CHANGE_CITY,\r\n\t\tpayload: value\r\n\t}\r\n}\r\n\r\nexport function changeAffilation(value){\r\n\treturn {\r\n\t\ttype: constants.CHANGE_AFFILATION,\r\n\t\tpayload: value\r\n\t}\r\n}\r\n\r\nexport function clearFields(){\r\n\treturn {\r\n\t\ttype: constants.CLEAR_FIELDS\r\n\t}\r\n}\r\n\r\n\r\nfunction loading(isLoading){\r\n\treturn {\r\n\t\ttype: homeConstants.INITIAL_LOADING,\r\n\t\tpayload: isLoading\r\n\t}\r\n}\r\n\r\nexport function search(){\r\n\treturn (dispatch, getState) => {\r\n\t\tconst { home } = getState();\r\n\t\tconst filters = home.ui.filters;\r\n\r\n\t\tconst path = url.createPath({\r\n\t\t\tserver_name: 'events',\r\n\t\t\taction_name: 'Data',\r\n\t\t\tstatus: filters.status,\r\n\t\t\tsearch: filters.search,\r\n\t\t\tpage: filters.page,\r\n\t\t\tcity: filters.city,\r\n\t\t\taffilation: filters.affilation,\r\n\t\t\tsubject: filters.subject\r\n\r\n\t\t});\r\n\r\n\t\tdispatch(loading(true));\r\n\t\taxios.get(path)\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.data;\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\tif (data.error){\r\n\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\tconsole.error(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tdispatch(loading(false));\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: homeConstants.GET_INITIAL_DATA_SUCCESS,\r\n\t\t\t\t\tpayload: data\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(e => {\r\n\t\t\t//dispatch(error(e.message));\r\n\t\t\tconsole.error(e.message);\r\n\t\t});\r\n\r\n\t\t/*setTimeout((search, status) => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: constants.FILTER_EVENTS_SUCCESS,\r\n\t\t\t\tpayload: []\r\n\t\t\t})\r\n\t\t}, 1000);*/\r\n\t};\r\n}","const lut = [];\r\n\r\nfor (let i = 0; i < 256; i++) {\r\n\tlut[i] = (i < 16 ? '0' : '') + (i).toString(16);\r\n}\r\n\r\nexport default function uuid(){\r\n\tconst d0 = Math.random() * 0xffffffff | 0;\r\n\tconst d1 = Math.random() * 0xffffffff | 0;\r\n\tconst d2 = Math.random() * 0xffffffff | 0;\r\n\tconst d3 = Math.random() * 0xffffffff | 0;\r\n\t\r\n\treturn lut[d0 & 0xff] + lut[d0 >> 8 & 0xff] + lut[d0 >> 16 & 0xff] + lut[d0 >> 24 & 0xff] + '-' +\r\n\t\tlut[d1 & 0xff] + lut[d1 >> 8 & 0xff] + '-' + lut[d1 >> 16 & 0x0f | 0x40] + lut[d1 >> 24 & 0xff] + '-' +\r\n\t\tlut[d2 & 0x3f | 0x80] + lut[d2 >> 8 & 0xff] + '-' + lut[d2 >> 16 & 0xff] + lut[d2 >> 24 & 0xff] +\r\n\t\tlut[d3 & 0xff] + lut[d3 >> 8 & 0xff] + lut[d3 >> 16 & 0xff] + lut[d3 >> 24 & 0xff];\r\n}","import uuid from './utils/uuid';\r\n\r\nconst servers = [];\r\n\r\n/*\r\n\tsrv: {id: 1, name: 'test'}\r\n*/\r\nfunction Server(srv){\r\n\tconst id  = srv.id || uuid();\r\n\tconst name = srv.name || `name_${srv.id}`;\r\n\tlet actions = [];\r\n\r\n\tthis.addActions = _actions => {\r\n\t\tactions = actions.concat((_actions || []));\r\n\t\treturn this;\r\n\t};\r\n\r\n\tthis.getId = () => {\r\n\t\treturn id;\r\n\t};\r\n\r\n\tthis.getName = () => {\r\n\t\treturn name;\r\n\t};\r\n\r\n\tthis.getActions = () => {\r\n\t\treturn actions;\r\n\t};\r\n}\r\n\r\nexport function addServer(srv){\r\n\tif (typeof srv !== 'object'){\r\n\t\tthrow TypeError('Argument must be an object like this \\r\\n \"{id: 1, name: \\'Test\\'}\"');\r\n\t}\r\n\tconst server = new Server(srv);\r\n\tservers.push(server);\r\n\treturn server;\r\n}\r\n\r\nexport function getAll(){\r\n\treturn servers;\r\n}\r\n\r\n","import { addServer, getAll } from  './servers';\r\n\r\nconst isProduction = process.env.NODE_ENV === 'production';\r\n\r\nconst wtBaseUrl = 'http://79.111.15.126';\r\nconst wtRouterId = '6385385939497347608';\r\nconst wtCustomBaseUrl = isProduction ? '/custom_web_template.html' : wtBaseUrl + '/custom_web_template.html';\r\n\r\naddServer({ id: '6668987061819174354', name: 'events' })\r\n.addActions(\r\n\t[\r\n\t\t'Data',\r\n\t\t'DataForCreate',\r\n\t\t'EventData',\r\n\t\t'AddComment',\r\n\t\t'RemoveComment',\r\n\t\t'NewEventStatus',\r\n\t\t'NewParticipiant',\r\n\t\t'ParticipiantStatus',\r\n\t\t'NewParticipiant',\r\n\t\t'Like',\r\n\t\t'SaveEvent',\r\n\t\t'Refuse',\r\n\t\t'ResolveEvent',\r\n\t\t'RejectEvent',\r\n\t\t'CompleteEvent',\r\n\t\t'Instruction'\r\n\t]\r\n);\r\n\r\nconst url = {\r\n\tgetServerId(serverName, actionName) {\r\n\t\tconst _servers = getAll().filter(s => {\r\n\t\t\tconst actions = s.getActions().filter(action => {\r\n\t\t\t\treturn action === actionName;\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\treturn (s.getName() === serverName && actions.length > 0);\r\n\t\t}).map(s => s.getId());\r\n\t\treturn _servers.length > 0 ? _servers[0] : '';\r\n\t},\r\n\r\n\tcreatePath(inputObj){\r\n\t\tif (!('server_name' in inputObj)) return '/';\r\n\t\tif (!('action_name' in inputObj)) inputObj.action_name = '';\r\n\t\tconst serverId = this.getServerId(inputObj.server_name, inputObj.action_name);\r\n\t\tconst basePath = wtCustomBaseUrl.concat('?object_id=').concat(wtRouterId).concat('&server_id='.concat(serverId));\r\n\r\n\t\treturn basePath.concat(Object.keys(inputObj).map(k => {\r\n\t\t\treturn '&'.concat(k).concat('=').concat(inputObj[k]);\r\n\t\t}).join(''));\r\n\t}\r\n};\r\nexport { url };\r\n","import axios from 'axios';\r\nimport { url } from '../../../config';\r\nimport createRemoteActions from '../../utils/createRemoteActions';\r\nimport { omit } from 'lodash';\r\nrequire('formdata-polyfill');\r\n\r\nexport const constants = {\r\n\t'NEW_EVENT_CHANGE_TITLE': 'NEW_EVENT_CHANGE_TITLE',\r\n\t'NEW_EVENT_CHANGE_DESCRIPTION': 'NEW_EVENT_CHANGE_DESCRIPTION',\r\n\t'NEW_EVENT_CHANGE_SHORT_DESCRIPTION': 'NEW_EVENT_CHANGE_SHORT_DESCRIPTION',\r\n\t'NEW_EVENT_CHANGE_START_DATE': 'NEW_EVENT_CHANGE_START_DATE',\r\n\t'NEW_EVENT_CHANGE_FINISH_DATE': 'NEW_EVENT_CHANGE_FINISH_DATE',\r\n\t'NEW_EVENT_CHANGE_CITY': 'NEW_EVENT_CHANGE_CITY',\r\n\t'NEW_EVENT_CHANGE_SUBJECT': 'NEW_EVENT_CHANGE_SUBJECT',\r\n\t'NEW_EVENT_CHANGE_MAX_PERSONS': 'NEW_EVENT_CHANGE_MAX_PERSONS',\r\n\t'NEW_EVENT_CHANGE_COST': 'NEW_EVENT_CHANGE_COST',\r\n\t'NEW_EVENT_CHANGE_ADDRESS': 'NEW_EVENT_CHANGE_ADDRESS',\r\n\t'NEW_EVENT_LOADING': 'NEW_EVENT_LOADING',\r\n\t'NEW_EVENT_CHANGE_FILE_NAME': 'NEW_EVENT_CHANGE_FILE_NAME',\r\n\t...createRemoteActions('GET_EVENT_CREATE')\r\n}\r\n\r\nfunction loading(isLoading){\r\n\treturn {\r\n\t\ttype: constants.NEW_EVENT_LOADING,\r\n\t\tpayload: isLoading\r\n\t}\r\n}\r\n\r\nexport function onChangeFileName(fname){\r\n\treturn {\r\n\t\ttype: constants.NEW_EVENT_CHANGE_FILE_NAME,\r\n\t\tpayload: fname\r\n\t}\r\n}\r\n\r\nexport function onChangeTitle(event, data){\r\n\treturn {\r\n\t\ttype: constants.NEW_EVENT_CHANGE_TITLE,\r\n\t\tpayload: data.value\r\n\t}\r\n}\r\n\r\nexport function onChangeDescription(event, data){\r\n\treturn {\r\n\t\ttype: constants.NEW_EVENT_CHANGE_DESCRIPTION,\r\n\t\tpayload: data.value\r\n\t}\r\n}\r\n\r\nexport function onChangeShortDescription(event, data){\r\n\treturn {\r\n\t\ttype: constants.NEW_EVENT_CHANGE_SHORT_DESCRIPTION,\r\n\t\tpayload: data.value\r\n\t}\r\n}\r\n\r\nexport function onChangeStartDate(date){\r\n\treturn {\r\n\t\ttype: constants.NEW_EVENT_CHANGE_START_DATE,\r\n\t\tpayload: date\r\n\t}\r\n}\r\n\r\nexport function onChangeFinishDate(date){\r\n\treturn {\r\n\t\ttype: constants.NEW_EVENT_CHANGE_FINISH_DATE,\r\n\t\tpayload: date\r\n\t}\r\n}\r\n\r\nexport function onChangeCity(event, data){\r\n\treturn {\r\n\t\ttype: constants.NEW_EVENT_CHANGE_CITY,\r\n\t\tpayload: data.value\r\n\t}\r\n}\r\n\r\nexport function onChangeAddress(event, data){\r\n\treturn {\r\n\t\ttype: constants.NEW_EVENT_CHANGE_ADDRESS,\r\n\t\tpayload: data.value\r\n\t}\r\n}\r\n\r\nexport function onChangeSubject(event, data){\r\n\treturn {\r\n\t\ttype: constants.NEW_EVENT_CHANGE_SUBJECT,\r\n\t\tpayload: data.value\r\n\t}\r\n}\r\n\r\nexport function onChangeMaxPersons(event, data){\r\n\tlet payload = parseInt(data.value);\r\n\r\n\tif (isNaN(payload) || data.value < 0 || data.value === '') {\r\n\t\tpayload = '';\r\n\t}\r\n\r\n\treturn {\r\n\t\ttype: constants.NEW_EVENT_CHANGE_MAX_PERSONS,\r\n\t\tpayload\r\n\t}\r\n}\r\n\r\nexport function onChangeCost(event, data){\r\n\tlet payload = parseInt(data.value);\r\n\r\n\tif (isNaN(payload) || data.value < 0 || data.value === '') {\r\n\t\tpayload = '';\r\n\t}\r\n\t\r\n\treturn {\r\n\t\ttype: constants.NEW_EVENT_CHANGE_COST,\r\n\t\tpayload\r\n\t}\r\n}\r\n\r\nexport function saveEvent(form, history){\r\n\treturn (dispatch, getState) => {\r\n\t\t//const { event } = getState();\r\n\r\n\t\t//const data = omit(event, [ 'cities', 'subjects' ]);\r\n\r\n\t\tconst path = url.createPath({\r\n\t\t\tserver_name: 'events',\r\n\t\t\taction_name: 'SaveEvent'\r\n\t\t});\r\n\r\n\t\tconst data = new FormData(form);\r\n\r\n\t\tdispatch(loading(true));\r\n\t\taxios({\r\n\t\t\tmethod: 'post',\r\n\t\t\turl: path,\r\n\t\t\tdata: data\r\n\t\t})\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.data;\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\tif (data.error){\r\n\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\tconsole.log(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tdispatch(loading(false));\r\n\t\t\t\thistory.push(`/event/details/${data.id}`);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(e => {\r\n\t\t\t//dispatch(error(e.message));\r\n\t\t\tconsole.log(e.message);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport function getData(eventId){\r\n\treturn dispatch => {\r\n\t\tif (eventId){\r\n\t\t\tconst path = url.createPath({\r\n\t\t\t\tserver_name: 'events',\r\n\t\t\t\taction_name: 'EventData',\r\n\t\t\t\tid: eventId\r\n\t\t\t});\r\n\r\n\t\t\tdispatch(loading(true));\r\n\t\t\taxios.get(path)\r\n\t\t\t.then(resp => {\r\n\t\t\t\treturn resp.data;\r\n\t\t\t})\r\n\t\t\t.then(data => {\r\n\t\t\t\tif (data.error){\r\n\t\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\t\tconsole.log(data.error);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdispatch(loading(false));\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: constants.GET_EVENT_CREATE_SUCCESS,\r\n\t\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\t\tid: eventId,\r\n\t\t\t\t\t\t\t...data\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(e => {\r\n\t\t\t\t//dispatch(error(e.message));\r\n\t\t\t\tconsole.log(e.message);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tconst path = url.createPath({\r\n\t\t\t\tserver_name: 'events',\r\n\t\t\t\taction_name: 'DataForCreate'\r\n\t\t\t});\r\n\r\n\t\t\tdispatch(loading(true));\r\n\t\t\taxios({\r\n\t\t\t\tmethod: 'post',\r\n\t\t\t\turl: path\r\n\t\t\t})\r\n\t\t\t.then(resp => {\r\n\t\t\t\treturn resp.data;\r\n\t\t\t})\r\n\t\t\t.then(data => {\r\n\t\t\t\tif (data.error){\r\n\t\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\t\tconsole.log(data.error);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdispatch(loading(false));\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: constants.GET_EVENT_CREATE_SUCCESS,\r\n\t\t\t\t\t\tpayload: data\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(e => {\r\n\t\t\t\t//dispatch(error(e.message));\r\n\t\t\t\tconsole.log(e.message);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t/*dispatch(loading(true));\r\n\t\tsetTimeout(() => {\r\n\t\t\tdispatch(loading(false));\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: constants.GET_EVENT_CREATE_SUCCESS,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t  \"id\": \"6675349716799068736\",\r\n\t\t\t\t  \"cur_user_id\": \"6148914691236517121\",\r\n\t\t\t\t  \"user_role\": \"admin\",\r\n\t\t\t\t  \"title\": \" \",\r\n\t\t\t\t  \"status_id\": \"plan\",\r\n\t\t\t\t  \"status_name\": \"\",\r\n\t\t\t\t  \"long_desc\": \"\",\r\n\t\t\t\t  \"img\": \"/download_file.html?file_id=6674662346535409549\",\r\n\t\t\t\t  \"img_name\": \"test.png\",\r\n\t\t\t\t  \"max_person_count\": \"7\",\r\n\t\t\t\t  \"start_date\": \"Tue, 02 Apr 2019 17:25:36 +0300\",\r\n\t\t\t\t  \"finish_date\": \"Tue, 02 Apr 2019 18:50:00 +0300\",\r\n\t\t\t\t  \"cost\": \"8000\",\r\n\t\t\t\t  \"city_id\": \"5667697629116916647\",\r\n\t\t\t\t  \"city\": \"\",\r\n\t\t\t\t  \"subject_id\": \"\",\r\n\t\t\t\t  \"address\": \"\",\r\n\t\t\t\t  \"phone_number\": \"84993674214\",\r\n\t\t\t\t  \"email\": \"user_006@gmail.com\",\r\n\t\t\t\t  \"event_admin_id\": \"6671539145020354632\",\r\n\t\t\t\t  \"event_admin_fullname\": \"  \",\r\n\t\t\t\t  \"event_admin_position\": \" \",\r\n\t\t\t\t  \"event_admin_avatar\": \"/download_file.html?file_id=6671539891956233514\",\r\n\t\t\t\t  \"like_count\": \"0\",\r\n\t\t\t\t  \"collaborators\": [],\r\n\t\t\t\t  \"comments\": [],\r\n\t\t\t\t  \"cities\": [\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916643\",\r\n\t\t\t\t      \"name\": \"\"\r\n\t\t\t\t    },\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916644\",\r\n\t\t\t\t      \"name\": \"\"\r\n\t\t\t\t    },\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916645\",\r\n\t\t\t\t      \"name\": \"\"\r\n\t\t\t\t    },\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916646\",\r\n\t\t\t\t      \"name\": \"\"\r\n\t\t\t\t    },\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916647\",\r\n\t\t\t\t      \"name\": \"\"\r\n\t\t\t\t    },\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916648\",\r\n\t\t\t\t      \"name\": \"\"\r\n\t\t\t\t    },\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916649\",\r\n\t\t\t\t      \"name\": \"\"\r\n\t\t\t\t    },\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916650\",\r\n\t\t\t\t      \"name\": \"\"\r\n\t\t\t\t    },\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916651\",\r\n\t\t\t\t      \"name\": \"\"\r\n\t\t\t\t    },\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916652\",\r\n\t\t\t\t      \"name\": \"\"\r\n\t\t\t\t    },\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916653\",\r\n\t\t\t\t      \"name\": \"\"\r\n\t\t\t\t    },\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916654\",\r\n\t\t\t\t      \"name\": \"\"\r\n\t\t\t\t    },\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916655\",\r\n\t\t\t\t      \"name\": \"\"\r\n\t\t\t\t    },\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916656\",\r\n\t\t\t\t      \"name\": \"\"\r\n\t\t\t\t    },\r\n\t\t\t\t    {\r\n\t\t\t\t      \"id\": \"5667697629116916657\",\r\n\t\t\t\t      \"name\": \"\"\r\n\t\t\t\t    }\r\n\t\t\t\t  ],\r\n\t\t\t\t  \"subjects\": [\r\n\t\t\t\t    \"\",\r\n\t\t\t\t    \"\",\r\n\t\t\t\t    \"\",\r\n\t\t\t\t    \", \",\r\n\t\t\t\t    \"\",\r\n\t\t\t\t    \"\"\r\n\t\t\t\t  ]\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}, 1000);*/\r\n\t};\r\n}","import React, { Component } from 'react';\r\nimport { Form, Label, Icon, Dropdown, Input, Button, TextArea, Message, Dimmer,  Loader } from 'semantic-ui-react';\r\nimport DatePicker from 'react-datepicker';\r\nimport { setDefaultLocale } from 'react-datepicker';\r\nimport ru from 'date-fns/locale/ru';\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from './eventActions';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport moment from 'moment';\r\n\r\nimport './event.css';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\n\r\nsetDefaultLocale('ru');\r\n\r\nclass Event extends Component {\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tisShowWarning: false,\r\n\t\t\tfileName: props.img_name || ''\r\n\t\t}\r\n\r\n\t\tthis.formRef = React.createRef();\r\n\r\n\t\tthis.handleSave = this.handleSave.bind(this);\r\n\t\tthis.onChangeRawStartDate = this.onChangeRawStartDate.bind(this);\r\n\t\tthis.onChangeRawFinishDate = this.onChangeRawFinishDate.bind(this);\r\n\t\tthis.handleChangeFile = this.handleChangeFile.bind(this);\r\n\t\tthis.dateFormat = 'dd.MM.yyyy, HH:mm';\r\n\t}\r\n\r\n\t_isFormFilled(){\r\n\t\tconst {\r\n\t\t\ttitle,\r\n\t\t\tlong_desc,\r\n\t\t\tshort_desc,\r\n\t\t\taddress,\r\n\t\t\tcity_id,\r\n\t\t\tsubject_id,\r\n\t\t\tmax_person_count,\r\n\t\t\tcost,\r\n\t\t\tstart_date,\r\n\t\t\tfinish_date\r\n\t\t} = this.props;\r\n\t\t//const { fileName } = this.state;\r\n\t\treturn (\r\n\t\t\ttitle.trim() !== '' &&\r\n\t\t\tlong_desc.trim() !== '' &&\r\n\t\t\tshort_desc.trim() !== '' &&\r\n\t\t\taddress.trim() !== '' &&\r\n\t\t\tcity_id.trim() !== '' &&\r\n\t\t\tmax_person_count !== '' &&\r\n\t\t\tcost !== '' &&\r\n\t\t\tstart_date !== null &&\r\n\t\t\tfinish_date !== null\r\n\t\t);\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\tconst { match } = this.props;\r\n\t\tthis.props.getData(match.params.permalink);\r\n\t}\r\n\r\n\thandleChangeFile(e) {\r\n\t\tconst path = e.target.value;\r\n\t\tconst lastIndex = path.lastIndexOf('\\\\');\r\n\t\tconst fname = lastIndex === -1 ? path : path.substring(lastIndex + 1, path.length);\r\n\t\t/*this.setState({\r\n\t\t\tfileName: fname\r\n\t\t});*/\r\n\t\tthis.props.onChangeFileName(fname);\r\n\t\t//this.props.onResetPrevFile();\r\n\t}\r\n\r\n\thandleSave(){\r\n\t\tif (this._isFormFilled()){\r\n\t\t\tthis.props.onSaveEvent(document.getElementById('event-new_form'));\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tisShowWarning: true\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tonChangeRawStartDate(e){\r\n\t\tif (moment(e.target.value, this.dateFormat).isValid()){\r\n\t\t\tthis.props.onChangeStartDate(e.target.value);\r\n\t\t}\r\n\t}\r\n\r\n\tonChangeRawFinishDate(e){\r\n\t\tif (moment(e.target.value, this.dateFormat).isValid()){\r\n\t\t\tthis.props.onChangeFinishDate(e.target.value);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\trender(){\r\n\t\tconst {\r\n\t\t\tui,\r\n\t\t\thistory,\r\n\t\t\tonChangeTitle,\r\n\t\t\tonChangeDescription,\r\n\t\t\tonChangeShortDescription,\r\n\t\t\tonChangeStartDate,\r\n\t\t\tonChangeFinishDate,\r\n\t\t\tonChangeCity,\r\n\t\t\tonChangeAddress,\r\n\t\t\tonChangeSubject,\r\n\t\t\tonChangeMaxPersons,\r\n\t\t\tonChangeCost,\r\n\t\t\tonSaveEvent,\r\n\t\t\tid,\r\n\t\t\ttitle,\r\n\t\t\tlong_desc,\r\n\t\t\tshort_desc,\r\n\t\t\taddress,\r\n\t\t\tcity_id,\r\n\t\t\tsubject_id,\r\n\t\t\tmax_person_count,\r\n\t\t\tcost,\r\n\t\t\tstart_date,\r\n\t\t\tfinish_date,\r\n\t\t\tcities,\r\n\t\t\tsubjects,\r\n\t\t\timg_name,\r\n\t\t\tprevFileId\r\n\t\t} = this.props;\r\n\r\n\t\tconst { isShowWarning } = this.state;\r\n\r\n\t\tif (ui.isLoading){\r\n\t\t\treturn (\r\n\t\t\t\t<Dimmer active inverted>\r\n\t\t\t\t\t<Loader inverted>Loading</Loader>\r\n\t\t\t\t</Dimmer>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className='event-new'>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tclassName='event-new__back'\r\n\t\t\t\t\tsize='tiny'\r\n\t\t\t\t\tprimary\r\n\t\t\t\t\ticon\r\n\t\t\t\t\tlabelPosition='left'\r\n\t\t\t\t\tonClick={() => history.goBack()}\r\n\t\t\t\t>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Icon name='arrow left' />\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Message\r\n\t\t\t\t\tattached\r\n\t\t\t\t\theader='/ '\r\n\t\t\t\t\tcontent='    '\r\n\t\t\t\t/>\r\n\t\t\t\t<Form id='event-new_form' className='attached fluid segment' encType='multipart/form-data'>\r\n\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t<input type='text' className='event-new__form-field' name='id' value={id} readOnly />\r\n\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t<Form.Field required>\r\n\t\t\t\t\t\t<Label> *</Label>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tname='title'\r\n\t\t\t\t\t\t\tplaceholder='  '\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={onChangeTitle}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t<Form.Field required>\r\n\t\t\t\t\t\t<Label>  *</Label>\r\n\t\t\t\t\t\t <TextArea\r\n\t\t\t\t\t\t \tname='long_desc'\r\n\t\t\t\t\t\t \tplaceholder='  '\r\n\t\t\t\t\t\t \tvalue={long_desc}\r\n\t\t\t\t\t\t \tstyle={{ minHeight: 100 }}\r\n\t\t\t\t\t\t \tonChange={onChangeDescription}\r\n\t\t\t\t\t\t />\r\n\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t<Label>  *</Label>\r\n\t\t\t\t\t\t <TextArea\r\n\t\t\t\t\t\t \tname='short_desc'\r\n\t\t\t\t\t\t \tplaceholder='  '\r\n\t\t\t\t\t\t \tvalue={short_desc}\r\n\t\t\t\t\t\t \tstyle={{ minHeight: 100 }}\r\n\t\t\t\t\t\t \tonChange={onChangeShortDescription}\r\n\t\t\t\t\t\t />\r\n\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t<Form.Group inline>\r\n\t\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t\t\t<label className='event-new__calendar-label'> C *</label>\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\tclassName='event-new__calendar-icon'\r\n\t\t\t\t\t\t\t\t\tname='calendar'\r\n\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\tname='start_date'\r\n\t\t\t\t\t\t\t\t\tlocale={ru}\r\n\t\t\t\t\t\t\t\t\tselected={start_date}\r\n\t\t\t\t\t\t\t\t\tshowTimeSelect\r\n\t\t\t\t\t\t\t\t\ttimeIntervals={10}\r\n\t\t\t    \t\t\t\t\ttimeFormat='HH:mm'\r\n\t\t\t    \t\t\t\t\tdateFormat={this.dateFormat}\r\n\t\t\t    \t\t\t\t\ttimeCaption=''\r\n\t\t\t    \t\t\t\t\tplaceholderText=' '\r\n\t\t\t    \t\t\t\t\tonChange={onChangeStartDate}\r\n\t\t\t    \t\t\t\t\tonChangeRaw={this.onChangeRawStartDate}\r\n\t\t\t    \t\t\t\t\tdisabledKeyboardNavigation\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t\t\t<label className='event-new__calendar-label'>  *</label>\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\tclassName='event-new__calendar-icon'\r\n\t\t\t\t\t\t\t\t\tname='calendar'\r\n\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\tname='finish_date'\r\n\t\t\t\t\t\t\t\t\tlocale={ru}\r\n\t\t\t\t\t\t\t\t\tselected={finish_date}\r\n\t\t\t\t\t\t\t\t\tshowTimeSelect\r\n\t\t\t\t\t\t\t\t\ttimeIntervals={10}\r\n\t\t\t    \t\t\t\t\ttimeFormat='HH:mm'\r\n\t\t\t    \t\t\t\t\tdateFormat={this.dateFormat}\r\n\t\t\t    \t\t\t\t\ttimeCaption=''\r\n\t\t\t    \t\t\t\t\tplaceholderText=' '\r\n\t\t\t    \t\t\t\t\tonChange={onChangeFinishDate}\r\n\t\t\t    \t\t\t\t\tonChangeRaw={this.onChangeRawFinishDate}\r\n\t\t\t    \t\t\t\t\tdisabledKeyboardNavigation\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group widths='equal'>\r\n\t\t\t\t\t\t<Form.Field required>\r\n\t\t\t\t\t\t\t<Label> *</Label>\r\n\t\t\t\t\t\t\t<input readOnly className='event-new__form-field' type='text' name='city_id' value={city_id} />\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\tplaceholder=' '\r\n\t\t\t\t\t\t\t\tupward\r\n\t\t\t\t\t\t\t\tsearch\r\n\t\t\t\t\t\t\t\tselection\r\n\t\t\t\t\t\t\t\toptions={cities}\r\n\t\t\t\t\t\t\t\tonChange={onChangeCity}\r\n\t\t\t\t\t\t\t\tvalue={city_id}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t\t<Form.Field required>\r\n\t\t\t\t\t\t\t<Label> *</Label>\r\n\t\t\t\t\t\t\t<Input type='text' name='address' placeholder=' ' value={address} onChange={onChangeAddress}/>\r\n\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t<Label>  *</Label>\r\n\t\t\t\t\t\t<input readOnly className='event-new__form-field' type='text' name='subject_id' value={subject_id} />\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tplaceholder=' '\r\n\t\t\t\t\t\t\tupward\r\n\t\t\t\t\t\t\tfluid\r\n\t\t\t\t\t\t\tselection\r\n\t\t\t\t\t\t\toptions={subjects}\r\n\t\t\t\t\t\t\tonChange={onChangeSubject}\r\n\t\t\t\t\t\t\tvalue={subject_id}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t<Form.Group widths='equal'>\r\n\t\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t\t<Label>-  (0 - ) *</Label>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tname='max_person_count'\r\n\t\t\t\t\t\t\t\tplaceholder=' - '\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tonChange={onChangeMaxPersons}\r\n\t\t\t\t\t\t\t\tvalue={max_person_count}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t\t<Label> (0 - ) *</Label>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tname='cost'\r\n\t\t\t\t\t\t\t\taction={{ icon: 'ruble sign' }}\r\n\t\t\t\t\t\t\t\tlabelPosition='right'\r\n\t\t\t\t\t\t\t\tplaceholder=' '\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tonChange={onChangeCost}\r\n\t\t\t\t\t\t\t\tvalue={cost}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Field>\r\n\t\t\t\t\t\t<div className='event-new__file_upload'>\r\n\t\t\t\t\t\t\t<Button size='tiny'> </Button>\r\n\t\t\t\t\t\t\t<div className='event-new__file_upload-name'>{img_name || '  '}</div>\r\n\t\t\t\t\t\t\t<input readOnly className='event-new__form-field' type='text' name='prev_file_id' value={prevFileId} />\r\n\t\t\t\t\t\t\t<input type='file' name='upload_file' accept='image/*' onChange={this.handleChangeFile}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form.Field>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tprimary\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\tonClick={this.handleSave}\r\n\t\t\t\t\t></Button>\r\n\t\t\t\t</Form>\r\n\t\t\t\t\r\n\t\t\t\t<Message attached='bottom' warning>\r\n\t\t\t\t\t<Icon name='help' />\r\n\t\t\t\t\t  &nbsp;*&nbsp;   \r\n\t\t\t\t\t{isShowWarning && <Message error>\r\n\t\t\t\t\t<Icon name='exclamation' />\r\n\t\t\t\t\t   !\r\n\t\t\t\t</Message>}\r\n\t\t\t\t</Message>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state, props) => {\r\n\treturn state.event;\r\n};\r\n\r\nconst mapDispatchProps = (dispatch, ownProps) => {\r\n\treturn {\r\n\t\t...bindActionCreators(actions, dispatch),\r\n\t\tonSaveEvent: (formRef) => dispatch(actions.saveEvent(formRef, ownProps.history))\r\n\t}\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchProps)(Event));","export { default } from './Event';","if (process.env.NODE_ENV === 'production') {\r\n\tmodule.exports = require('./configureStore.prod');\r\n} else {\r\n\tmodule.exports = require('./configureStore.dev');\r\n}","import axios from 'axios';\r\nimport { url } from '../../../config';\r\nimport createRemoteActions from '../../utils/createRemoteActions';\r\nimport initialData from '../../mock/static.json';\r\n\r\nexport const constants = {\r\n\t...createRemoteActions('GET_INITIAL_DATA'),\r\n\t'INITIAL_LOADING': 'INITIAL_LOADING'\r\n}\r\n\r\nfunction loading(isLoading){\r\n\treturn {\r\n\t\ttype: constants.INITIAL_LOADING,\r\n\t\tpayload: isLoading\r\n\t}\r\n}\r\n\r\nfunction isFirstVisit(){\r\n\tconst _storage = window.sessionStorage || window.localStorage;\r\n\tif (!_storage) {\r\n\t\tthrow new Error('Local storage not supported in your browser!');\r\n\t}\r\n\r\n\tconst key = 'isFirstVisit';\r\n\tconst d = _storage.getItem(key);\r\n\tif (d === null){\r\n\t\t_storage.setItem(key, false);\r\n\t\treturn true;\r\n\t}\r\n\r\n\treturn false;\r\n}\r\n\r\nexport function getInitialData(){\r\n\treturn (dispatch, getState) => {\r\n\r\n\t\t/*dispatch(loading(true));\r\n\t\tsetTimeout((search, status) => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: constants.GET_INITIAL_DATA_SUCCESS,\r\n\t\t\t\tpayload: initialData\r\n\t\t\t});\r\n\t\t\tdispatch(loading(false));\r\n\t\t}, 1000);*/\r\n\r\n\t\t\r\n\t\tdispatch(loading(true));\r\n\t\tconst { home } = getState();\r\n\r\n\t\tconst path = url.createPath({\r\n\t\t\tserver_name: 'events',\r\n\t\t\taction_name: 'Data',\r\n\t\t\tstatus: home.ui.filters.status,\r\n\t\t\tsearch: home.ui.filters.search,\r\n\t\t\tcity: home.ui.filters.city,\r\n\t\t\tsubject: home.ui.filters.subject\r\n\t\t});\r\n\r\n\t\taxios.get(path)\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.data;\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\tif (data.error){\r\n\t\t\t\t//dispatch(error(data.error));\r\n\t\t\t\tconsole.log(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tconst isFV = isFirstVisit();\r\n\t\t\t\tif (isFV) {\r\n\t\t\t\t\taxios.get(url.createPath({\r\n\t\t\t\t\t\tserver_name: 'events',\r\n\t\t\t\t\t\taction_name: 'Instruction'\r\n\t\t\t\t\t}))\r\n\t\t\t\t\t.then(resp => {\r\n\t\t\t\t\t\treturn resp.data;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(dataInstr => {\r\n\t\t\t\t\t\t if (dataInstr.error){\r\n\t\t\t\t\t\t\tconsole.log(dataInstr.error);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tdispatch(loading(false));\r\n\t\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\t\ttype: constants.GET_INITIAL_DATA_SUCCESS,\r\n\t\t\t\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\t\t\t\tisFirstVisit: isFV,\r\n\t\t\t\t\t\t\t\t\tinstruction: dataInstr.instruction,\r\n\t\t\t\t\t\t\t\t\t...data\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdispatch(loading(false));\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: constants.GET_INITIAL_DATA_SUCCESS,\r\n\t\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\t\tisFirstVisit: isFV,\r\n\t\t\t\t\t\t\t...data\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}).catch(e => {\r\n\t\t\t//dispatch(error(e.message));\r\n\t\t\tconsole.log(e.message);\r\n\t\t});\r\n\t};\r\n}\r\n\r\n"],"sourceRoot":""}