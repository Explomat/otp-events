{"version":3,"sources":["ui/pages/home/event/Event.js","ui/components/search-bar/SearchBar.js","ui/pages/home/filters/index.js","ui/pages/home/index.js","ui/enhancers/lazyLoad.js","ui/routes/index.js","ui/app.js","index.js","ui/pages/home/filters/reducer.js","ui/pages/home/reducer.js","ui/pages/event/eventReducer.js","ui/pages/details-event/eventDetailsReducer.js","ui/rootReducer.js","store/configureStore.prod.js","ui/utils/formatDate.js","ui/pages/details-event/eventDetails.js","ui/pages/details-event/index.js","ui/utils/createRemoteActions.js","ui/utils/toBoolean.js","ui/utils/uuid.js","ui/pages/details-event/mock.js","ui/pages/details-event/eventDetailsActions.js","ui/pages/home/filters/filtersActions.js","utils/uuid.js","servers.js","config.js","ui/pages/event/Event.js","ui/pages/event/index.js","store/index.js","ui/pages/event/eventActions.js","ui/pages/home/homeActions.js"],"names":["Event","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","like_count","is_liked","toBoolean","handleLike","bind","assertThisInitialized","e","preventDefault","self","path","url","createPath","server_name","action_name","fetch","method","body","JSON","stringify","id","then","resp","json","data","setState","count","catch","console","error","message","_this$props","title","short_desc","subject_id","city","img","max_person_count","cur_person_count","start_date","cost","event_admin_fullname","event_admin_avatar","address","comments_count","_this$state","isLikedClass","cs","mdl-button--colored","react_default","a","createElement","react_router_dom","defineProperty","className","to","concat","style","background","marginBottom","Date","toLocaleDateString","year","month","day","hour","minute","Popup","inverted","size","trigger","backgroundImage","paddingRight","onClick","position","right","Icon","name","color","display","alignItems","marginRight","Component","SearchBar","handleChange","handleSearch","value","nextProps","target","onChange","keyCode","onSearch","classNameInput","onKeyDown","type","placeholder","children","withRouter","connect","_state$home","home","user","statuses","cities","affilations","subjects","_statuses","filter","s","roles","indexOf","user_role","objectSpread","ui","filters","dispatch","onChangeStatus","event","changePage","changeStatus","search","onChangeSearch","changeSearch","onChangePage","activePage","onChangeSubject","changeSubject","onChangeCity","changeCity","onChangeAffilation","changeAffilation","_ref","page","pagesCount","status","subject","affilation","history","Grid","columns","Column","width","search_bar_SearchBar","Dropdown","selection","options","floated","Button","icon","labelPosition","push","Pagination","firstItem","content","lastItem","prevItem","nextItem","totalPages","onPageChange","Home","loadData","events","len","length","home_filters","isLoading","Dimmer","active","Loader","map","event_Event","assign","key","Segment","Header","Inline","positive","clear","getInitialData","clearFields","LazyLoad","load","comp","forceUpdate","lazyLoad","dynamicImport","lazyLoad_LazyLoad","routes","component","exact","Promise","resolve","reject","require","default","App","route","react_router","store","configureStore","ReactDOM","render","es","app","document","getElementById","initialState","reducer","combineReducers","arguments","undefined","action","constants","GET_INITIAL_DATA_SUCCESS","_action$payload","payload","cur_user_id","c","text","toConsumableArray","filter_list","status_list","homeConstatns","CLEAR_FIELDS","CHANGE_SEARCH","CHANGE_PAGE","CHANGE_STATUS","CHANGE_SUBJECT","CHANGE_CITY","CHANGE_AFFILATION","INITIAL_LOADING","uiReducer","NEW_EVENT_LOADING","commentsReducer","REMOVE_EVENT_DETAILS_COMMENT_SUCCESS","commentId","ADD_EVENT_DETAILS_COMMENT_SUCCESS","EDIT_EVENT_DETAILS_COMMENT_SUCCESS","collaboratorsReducer","SET_EVENT_DETAILS_PARTICIPANT_STATUS_SUCCESS","isConfirm","is_confirm","userId","RESPOND_EVENT_DETAILS_PARTICIPANT_SUCCESS","REFUSE_EVENT_DETAILS_PARTICIPANT_SUCCESS","EVENT_DETAILS_LOADING","homeReducer","long_desc","finish_date","city_id","img_name","prevFileId","GET_EVENT_CREATE_SUCCESS","substring","lastIndexOf","NEW_EVENT_CHANGE_FILE_NAME","NEW_EVENT_CHANGE_TITLE","NEW_EVENT_CHANGE_DESCRIPTION","NEW_EVENT_CHANGE_SHORT_DESCRIPTION","NEW_EVENT_CHANGE_START_DATE","NEW_EVENT_CHANGE_FINISH_DATE","NEW_EVENT_CHANGE_CITY","NEW_EVENT_CHANGE_ADDRESS","NEW_EVENT_CHANGE_SUBJECT","NEW_EVENT_CHANGE_MAX_PERSONS","NEW_EVENT_CHANGE_COST","eventDetails","collaborators","comments","admins","GET_EVENT_DETAILS_INITIAL_DATA_SUCCESS","EVENT_DETAILS_SET_STATUS","status_id","status_name","createStore","reducers","applyMiddleware","thunkMiddleware","__webpack_require__","d","__webpack_exports__","formateDate","date","EventDetails","comment","isEditCommentNow","handleChangeNewComment","handleSubmitNewComment","handleChangeComment","handleSubmitComment","handeShowEditCommentForm","handleCancelEditComment","_this$setState2","_ref2","_this$setState5","submitComment","_this$props2","submitNewComment","_this$props3","onResolveEvent","onRejectEvent","onCompleteEvent","buttons","isAdmin","Group","as","floating","Menu","Item","primary","loadEvent","_this2","_this$props4","event_admin_id","event_admin_position","_this$props5","acceptParticipiantStatus","rejectParticipiantStatus","removeComment","onRespondParticipiant","onRefuseParticipiant","styles","_adminButtons","formatDate","basic","Row","dividing","Card","fluid","Content","Image","avatar","src","Meta","Description","dangerouslySetInnerHTML","__html","extra","find","List","divided","verticalAlign","index","Or","fullname","with","Comment","Form","reply","onSubmit","TextArea","secondary","Avatar","Author","href","user_fullname","Metadata","Text","user_id","Actions","Action","disabled","trim","ownProps","match","getEventDetails","params","permalink","setParticipiantStatus","eventId","addComment","editComment","respondParticipiant","refuseParticipiant","resolveEvent","rejectEvent","completeEvent","createAction","_home_explomat_projects_otp_otp_events_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","createRemoteActions","actions","prototype","toString","Array","isArray","Error","reduce","f","reducedAction","lodash__WEBPACK_IMPORTED_MODULE_0__","str","isBoolean","lut","i","phone_number","email","loading","log","getState","accept","comment_id","_config__WEBPACK_IMPORTED_MODULE_0__","_homeActions__WEBPACK_IMPORTED_MODULE_1__","homeConstants","servers","Server","srv","d0","Math","random","d1","d2","d3","uuid","addActions","_actions","getId","getName","getActions","wtCustomBaseUrl","TypeError","server","addServer","getServerId","serverName","actionName","_servers","inputObj","serverId","keys","k","join","setDefaultLocale","isShowWarning","fileName","formRef","React","createRef","handleSave","onChangeRawStartDate","onChangeRawFinishDate","handleChangeFile","dateFormat","getData","lastIndex","fname","onChangeFileName","_isFormFilled","onSaveEvent","moment","isValid","onChangeStartDate","onChangeFinishDate","onChangeTitle","onChangeDescription","onChangeShortDescription","onChangeAddress","onChangeMaxPersons","onChangeCost","goBack","Message","attached","header","encType","Field","readOnly","required","Label","Input","minHeight","inline","locale","ru","selected","showTimeSelect","timeIntervals","timeFormat","timeCaption","placeholderText","onChangeRaw","disabledKeyboardNavigation","widths","upward","warning","bindActionCreators","module","exports","_home_explomat_projects_otp_otp_events_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","parseInt","isNaN","saveEvent","form","FormData"],"mappings":"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","file":"static/js/main.dbcd9793.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Popup, Icon } from 'semantic-ui-react'\nimport cs from 'classnames';\nimport PropTypes from 'prop-types';\nimport { url } from '../../../../config';\nimport toBoolean from '../../../utils/toBoolean';\n\nimport './eventOfList.css';\n\nclass Event extends Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tlike_count: props.like_count,\n\t\t\tis_liked: toBoolean(props.is_liked)\n\t\t}\n\t\tthis.handleLike = this.handleLike.bind(this);\n\t}\n\n\thandleLike(e) {\n\t\te.preventDefault();\n\t\tconst self = this;\n\n\t\tconst path = url.createPath({\n\t\t\tserver_name: 'events',\n\t\t\taction_name: 'Like'\n\t\t});\n\t\tfetch(path, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tid: this.props.id\n\t\t\t})\n\t\t}).then(resp => {\n\t\t\treturn resp.json();\n\t\t}).then(data => {\n\t\t\tself.setState({\n\t\t\t\tlike_count: data.count,\n\t\t\t\tis_liked: !self.state.is_liked\n\t\t\t})\n\t\t}).catch(e => {\n\t\t\tconsole.error(e.message);\n\t\t});\n\t}\n\n\trender(){\n\t\tconst {\n\t\t\tid,\n\t\t\ttitle,\n\t\t\tshort_desc,\n\t\t\tsubject_id,\n\t\t\tcity,\n\t\t\timg,\n\t\t\tmax_person_count,\n\t\t\tcur_person_count,\n\t\t\tstart_date,\n\t\t\tcost,\n\t\t\tevent_admin_fullname,\n\t\t\tevent_admin_avatar,\n\t\t\taddress,\n\t\t\tcomments_count\n\t\t} = this.props;\n\n\t\tconst { like_count, is_liked } = this.state;\n\n\t\tconst isLikedClass = cs({\n\t\t\t'mdl-button--colored': is_liked\n\t\t});\n\t\treturn (\n\t\t\t<Link className='event-of-list' to={`/event/details/${id}`}\n\t\t\t\tclassName='mdl-cell mdl-cell--4-col mdl-card mdl-shadow--2dp otp-news otp-news__link'\n\t\t\t>\n\t\t\t\t<div className='mdl-card__title'>\n\t\t\t\t\t<div className='mdl-card__subtitle-text otp-event__type'>{subject_id}</div>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName='mdl-card__media mdl-card__media--h-140 mdl-color--grey-500'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackground: `url(${img}) center/cover no-repeat`\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<span\n\t\t\t\t\t\tstyle={{marginBottom: 0}}\n\t\t\t\t\t\tclassName='mdl-color--light-blue-900 mdl-color-text--white otp-card__media-label otp-event__date'>\n\t\t\t\t\t\t{city}\n\t\t\t\t\t</span>\n\t\t\t\t\t<span className='mdl-color--primary mdl-color-text--white otp-card__media-label otp-event__date'>\n\t\t\t\t\t\t{new Date(start_date).toLocaleDateString('ru-RU', {year: 'numeric', month: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric'})}\n\t\t\t\t\t</span>\n\t\t\t\t\t<div className='event-of-list__lectors'>\n\t\t\t\t\t\t<Popup inverted size='mini' trigger={\n\t\t\t\t\t\t\t<div className='event-of-list__lector' style={{\n\t\t\t\t\t\t\t\tbackgroundImage: `url(${event_admin_avatar})`\n\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t{event_admin_fullname}\n\t\t\t\t\t\t</Popup>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='mdl-card__title' style={{ paddingRight: '60px' }}>\n\t\t\t\t\t<div className='mdl-card__subtitle-text otp-event__place'>{address}</div>\n\t\t\t\t\t<div className='mdl-card__title-text otp-event__name'>{title}&nbsp;</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='mdl-card__supporting-text mdl-card--expand otp-event__comment'>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<i>{short_desc}</i>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='mdl-card__actions mdl-card--border'>\n\t\t\t\t\t<div className='otp-action__item'>\n\t\t\t\t\t\t<button onClick={this.handleLike} className={`mdl-button mdl-button--icon otp-news__like-button ${isLikedClass}`}>\n\t\t\t\t\t\t\t<i className='material-icons mdl-18 otp-action__icon'>thumb_up</i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<span className='otp-action__label otp-news__like'>{like_count}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='otp-action__item'>\n\t\t\t\t\t\t<i className='material-icons mdl-18 otp-action__icon'>forum</i>\n\t\t\t\t\t\t<span className='otp-action__label otp-news__comment-count'>{comments_count}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='otp-action__item' style={{\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tright: 0\n\t\t\t\t\t}}>\n\t\t\t\t\t\t{cost == 0 ?\n\t\t\t\t\t\t\t<span className='otp-color--black-hint'>Бесплатное</span> :\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<Icon name='ruble sign' color='grey'/>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName='otp-action__label otp-news__comment-count otp-color--black-hint'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{cost}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{/*<div className='mdl-card__actions'>\n\t\t\t\t\t<Link to={`/event/details/${id}`} className='mdl-button mdl-button--colored otp-event__link'>Подробнее</Link>\n\t\t\t\t\t<div className='mdl-layout-spacer'></div>\n\t\t\t\t</div>*/}\n\t\t\t\t<div className='mdl-card__menu'>\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName='otp-color--black-hint'\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\talignItems: 'center'}}\n\t\t\t\t\t\ttitle='Количество участников'\n\t\t\t\t\t>\n\t\t\t\t\t\t{max_person_count == 0 ?\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\tБез ограничений\n\t\t\t\t\t\t\t</span> :\n\t\t\t\t\t\t\t<span style={{\n\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\talignItems: 'center'}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className='material-icons' style={{marginRight: '4px'}}>group</i>\n\t\t\t\t\t\t\t\t<b className='otp-event__count'>{cur_person_count} / {max_person_count}</b>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</Link>\n\t\t);\n\t}\n}\n\n\nexport default Event;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './search-bar.css';\n\nclass SearchBar extends Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.handleSearch = this.handleSearch.bind(this);\n\t\tthis.state = {\n\t\t\tvalue: props.value || ''\n\t\t};\n\t}\n\n\tcomponentWillReceiveProps(nextProps){\n\t\tif (this.props.value !== nextProps.value){\n\t\t\tthis.setState({ value: nextProps.value });\n\t\t}\n\t}\n\n\thandleChange(e){\n\t\tthis.setState({ value: e.target.value });\n\t\tif (this.props.onChange){\n\t\t\tthis.props.onChange(e.target.value);\n\t\t}\n\t}\n\n\thandleSearch(e){\n\t\tif (e.keyCode === 13 && this.props.onSearch){\n\t\t\tthis.props.onSearch(e.target.value);\n\t\t}\n\t}\n\n\trender() {\n\t\tconst className = this.props.className ? this.props.className : '';\n\t\tconst classNameInput = this.props.classNameInput ? this.props.classNameInput : '';\n\t\treturn (\n\t\t\t<div className={`search-box ${  className}`}>\n\t\t\t\t<input\n\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\tonKeyDown={this.handleSearch}\n\t\t\t\t\tclassName={`search-box__search-input ${  classNameInput}`}\n\t\t\t\t\ttype='text'\n\t\t\t\t\tvalue={this.state.value}\n\t\t\t\t\tplaceholder='Поиск...'\n\t\t\t\t/>\n\t\t\t\t<i className='search-box__search-icon material-icons'>search</i>\n\t\t\t\t{this.props.children}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nSearchBar.propTypes = {\n\tvalue: PropTypes.string,\n\tclassName: PropTypes.string,\n\tclassNameInput: PropTypes.string,\n\tonSearch: PropTypes.func,\n\tonChange: PropTypes.func\n};\n\nexport default SearchBar;","import React, { Component } from 'react';\nimport SearchBar from '../../../components/search-bar';\nimport { Grid, Search, Dropdown, Button, Icon, Pagination } from 'semantic-ui-react';\n//import { ButtonSuccess, ButtonWarning, ButtonInfo, ButtonDanger } from '../../../components/button';\nimport { changeStatus, changeSearch, changePage, changeSubject, changeCity, changeAffilation, search, statuses } from './filtersActions';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\n\nimport './filters.css';\n\nconst Filters = ({\n\tonChangeStatus,\n\tonChangeSearch,\n\tonChangeSubject,\n\tonChangeCity,\n\tonChangeAffilation,\n\tfilter,\n\tsearch,\n\tpage,\n\tpagesCount,\n\tonChangePage,\n\tstatus,\n\tsubject,\n\tcity,\n\tcities,\n\taffilation,\n\taffilations,\n\tsubjects,\n\tstatuses,\n\thistory,\n\tchildren\n}) => {\n\t//const { ALL, SELF, PLAN } = visibilityFilters;\n\treturn (\n\t\t<div className='filters'>\n\t\t\t<Grid className='filters__menu' columns='equal'>\n\t\t\t\t<Grid.Column width={3}>\n\t\t\t\t\t<SearchBar\n\t\t\t\t\t\tclassNameInput='filters__search-bar'\n\t\t\t\t\t\tonChange={ onChangeSearch }\n\t\t\t\t\t\tonSearch={ filter }\n\t\t\t\t\t\tvalue={search}\n\t\t\t\t\t/>\n\t\t\t\t</Grid.Column>\n\t\t\t\t<Grid.Column width={11}>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tclassName='filters__dropdown'\n\t\t\t\t\t\tselection\n\t\t\t\t\t\toptions={affilations}\n\t\t\t\t\t\tonChange={onChangeAffilation}\n\t\t\t\t\t\tvalue={affilation}\n\t\t\t\t\t/>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tclassName='filters__dropdown'\n\t\t\t\t\t\tplaceholder='Выберите город'\n\t\t\t\t\t\tsearch\n\t\t\t\t\t\tselection\n\t\t\t\t\t\toptions={cities}\n\t\t\t\t\t\tonChange={onChangeCity}\n\t\t\t\t\t\tvalue={city}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tclassName='filters__dropdown'\n\t\t\t\t\t\tplaceholder='Выберите тематику'\n\t\t\t\t\t\tselection\n\t\t\t\t\t\toptions={subjects}\n\t\t\t\t\t\tonChange={onChangeSubject}\n\t\t\t\t\t\tvalue={subject}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tclassName='filters__dropdown'\n\t\t\t\t\t\tplaceholder='Выберите статус'\n\t\t\t\t\t\tselection\n\t\t\t\t\t\toptions={statuses}\n\t\t\t\t\t\tonChange={onChangeStatus}\n\t\t\t\t\t\tvalue={status}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{/*<Button\n\t\t\t\t\t\tcolor='green'\n\t\t\t\t\t\tactive={status === ALL}\n\t\t\t\t\t\tonClick={() => onChangeStatus(ALL)}\n\n\t\t\t\t\t>Все</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor='yellow'\n\t\t\t\t\t\tactive={status === SELF}\n\t\t\t\t\t\tonClick={() => onChangeStatus(SELF)}\n\t\t\t\t\t>Мои</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor='blue'\n\t\t\t\t\t\tactive={status === PLAN}\n\t\t\t\t\t\tonClick={() => onChangeStatus(PLAN)}\n\t\t\t\t\t>Планируются</Button>*/}\n\t\t\t\t</Grid.Column>\n\t\t\t\t<Grid.Column floated='right'>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize='tiny'\n\t\t\t\t\t\tclassName='filters__button filters__create-event'\n\t\t\t\t\t\tcolor='red'\n\t\t\t\t\t\ticon\n\t\t\t\t\t\tlabelPosition='left'\n\t\t\t\t\t\tonClick={() => history.push('/event/new')}\n\t\t\t\t\t>\n\t\t\t\t\t\tСоздать\n\t\t\t\t\t\t<Icon name='pencil alternate' />\n\t\t\t\t\t</Button>\n\t\t\t\t</Grid.Column>\n\t\t\t</Grid>\n\t\t\t{children}\n\t\t\t<Pagination\n\t\t\t\tclassName='filters__pagination'\n\t\t\t\tactivePage={page}\n\t\t\t\tfirstItem={{ content: <Icon name='angle double left' />, icon: true }}\n\t\t\t\tlastItem={{ content: <Icon name='angle double right' />, icon: true }}\n\t\t\t\tprevItem={{ content: <Icon name='angle left' />, icon: true }}\n\t\t\t\tnextItem={{ content: <Icon name='angle right' />, icon: true }}\n\t\t\t\ttotalPages={pagesCount}\n\t\t\t\tonPageChange={onChangePage}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\n\nconst mapStateToProps = (state) => {\n\tconst { user, statuses, cities, affilations, subjects } = state.home;\n\n\tconst _statuses = statuses.filter(s => {\n\t\treturn s.roles.indexOf(user.user_role) !== -1;\n\t});\n\n\treturn {\n\t\tcities,\n\t\taffilations,\n\t\tsubjects,\n\t\tstatuses: _statuses,\n\t\t...state.home.ui.filters\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tonChangeStatus: (event, data) => {\n\t\t\tdispatch(changePage(1));\n\t\t\tdispatch(changeStatus(data.value));\n\t\t\tdispatch(search());\n\t\t},\n\t\tonChangeSearch: (value) => {\n\t\t\tdispatch(changeSearch(value));\n\t\t},\n\t\tonChangePage: (event, data) => {\n\t\t\tdispatch(changePage(data.activePage));\n\t\t\tdispatch(search());\n\t\t},\n\t\tonChangeSubject: (event, data) => {\n\t\t\tdispatch(changePage(1));\n\t\t\tdispatch(changeSubject(data.value));\n\t\t\tdispatch(search());\n\t\t},\n\t\tonChangeCity: (event, data) => {\n\t\t\tdispatch(changePage(1));\n\t\t\tdispatch(changeCity(data.value));\n\t\t\tdispatch(search());\n\t\t},\n\t\tonChangeAffilation: (event, data) => {\n\t\t\tdispatch(changePage(1));\n\t\t\tdispatch(changeAffilation(data.value));\n\t\t\tdispatch(search());\n\t\t},\n\t\tfilter: () => {\n\t\t\tdispatch(changePage(1));\n\t\t\tdispatch(search());\n\t\t}\n\t}\n}\n\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Filters));","import React, { Component } from 'react';\nimport Event from './event';\nimport { Segment, Header, Icon, Button, Dimmer, Loader } from 'semantic-ui-react';\nimport Filters from './filters';\nimport { connect } from 'react-redux';\nimport { getInitialData } from './homeActions';\nimport { clearFields } from './filters/filtersActions';\n\nimport './home.css';\n\nclass Home extends Component {\n\n\tcomponentDidMount(){\n\t\tthis.props.loadData();\n\t}\n\n\trender(){\n\t\tconst { events, ui } = this.props;\n\t\tconst len = events.length;\n\n\t\treturn (\n\t\t\t<div className='home'>\n\t\t\t\t<Filters>\n\t\t\t\t\t<div className='clearfix' />\n\t\t\t\t\t<div className='mdl-grid mdl-grid--no-spacing'>\n\t\t\t\t\t\t<div className='mdl-cell mdl-cell--12-col-desktop'>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tui.isLoading ? (\n\t\t\t\t\t\t\t\t\t<Dimmer active inverted>\n\t\t\t\t\t\t\t\t\t\t<Loader inverted>Loading</Loader>\n\t\t\t\t\t\t\t\t\t</Dimmer>\n\t\t\t\t\t\t\t\t) : (\n\n\t\t\t\t\t\t\t\t\t<div className='mdl-grid'>\n\t\t\t\t\t\t\t\t\t\t{len > 0 ?\n\t\t\t\t\t\t\t\t\t\t\tevents.map(e => <Event key={e.id} {...e}/>)\n\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t<Segment className='home__not-found' placeholder>\n\t\t\t\t\t\t\t\t\t\t\t\t<Header icon>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon name='search' />\n\t\t\t\t\t\t\t\t\t\t\t\t\tМы не нашли ничего по вашему запросу {\"    \"} :(\n\t\t\t\t\t\t\t\t\t\t\t\t</Header>\n\t\t\t\t\t\t\t\t\t\t\t\t<Segment.Inline>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize='tiny'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpositive\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.props.clear}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>Очистить фильтры</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t</Segment.Inline>\n\t\t\t\t\t\t\t\t\t\t\t</Segment>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Filters>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = ( state ) => {\n\treturn { ...state.home };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tloadData: () => {\n\t\t\tdispatch(getInitialData());\n\t\t},\n\t\tclear: () => {\n\t\t\tdispatch(clearFields());\n\t\t\tdispatch(getInitialData());\n\t\t}\n\t}\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","import React, { Component } from 'react';\nimport { object } from 'prop-types';\n\nclass LazyLoad extends Component {\n\t\n\tcomponentWillMount() {\n\t\tconst self = this;\n\t\tthis.props.load.then(comp => {\n\t\t\tself.comp = comp;\n\t\t\tself.forceUpdate();\n\t\t});\n\t}\n\trender() {\n\t\tconst Component = this.comp;\n\t\treturn Component ? <Component /> : null;\n\t}\n}\n\nLazyLoad.propTypes = {\n\tload: object\n};\n\nexport default (dynamicImport) => () => (\n\t<LazyLoad load={ dynamicImport() } />\n);","import Home from '../pages/home';\nimport { lazyLoad } from '../enhancers';\n\nconst routes = [\n\t{\n\t\tpath: '/',\n\t\tcomponent: Home,\n\t\texact: true\n\t},\n\t{\n\t\tpath: '/event/details/:permalink',\n\t\tcomponent: lazyLoad(() => new Promise((resolve, reject) => {\n\t\t\tresolve(require('../pages/details-event').default)\n\t\t})),\n\t\texact: true\n\t},\n\t{\n\t\tpath: '/event/edit/:permalink',\n\t\tcomponent: lazyLoad(() => new Promise((resolve, reject) => {\n\t\t\tresolve(require('../pages/event').default)\n\t\t})),\n\t\texact: true\n\t},\n\t{\tpath: '/event/new',\n\t\tcomponent: lazyLoad(() => new Promise((resolve, reject) => {\n\t\t\tresolve(require('../pages/event').default)\n\t\t})),\n\t\texact: true\n\t}\n];\n\nexport default routes;","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport routes from './routes';\n\nconst App = () => (\n\t<div>\n\t\t{ routes.map(route => (\n\t\t\t<Route key={ route.path } { ...route } />\n\t\t)) }\n\t</div>\n);\n\nexport default App;","import 'react-app-polyfill/ie9';\nimport 'react-app-polyfill/stable';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\n\nimport App from './ui/app';\nimport configureStore from './store';\nimport './css/material.font.css';\nimport './css/material.min.css';\nimport './css/global.css';\n\nimport 'semantic-ui-css/semantic.min.css';\n\nconst store = configureStore();\n\nconst render = () => (\n\t<Provider store={store}>\n\t\t<Router>\n\t\t\t<App />\n\t\t</Router>\n\t</Provider>\n);\n\nReactDOM.render(render(), document.getElementById('root'));\n\n\n","import { constants } from './filtersActions';\nimport { constants as homeConstatns } from '../homeActions';\n\nconst initialState = {\n\tsearch: '',\n\tpage: 1,\n\tpagesCount: 1,\n\tstatus: 'all',\n\tsubject: 'all',\n\tcity: 'all',\n\taffilation: 'all',\n\tui: {\n\t\tisLoading: false\n\t}\n}\n\nexport default function reducer(state = initialState, action) {\n\tswitch(action.type) {\n\n\t\tcase homeConstatns.GET_INITIAL_DATA_SUCCESS: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpagesCount: action.payload.pagesCount\n\t\t\t}\n\t\t}\n\n\t\tcase constants.CLEAR_FIELDS: {\n\t\t\treturn {\n\t\t\t\t...initialState\n\t\t\t}\n\t\t}\n\n\t\tcase constants.CHANGE_SEARCH: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsearch: action.payload\n\t\t\t}\n\t\t}\n\n\t\tcase constants.CHANGE_PAGE: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpage: action.payload\n\t\t\t}\n\t\t}\n\n\t\tcase constants.CHANGE_STATUS: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tstatus: action.payload\n\t\t\t}\n\t\t}\n\n\t\tcase constants.CHANGE_SUBJECT: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsubject: action.payload\n\t\t\t}\n\t\t}\n\n\t\tcase constants.CHANGE_CITY: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcity: action.payload\n\t\t\t}\n\t\t}\n\n\t\tcase constants.CHANGE_AFFILATION: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\taffilation: action.payload\n\t\t\t}\n\t\t}\n\n\t\tdefault: return state;\n\t}\n}","import { constants } from './homeActions';\nimport { combineReducers } from 'redux';\nimport filtersReducer from './filters/reducer';\n\nfunction statusReducer(state=[], action){\n\tswitch(action.type) {\n\n\t\tcase constants.GET_INITIAL_DATA_SUCCESS: {\n\t\t\tlet { status_list } = action.payload;\n\n\t\t\tstatus_list = status_list.map(s => ({\n\t\t\t\ttext: s.title,\n\t\t\t\tvalue: s.id,\n\t\t\t\t...s\n\t\t\t}));\n\t\t\treturn [{\n\t\t\t\t\tvalue: 'all',\n\t\t\t\t\ttext: 'Выберите статус',\n\t\t\t\t\troles: ['admin', 'event_admin', 'user']\n\t\t\t\t}, \n\t\t\t\t...status_list\n\t\t\t]\n\t\t}\n\t\tdefault: return state;\n\t}\n}\n\nfunction citiesReducer(state=[], action){\n\tswitch(action.type) {\n\n\t\tcase constants.GET_INITIAL_DATA_SUCCESS: {\n\t\t\tlet { cities } = action.payload;\n\n\t\t\tcities = cities.map(c => ({\n\t\t\t\ttext: c.name,\n\t\t\t\tvalue: c.id\n\t\t\t}));\n\t\t\treturn [{\n\t\t\t\t\tvalue: 'all',\n\t\t\t\t\ttext: 'Выберите город'\n\t\t\t\t}, \n\t\t\t\t...cities\n\t\t\t]\n\t\t}\n\t\tdefault: return state;\n\t}\n}\n\nfunction affilationsReducer(state=[], action){\n\tswitch(action.type) {\n\n\t\tcase constants.GET_INITIAL_DATA_SUCCESS: {\n\t\t\tlet { filter_list } = action.payload;\n\n\t\t\tconst affilations = filter_list.map(a => ({\n\t\t\t\ttext: a.title,\n\t\t\t\tvalue: a.id\n\t\t\t}));\n\t\t\treturn affilations;\n\t\t}\n\t\tdefault: return state;\n\t}\n}\n\nfunction subjectsReducer(state=[], action){\n\tswitch(action.type) {\n\n\t\tcase constants.GET_INITIAL_DATA_SUCCESS: {\n\t\t\tlet { subjects } = action.payload;\n\n\t\t\tsubjects = subjects.map(s => ({\n\t\t\t\ttext: s,\n\t\t\t\tvalue: s\n\t\t\t}));\n\t\t\treturn [{\n\t\t\t\t\tvalue: 'all',\n\t\t\t\t\ttext: 'Выберите тематику'\n\t\t\t\t}, \n\t\t\t\t...subjects\n\t\t\t]\n\t\t}\n\t\tdefault: return state;\n\t}\n}\n\nfunction userReducer(state={}, action){\n\tswitch(action.type) {\n\t\tcase constants.GET_INITIAL_DATA_SUCCESS: {\n\t\t\tconst { cur_user_id, user_role } = action.payload;\n\t\t\treturn {\n\t\t\t\tcur_user_id,\n\t\t\t\tuser_role\n\t\t\t}\n\t\t}\n\n\t\tdefault: return state;\n\t}\n}\n\nfunction eventsReducer(state=[], action){\n\tswitch(action.type) {\n\n\t\tcase constants.GET_INITIAL_DATA_SUCCESS: {\n\t\t\treturn action.payload.events;\n\t\t}\n\n\t\tdefault: return state;\n\t}\n}\n\nfunction loadingReducer(state = false, action){\n\tswitch(action.type) {\n\n\t\tcase constants.INITIAL_LOADING: {\n\t\t\treturn action.payload;\n\t\t}\n\n\t\tdefault: return state;\n\t}\n}\n\nconst reducer = combineReducers({\n\tuser: userReducer,\n\tcities: citiesReducer,\n\taffilations: affilationsReducer,\n\tsubjects: subjectsReducer,\n\tstatuses: statusReducer,\n\tevents: eventsReducer,\n\tui: combineReducers({\n\t\tfilters: filtersReducer,\n\t\tisLoading: loadingReducer\n\t})\n});\n\nexport default reducer;","import { constants } from './eventActions';\n\nfunction uiReducer(state = {\n\tisLoading: false\n}, action){\n\tswitch(action.type) {\n\n\t\tcase constants.NEW_EVENT_LOADING: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisLoading: action.payload\n\t\t\t}\n\t\t}\n\n\t\tdefault: return state;\n\t}\n}\n\nexport default function eventNewReducer(state = {\n\tid: '',\n\ttitle: '',\n\tlong_desc: '',\n\tshort_desc: '',\n\tstart_date: new Date(),\n\tfinish_date: new Date(),\n\tcity: '',\n\tcity_id: '',\n\taddress: '',\n\tsubject_id: '',\n\tmax_person_count: 0,\n\tcost: 0,\n\tcities: [],\n\tsubjects: [],\n\timg: '',\n\timg_name: '',\n\tprevFileId: '',\n\tui: {\n\t\tisLoading: false\n\t}\n}, action){\n\tswitch(action.type) {\n\n\t\tcase constants.GET_EVENT_CREATE_SUCCESS: {\n\t\t\tlet { cities, subjects } = action.payload;\n\t\t\tcities = cities.map(c => ({\n\t\t\t\ttext: c.name,\n\t\t\t\tvalue: c.id\n\t\t\t}));\n\n\t\t\tsubjects = subjects.map(s => ({\n\t\t\t\ttext: s,\n\t\t\t\tvalue: s\n\t\t\t}));\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.payload,\n\t\t\t\tprevFileId: action.payload.img ? \n\t\t\t\t\taction.payload.img.substring(action.payload.img.lastIndexOf('=') + 1, action.payload.img.length) : '',\n\t\t\t\tstart_date: action.payload.start_date ? new Date(action.payload.start_date): new Date(),\n\t\t\t\tfinish_date: action.payload.finish_date ? new Date(action.payload.finish_date): new Date(),\n\t\t\t\tcities,\n\t\t\t\tsubjects\n\t\t\t}\n\t\t}\n\n\t\tcase constants.NEW_EVENT_CHANGE_FILE_NAME: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\timg_name: action.payload,\n\t\t\t\tprevFileId: ''\n\t\t\t}\n\t\t}\n\n\t\tcase constants.NEW_EVENT_CHANGE_TITLE: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttitle: action.payload\n\t\t\t}\n\t\t}\n\n\t\tcase constants.NEW_EVENT_CHANGE_DESCRIPTION: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tlong_desc: action.payload\n\t\t\t}\n\t\t}\n\n\t\tcase constants.NEW_EVENT_CHANGE_SHORT_DESCRIPTION: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tshort_desc: action.payload\n\t\t\t}\n\t\t}\n\n\t\tcase constants.NEW_EVENT_CHANGE_START_DATE: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tstart_date: action.payload\n\t\t\t}\t\n\t\t}\n\n\t\tcase constants.NEW_EVENT_CHANGE_FINISH_DATE: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfinish_date: action.payload\n\t\t\t}\n\t\t}\n\n\t\tcase constants.NEW_EVENT_CHANGE_CITY: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcity_id: action.payload\n\t\t\t}\n\t\t}\n\n\t\tcase constants.NEW_EVENT_CHANGE_ADDRESS: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\taddress: action.payload\n\t\t\t}\n\t\t}\n\n\t\tcase constants.NEW_EVENT_CHANGE_SUBJECT: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsubject_id: action.payload\n\t\t\t}\n\t\t}\n\n\t\tcase constants.NEW_EVENT_CHANGE_MAX_PERSONS: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmax_person_count: action.payload\n\t\t\t}\n\t\t}\n\n\t\tcase constants.NEW_EVENT_CHANGE_COST: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcost: action.payload\n\t\t\t}\n\t\t}\n\n\t\tcase constants.NEW_EVENT_LOADING: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tui: uiReducer(state.ui, action)\n\t\t\t}\n\t\t}\n\n\t\tdefault: return state;\n\t}\n}","import { constants } from './eventDetailsActions';\nimport { combineReducers } from 'redux';\n\nfunction commentsReducer(state=[], action){\n\tswitch(action.type){\n\t\tcase constants.REMOVE_EVENT_DETAILS_COMMENT_SUCCESS: {\n\t\t\treturn state.filter(c => c.id !== action.payload.commentId);\n\t\t}\n\n\t\tcase constants.ADD_EVENT_DETAILS_COMMENT_SUCCESS: {\n\t\t\treturn state.concat([ {\n\t\t\t\t...action.payload\n\t\t\t} ])\n\t\t}\n\n\t\tcase constants.EDIT_EVENT_DETAILS_COMMENT_SUCCESS: {\n\t\t\treturn state.map(c => {\n\t\t\t\t\tif (c.id === action.payload.commentId){\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...c,\n\t\t\t\t\t\t\tmessage: action.payload.message\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn c;\n\t\t\t\t});\n\t\t}\n\n\t\tdefault: return state;\n\t}\n}\n\nfunction collaboratorsReducer(state=[], action) {\n\tswitch (action.type) {\n\t\tcase constants.SET_EVENT_DETAILS_PARTICIPANT_STATUS_SUCCESS: {\n\t\t\tif (action.payload.isConfirm){\n\t\t\t\treturn state.map(c => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...c,\n\t\t\t\t\t\tis_confirm: c.id == action.payload.userId ? true : c.is_confirm\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn state.filter(c => {\n\t\t\t\t\treturn c.id != action.payload.userId\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tcase constants.RESPOND_EVENT_DETAILS_PARTICIPANT_SUCCESS: {\n\t\t\treturn state.concat([action.payload]);\n\t\t}\n\n\t\tcase constants.REFUSE_EVENT_DETAILS_PARTICIPANT_SUCCESS: {\n\t\t\treturn state.filter(c => c.id !== action.payload.id);\n\t\t}\n\t\t\n\t\tdefault: return state;\n\t}\n}\n\nfunction uiReducer(state = {\n\tisLoading: false\n}, action){\n\tswitch(action.type) {\n\n\t\tcase constants.EVENT_DETAILS_LOADING: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisLoading: action.payload\n\t\t\t}\n\t\t}\n\n\t\tdefault: return state;\n\t}\n}\n\nexport default function eventDetailsReducer(state={\n\tcollaborators: [],\n\tcomments: [],\n\tadmins: [],\n\tui: {\n\t\tisLoading: false\n\t}\n}, action){\n\tswitch(action.type) {\n\n\t\tcase constants.GET_EVENT_DETAILS_INITIAL_DATA_SUCCESS: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.payload\n\t\t\t}\n\t\t}\n\n\t\tcase constants.EVENT_DETAILS_SET_STATUS: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tstatus_id: action.payload.status_id,\n\t\t\t\tstatus_name: action.payload.status_name\n\t\t\t}\n\t\t}\n\n\t\tcase constants.REFUSE_EVENT_DETAILS_PARTICIPANT_SUCCESS:\n\t\tcase constants.RESPOND_EVENT_DETAILS_PARTICIPANT_SUCCESS:\n\t\tcase constants.SET_EVENT_DETAILS_PARTICIPANT_STATUS_SUCCESS: {\n\n\t\t\tconst newState = {\n\t\t\t\t...state,\n\t\t\t\tcollaborators: collaboratorsReducer(state.collaborators, action)\n\t\t\t}\n\n\t\t\treturn newState;\n\t\t}\n\n\t\tcase constants.REMOVE_EVENT_DETAILS_COMMENT_SUCCESS:\n\t\tcase constants.ADD_EVENT_DETAILS_COMMENT_SUCCESS:\n\t\tcase constants.EDIT_EVENT_DETAILS_COMMENT_SUCCESS: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcomments: commentsReducer(state.comments, action) \n\t\t\t}\n\t\t}\n\n\t\tcase constants.EVENT_DETAILS_LOADING: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tui: uiReducer(state.ui, action)\n\t\t\t}\n\t\t}\n\t\tdefault: return state;\n\t}\n}","import { combineReducers } from 'redux';\nimport homeReducer from './pages/home/reducer';\nimport eventReducer from './pages/event/eventReducer';\nimport eventDetailsReducer from './pages/details-event/eventDetailsReducer';\n\nconst reducer = combineReducers({\n\thome: homeReducer,\n\tevent: eventReducer,\n\teventDetails: eventDetailsReducer\n});\n\nexport default reducer;\n\n","import { createStore, applyMiddleware } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport reducers from '../ui/rootReducer';\n\nexport default function configureStore(){\n\tconst store = createStore(reducers, applyMiddleware(thunkMiddleware));\n\treturn store;\n}","export default function formateDate(date){\n\treturn date\n\t\t.toLocaleDateString(\n\t\t\t'ru-RU',\n\t\t\t{ year: 'numeric', month: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric'}\n\t\t);\n}","import React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport { connect } from 'react-redux';\nimport {\n\tgetEventDetails,\n\tsetParticipiantStatus,\n\tremoveComment,\n\taddComment,\n\teditComment,\n\trespondParticipiant,\n\trefuseParticipiant,\n\tresolveEvent,\n\trejectEvent,\n\tcompleteEvent\n} from './eventDetailsActions';\nimport {\n\tIcon,\n\tSegment,\n\tHeader,\n\tItem,\n\tImage,\n\tGrid,\n\tCard,\n\tList,\n\tButton,\n\tComment,\n\tForm,\n\tDimmer,\n\tLoader,\n\tDropdown,\n\tLabel\n} from 'semantic-ui-react';\nimport formatDate from '../../utils/formatDate';\nimport toBoolean from '../../utils/toBoolean';\nimport { find } from 'lodash';\n\nimport './event-details.css';\n\nclass EventDetails extends Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tcomment: '',\n\t\t\tisEditCommentNow: false\n\t\t}\n\n\t\tthis.handleChangeNewComment = this.handleChangeNewComment.bind(this);\n\t\tthis.handleSubmitNewComment = this.handleSubmitNewComment.bind(this);\n\t\tthis.handleChangeComment = this.handleChangeComment.bind(this);\n\t\tthis.handleSubmitComment = this.handleSubmitComment.bind(this);\n\t\tthis.handeShowEditCommentForm = this.handeShowEditCommentForm.bind(this);\n\t\tthis.handleCancelEditComment = this.handleCancelEditComment.bind(this);\n\t}\n\n\thandleChangeNewComment(e, { name, value }) {\n\t\tthis.setState({\n\t\t\t[name]: value\n\t\t});\n\t}\n\n\thandeShowEditCommentForm(commentId, message) {\n\t\tthis.setState({\n\t\t\t[`comment_${commentId}`]: true,\n\t\t\t[`commentValue_${commentId}`]: message,\n\t\t\tisEditCommentNow: true\n\t\t});\n\t}\n\n\thandleCancelEditComment(e, commentId){\n\t\te.preventDefault();\n\t\tthis.setState({\n\t\t\t[`comment_${commentId}`]: false\n\t\t})\n\t}\n\n\thandleChangeComment(e, { name, value }) {\n\t\tthis.setState({\n\t\t\t[name]: value\n\t\t});\n\t}\n\n\thandleSubmitComment(e, commentId) {\n\t\tconst { submitComment, id } = this.props;\n\n\t\te.preventDefault();\n\t\tsubmitComment(id, commentId, this.state[`commentValue_${commentId}`]);\n\t\tthis.setState({\n\t\t\t[`comment_${commentId}`]: false,\n\t\t\tisEditCommentNow: false\n\t\t});\n\t}\n\n\thandleSubmitNewComment(e) {\n\t\tconst { submitNewComment, id } = this.props;\n\n\t\te.preventDefault();\n\t\tsubmitNewComment(id, this.state.comment);\n\t\tthis.setState({\n\t\t\tcomment: ''\n\t\t});\n\t}\n\n\t_adminButtons(){\n\t\tconst { id, status_id, onResolveEvent, onRejectEvent, onCompleteEvent, history, user_role } = this.props;\n\t\tconst buttons = [];\n\t\tconst isEventAdmin = user_role === 'event_admin';\n\t\tconst isAdmin = user_role === 'admin';\n\n\t\tif (isAdmin || isEventAdmin){\n\t\t\tif (status_id === 'project' || status_id === 'plan'){\n\t\t\t\tbuttons.push(\n\t\t\t\t\t<Button.Group color='teal' className='event-details__reject' key={2}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tas={Button}\n\t\t\t\t\t\t\tfloating\n\t\t\t\t\t\t\ttext='Cменить статус'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Dropdown.Menu size='small'>\n\t\t    \t\t\t\t\t<Dropdown.Item text='Отменить' icon='close' onClick={onRejectEvent}/>\n\t\t    \t\t\t\t\t{status_id === 'plan' && <Dropdown.Item icon='minus' text='Завершить' onClick={onCompleteEvent}/>}\n\t\t    \t\t\t\t</Dropdown.Menu>\n\t\t    \t\t\t</Dropdown>\n\t    \t\t\t\t\n\t    \t\t\t</Button.Group>,\n\t\t\t\t\t<Button key={3}\n\t\t\t\t\t\tclassName='event-details__reject'\n\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\tcolor='red'\n\t\t\t\t\t\tonClick={() => history.push(`/event/edit/${id}`)}\n\t\t\t\t\t\ticon='pencil alternate'\n\t\t\t\t\t\tcontent='Редактировать'\n\t\t\t\t\t/>\n\t\t\t\t);\n\n\t\t\t\tif (isAdmin && status_id === 'project'){\n\t\t\t\t\tbuttons.push(\n\t\t\t\t\t\t<Button key={1}\n\t\t\t\t\t\t\tclassName='event-details__resolve'\n\t\t\t\t\t\t\tsize='mini'\n\t\t\t\t\t\t\tprimary\n\t\t\t\t\t\t\tonClick={onResolveEvent}\n\t\t\t\t\t\t\ticon='check'\n\t\t\t\t\t\t\tcontent='Подтвердить'\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn buttons;\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.props.loadEvent();\n\t}\n\n\trender(){\n\t\tconst {\n\t\t\tui,\n\t\t\thistory,\n\t\t\tid,\n\t\t\tcur_user_id,\n\t\t\tadmins,\n\t\t\tstatus_id,\n\t\t\tstatus_name,\n\t\t\ttitle,\n\t\t\tlong_desc,\n\t\t\timg,\n\t\t\tmax_person_count,\n\t\t\tcur_person_count,\n\t\t\tstart_date,\n\t\t\tfinish_date,\n\t\t\tcost,\n\t\t\tevent_admin_id,\n\t\t\tevent_admin_fullname,\n\t\t\tevent_admin_avatar,\n\t\t\tevent_admin_position,\n\t\t\taddress,\n\t\t\tlike_count,\n\t\t\tcollaborators,\n\t\t\tcomments\n\t\t} = this.props;\n\n\t\tconst {\n\t\t\tacceptParticipiantStatus,\n\t\t\trejectParticipiantStatus,\n\t\t\tremoveComment,\n\t\t\tonRespondParticipiant,\n\t\t\tonRefuseParticipiant\n\t\t} = this.props;\n\t\tconst { comment, isEditCommentNow } = this.state;\n\n\t\tconst styles = img ? { backgroundImage: `url(${img})` } : {};\n\n\t\tif (ui.isLoading){\n\t\t\treturn (\n\t\t\t\t<Dimmer active inverted>\n\t\t\t\t\t<Loader inverted>Loading</Loader>\n\t\t\t\t</Dimmer>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className='event-details'>\n\t\t\t\t<Button\n\t\t\t\t\tclassName='event-details__back'\n\t\t\t\t\tsize='small'\n\t\t\t\t\tprimary\n\t\t\t\t\ticon\n\t\t\t\t\tlabelPosition='left'\n\t\t\t\t\tonClick={() => history.push('/')}\n\t\t\t\t>\n\t\t\t\t\tНазад\n\t\t\t\t\t<Icon name='arrow left' />\n\t\t\t\t</Button>\n\t\t\t\t<Button.Group className='event-details__admin-buttons' size='mini'>\n\t\t\t\t\t{this._adminButtons()}\n\t\t\t\t</Button.Group>\n\t\t\t\t<div\n\t\t\t\t\tclassName='mdl-layout__header mdl-layout__header--scroll otp-layout__header otp-layout__header--transparent mdl-color--grey-400 mdl-shadow--4dp'\n\t\t\t\t\tstyle={styles}\n\t\t\t\t>\n\t\t\t\t\t<div className='mdl-layout__title otp-layout__title'>\n\t\t\t\t\t\t<div className='event-details__status'>\n\t\t\t\t\t\t\t{status_name}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='otp-layout__title-text mdl-typography--display-1'>\n\t\t\t\t\t\t\t<span className='event-details__title'>{title}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='otp-layout__subtitle'>\n\t\t\t\t\t\t\tС {formatDate(new Date(start_date))} по {formatDate(new Date(finish_date))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<Segment basic>\n\t\t\t\t\t<Grid>\n\t\t\t\t\t\t<Grid.Row>\n\t\t\t\t\t\t\t<Grid.Column width={8}>\n\t\t\t\t\t\t\t\t<Header as='h2' dividing>Описание</Header>\n\t\t\t\t\t\t\t\t<Card fluid>\n\t\t\t\t\t\t\t\t\t<Card.Content>\n\t\t\t\t\t\t\t\t\t\t<Image avatar floated='left' size='massive' src={event_admin_avatar} />\n\t\t\t\t\t\t\t\t\t\t<Card.Header>{event_admin_fullname}</Card.Header>\n\t\t\t\t\t\t\t\t\t\t<Card.Meta>{event_admin_position}</Card.Meta>\n\t\t\t\t\t\t\t\t\t\t<Card.Description>\n\t\t\t\t\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{__html: long_desc}} />\n\t\t\t\t\t\t\t\t\t\t</Card.Description>\n\t\t\t\t\t\t\t\t\t</Card.Content>\n\t\t\t\t\t\t\t\t\t<Card.Content extra>\n\t\t\t\t\t\t\t\t\t{cost ? (\n\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t<Icon name='ruble sign' color='grey'/>\n\t\t\t\t\t\t\t\t\t\t\t\t{cost}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<span>Стоимость не указана</span>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{status_id === 'plan' && \n\t\t\t\t\t\t\t\t\t\t(find(collaborators, { id: cur_user_id }) ?\n\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t \t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tfloated='right'\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize='tiny'\n\t\t\t\t\t\t\t\t\t\t\t\t\tbasic\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='red'\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={onRefuseParticipiant}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tОтказаться\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t \t<span>{(collaborators.length < max_person_count || max_person_count === 0) && <Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tfloated='right'\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize='tiny'\n\t\t\t\t\t\t\t\t\t\t\t\t\tbasic\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='blue'\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={onRespondParticipiant}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tОткликнуться\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>}</span>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</Card.Content>\n\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t\t<Grid.Column width={8}>\n\t\t\t\t\t\t\t\t<Header as='h2' dividing>Участники ({collaborators.length} / {max_person_count})</Header>\n\t\t\t\t\t\t\t\t<List divided verticalAlign='middle'>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tcollaborators.map((c, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<List.Item key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t{(event_admin_id === cur_user_id && status_id === 'plan') ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<List.Content floated='right'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{!toBoolean(c.is_confirm) ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button.Group size='mini'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon='add'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='green'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => acceptParticipiantStatus(c.id)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button.Or text=' | '/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon='minus'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='red'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => rejectParticipiantStatus(c.id)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button.Group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t): (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon name='check' color='green' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</List.Content>\n\t\t\t\t\t\t\t\t\t\t\t\t): (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<List.Content floated='right'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{toBoolean(c.is_confirm) ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon name='check' color='green' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t): (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>На утверждении</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</List.Content>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t<Image avatar src={c.avatar} />\n\t\t\t\t\t\t\t\t\t\t\t\t<List.Content>{c.fullname}</List.Content>\n\t\t\t\t\t\t\t\t\t\t\t</List.Item>\n\t\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t</Grid.Row>\n\t\t\t\t\t\t<Grid.Row>\n\t\t\t\t\t\t\t<Grid.Column with={16}>\n\t\t\t\t\t\t\t\t<Comment.Group>\n\t\t\t\t\t\t\t\t\t<Header as='h3' dividing>\n\t\t\t\t\t\t\t\t\t\tКомментарии\n\t\t\t\t\t\t\t\t\t</Header>\n\t\t\t\t\t\t\t\t\t{comments.map(c => (\n\t\t\t\t\t\t\t\t\t\t<div key={c.id} className='event-details__comment'>\n\t\t\t\t\t\t\t\t\t\t\t{!this.state[`comment_${c.id}`] ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<Comment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Comment.Avatar src={c.avatar} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Comment.Content>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Comment.Author href='/test' as='a'>{c.user_fullname}</Comment.Author>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Comment.Metadata>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>{formatDate(new Date(c.date))}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Comment.Metadata>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Comment.Text>{c.message}</Comment.Text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(cur_user_id === c.user_id && status_id === 'plan') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Comment.Actions>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Comment.Action onClick={() => this.handeShowEditCommentForm(c.id, c.message)}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon name='pencil' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tРедактировать\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Comment.Action>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Comment.Action onClick={() => removeComment(id, c.id)}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon name='remove' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tУдалить\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Comment.Action>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Comment.Actions>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Comment.Content>\n\t\t\t\t\t\t\t\t\t\t\t\t</Comment>\n\t\t\t\t\t\t\t\t\t\t\t): (\n\t\t\t\t\t\t\t\t\t\t\t\t<Form className='event-details__form' reply onSubmit={(e) => this.handleSubmitComment(e, c.id)}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.TextArea\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`commentValue_${c.id}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state[`commentValue_${c.id}`]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeComment}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize='mini'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent='Отменить'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelPosition='left'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon= 'remove'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsecondary\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfloated='right'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => this.handleCancelEditComment(e, c.id)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize='mini'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent='Cохранить'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelPosition='left'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon= 'edit'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tprimary\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfloated='right'\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t{!isEditCommentNow && <Form reply onSubmit={this.handleSubmitNewComment}>\n\t\t\t\t\t\t\t\t\t\t<Form.TextArea name='comment' value={comment} onChange={this.handleChangeNewComment}/>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tsize='tiny'\n\t\t\t\t\t\t\t\t\t\t\tdisabled={comment.trim() === ''}\n\t\t\t\t\t\t\t\t\t\t\tcontent='Добавить комментарий'\n\t\t\t\t\t\t\t\t\t\t\tlabelPosition='left'\n\t\t\t\t\t\t\t\t\t\t\ticon='edit'\n\t\t\t\t\t\t\t\t\t\t\tprimary\n\t\t\t\t\t\t\t\t\t\t\tfloated='right'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Form>}\n\t\t\t\t\t\t\t\t\t</Comment.Group>\n\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t</Grid.Row>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Segment>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn state.eventDetails;\n};\n\nconst mapDispatchProps = (dispatch, ownProps) => {\n\tconst { match } = ownProps;\n\treturn {\n\t\tloadEvent: () => dispatch(getEventDetails(match.params.permalink)),\n\t\tacceptParticipiantStatus: (userId) => dispatch(setParticipiantStatus(userId, true)),\n\t\trejectParticipiantStatus: (userId) => dispatch(setParticipiantStatus(userId, false)),\n\t\tremoveComment: (eventId, commentId) => dispatch(removeComment(eventId, commentId)),\n\t\tsubmitNewComment: (eventId, message) => dispatch(addComment(eventId, message)),\n\t\tsubmitComment: (eventId, commentId, message) => dispatch(editComment(eventId, commentId, message)),\n\t\tonRespondParticipiant: () => dispatch(respondParticipiant()),\n\t\tonRefuseParticipiant: () => dispatch(refuseParticipiant()),\n\t\tonResolveEvent: () => dispatch(resolveEvent()),\n\t\tonRejectEvent: () => dispatch(rejectEvent()),\n\t\tonCompleteEvent: () => dispatch(completeEvent())\n\t}\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchProps)(EventDetails));","export { default } from './eventDetails';","const createAction = action => {\n\treturn {\n\t\t[action]: action,\n\t\t[`${action}_SUCCESS`]: `${action}_SUCCESS`,\n\t\t[`${action}_FAILURE`]: `${action}_FAILURE`\n\t}\n}\n\nexport default function createRemoteActions(actions){\n\tif (Object.prototype.toString.call(actions) === '[object String]') {\n\t\tactions = [actions];\n\t}\n\n\tif (!Array.isArray(actions)){\n\t\tthrow new Error('Unknown input arguments!');\n\t}\n\n\treturn actions.reduce((f,s) => {\n\t\tconst reducedAction = createAction(s);\n\t\treturn Object.assign(f, reducedAction);\n\t}, {});\n}","import { isBoolean } from 'lodash';\n\nexport default function toBoolean(str){\n\tif (isBoolean(str)) return str;\n\n\tif (str === 'true') return true;\n\telse if (str === 'false') return false;\n\n\treturn false;\n}","const lut = [];\n\nfor (let i = 0; i < 256; i++) {\n\tlut[i] = (i < 16 ? '0' : '') + (i).toString(16);\n}\n\nexport default function uuid(){\n\tconst d0 = Math.random() * 0xffffffff | 0;\n\tconst d1 = Math.random() * 0xffffffff | 0;\n\tconst d2 = Math.random() * 0xffffffff | 0;\n\tconst d3 = Math.random() * 0xffffffff | 0;\n\t\n\treturn lut[d0 & 0xff] + lut[d0 >> 8 & 0xff] + lut[d0 >> 16 & 0xff] + lut[d0 >> 24 & 0xff] + '-' +\n\t\tlut[d1 & 0xff] + lut[d1 >> 8 & 0xff] + '-' + lut[d1 >> 16 & 0x0f | 0x40] + lut[d1 >> 24 & 0xff] + '-' +\n\t\tlut[d2 & 0x3f | 0x80] + lut[d2 >> 8 & 0xff] + '-' + lut[d2 >> 16 & 0xff] + lut[d2 >> 24 & 0xff] +\n\t\tlut[d3 & 0xff] + lut[d3 >> 8 & 0xff] + lut[d3 >> 16 & 0xff] + lut[d3 >> 24 & 0xff];\n}","import { find, findIndex } from 'lodash';\nimport uuid from '../../utils/uuid';\n\n\nconst events = [\n\t{\n\t\t\"id\": \"6668962976716051403\",\n\t\t\"cur_user_id\": \"6148914691236517121\",\n\t\t\"user_role\": \"event_admin\",\n\t\t\"title\": \"Речная прогулка по Москве реке\",\n\t\t\"status_name\": \"Плнируется\",\n\t\t\"status_id\": \"plan\",\n\t\t\"long_desc\": \"Круиз через весь&nbsp;центр Москвы на комфортабельном, двухпалубном теплаходе &quot;МАЭСТРО&quot;. В программе мероприятия шикарный ужин, музыкальная программа и завораживающий вид&nbsp; с борта теплохода на достопримечательности Москвы.\",\n\t\t\"img\": \"/download_file.html?file_id=6668970663716716859\",\n\t\t\"max_person_count\": \"25\",\n\t\t\"start_date\": \"Sat, 01 Jun 2019 16:00:00 +0300\",\n\t\t\"finish_date\": \"Sat, 01 Jun 2019 19:00:00 +0300\",\n\t\t\"cost\": \"150000\",\n\t\t\"city_id\": \"5667697629116916688\",\n\t\t\"city\": \"Москва\",\n\t\t\"subject_id\": \"Развлечение\",\n\t\t\"address\": \"г. Москва, Крымский Вал, 9\",\n\t\t\"phone_number\": \"84967281726\",\n\t\t\"email\": \"user_019@gmail.com\",\n\t\t\"event_admin_id\": \"6671630922937078440\",\n\t\t\"event_admin_fullname\": \"Антонова Елена Анатольевна\",\n\t\t\"event_admin_position\": \"Начальник отдела\",\n\t\t\"event_admin_avatar\": \"/download_file.html?file_id=6671631649276712429\",\n\t\t\"like_count\": \"3\",\n\t\t\"collaborators\": [\n\t\t{\n\t\t  \"id\": \"6671537774053763818\",\n\t\t  \"fullname\": \"Павленко Ирина Леонидовна\",\n\t\t  \"is_confirm\": \"true\",\n\t\t  \"avatar\": \"/download_file.html?file_id=6671538400859850742\"\n\t\t},\n\t\t{\n\t\t  \"id\": \"6671536515542115698\",\n\t\t  \"fullname\": \"Калугина Елена Руслановна\",\n\t\t  \"is_confirm\": \"true\",\n\t\t  \"avatar\": \"/download_file.html?file_id=6671537379586870665\"\n\t\t},\n\t\t{\n\t\t  \"id\": \"6670724707302122721\",\n\t\t  \"fullname\": \"Петров Петр Петрович\",\n\t\t  \"is_confirm\": \"true\",\n\t\t  \"avatar\": \"/download_file.html?file_id=6669106315989699280\"\n\t\t},\n\t\t{\n\t\t  \"id\": \"6148914691236517121\",\n\t\t  \"fullname\": \"Иванов Иван Иванович\",\n\t\t  \"is_confirm\": \"false\",\n\t\t  \"avatar\": \"/download_file.html?file_id=6671540961322951686\"\n\t\t}\n\t\t],\n\t\t\"comments\": [\n\t\t{\n\t\t  \"id\": \"6677220343771366295\",\n\t\t  \"user_id\": \"6148914691236517121\",\n\t\t  \"avatar\": \"/download_file.html?file_id=6671540961322951686\",\n\t\t  \"user_fullname\": \"Иванов Иван Иванович\",\n\t\t  \"date\": \"Sun, 07 Apr 2019 21:25:10 +0300\",\n\t\t  \"message\": \"fsfs\"\n\t\t}\n\t\t],\n\t\t\"cities\": [\n\t\t{\n\t\t  \"id\": \"5667697629116916643\",\n\t\t  \"name\": \"Абакан\"\n\t\t},\n\t\t{\n\t\t  \"id\": \"5667697629116916644\",\n\t\t  \"name\": \"Аксай\"\n\t\t},\n\t\t{\n\t\t  \"id\": \"5667697629116916645\",\n\t\t  \"name\": \"Актау\"\n\t\t},\n\t\t{\n\t\t  \"id\": \"5667697629116916646\",\n\t\t  \"name\": \"Актобе\"\n\t\t},\n\t\t{\n\t\t  \"id\": \"5667697629116916647\",\n\t\t  \"name\": \"Алматы\"\n\t\t},\n\t\t{\n\t\t  \"id\": \"5667697629116916648\",\n\t\t  \"name\": \"Архангельск\"\n\t\t},\n\t\t{\n\t\t  \"id\": \"5667697629116916649\",\n\t\t  \"name\": \"Астана\"\n\t\t}\n\t\t],\n\t\t\"subjects\": [\n\t\t\t\"Образование\",\n\t\t\t\"Спорт\",\n\t\t\t\"Здоровье\",\n\t\t\t\"Путешествия, туризм\",\n\t\t\t\"Культура\",\n\t\t\t\"Развлечение\"\n\t\t]\n\t}\n]\n\nconst data = events[0];\n\nexport function setParticipiantStatusMock(eventId, userId, isConfirm){\n\tconst event = find(events, { id: eventId });\n\tif (event){\n\t\tconst index = findIndex(event.collaborators, { id: userId });\n\t\tif (index !== -1){\n\t\t\tif (isConfirm){\n\t\t\t\tevent.collaborators[index].is_confirm = isConfirm;\n\t\t\t} else {\n\t\t\t\tevent.collaborators.splice(index, 1);\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function setCommentMock(eventId, commentId, message){\n\tconst event = find(events, { id: eventId });\n\tif (event){\n\t\tif (commentId !== null && commentId !== undefined) {\n\t\t\tconst comment = find(event.comments, { id: commentId });\n\t\t\tif (comment) {\n\t\t\t\tcomment.message = message;\n\t\t\t}\n\t\t} else {\n\t\t\tconst newComment = {\n\t\t\t\t\"id\": uuid(),\n\t\t\t\t\"user_id\": uuid(),\n\t\t\t\t\"avatar\": \"/download_file.html?file_id=6669106315989699280\",\n\t\t\t\t\"user_fullname\": \"Иванов Иван Иванович\",\n\t\t\t\t\"date\": new Date(),\n\t\t\t\t\"message\": message\n\t\t\t};\n\t\t\tevent.comments = event.comments.concat([newComment]);\n\t\t\treturn newComment;\n\t\t}\n\t}\n}\n\nexport function removeCommentMock(eventId, commentId){\n\tconst event = find(events, { id: eventId });\n\tif (event){\n\t\tconst index = findIndex(event.comments, { id: commentId });\n\t\tif (index !== -1){\n\t\t\tevent.comments.splice(index, 1);\n\t\t}\n\t}\n}\n\nexport default data;","import { url } from '../../../config';\nimport createRemoteActions from '../../utils/createRemoteActions';\nimport mock, { setParticipiantStatusMock, removeCommentMock, setCommentMock } from './mock';\n\nexport const constants = {\n\t...createRemoteActions([\n\t\t'GET_EVENT_DETAILS_INITIAL_DATA',\n\t\t'SET_EVENT_DETAILS_PARTICIPANT_STATUS',\n\t\t'REMOVE_EVENT_DETAILS_COMMENT',\n\t\t'ADD_EVENT_DETAILS_COMMENT',\n\t\t'EDIT_EVENT_DETAILS_COMMENT',\n\t\t'RESPOND_EVENT_DETAILS_PARTICIPANT',\n\t\t'REFUSE_EVENT_DETAILS_PARTICIPANT'\n\t]),\n\t'EVENT_DETAILS_SET_STATUS': 'EVENT_DETAILS_SET_STATUS',\n\t'EVENT_DETAILS_LOADING': 'EVENT_DETAILS_LOADING'\n}\n\nfunction loading(isLoading){\n\treturn {\n\t\ttype: constants.EVENT_DETAILS_LOADING,\n\t\tpayload: isLoading\n\t}\n}\n\nexport function getEventDetails(id){\n\treturn dispatch => {\n\t\tconst path = url.createPath({\n\t\t\tserver_name: 'events',\n\t\t\taction_name: 'EventData',\n\t\t\tid\n\t\t});\n\n\t\tdispatch(loading(true));\n\t\tfetch(path)\n\t\t.then(resp => {\n\t\t\treturn resp.json();\n\t\t})\n\t\t.then(data => {\n\t\t\tif (data.error){\n\t\t\t\t//dispatch(error(data.error));\n\t\t\t\tconsole.log(data.error);\n\t\t\t} else {\n\t\t\t\tdispatch(loading(false));\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: constants.GET_EVENT_DETAILS_INITIAL_DATA_SUCCESS,\n\t\t\t\t\tpayload: data\n\t\t\t\t});\n\t\t\t}\n\t\t}).catch(e => {\n\t\t\t//dispatch(error(e.message));\n\t\t\tconsole.log(e.message);\n\t\t});\n\n\n\t\t\n\t\t/*dispatch(loading(true));\n\t\tsetTimeout(() => {\n\t\t\tdispatch(loading(false));\n\t\t\tdispatch({\n\t\t\t\ttype: constants.GET_EVENT_DETAILS_INITIAL_DATA_SUCCESS,\n\t\t\t\tpayload: { ...mock }\n\t\t\t});\n\t\t}, 300);*/\n\t}\n}\n\nexport function resolveEvent(){\n\treturn (dispatch, getState) => {\n\t\tconst { eventDetails } = getState();\n\n\t\tconst path = url.createPath({\n\t\t\tserver_name: 'events',\n\t\t\taction_name: 'ResolveEvent'\n\t\t});\n\n\t\tfetch(path, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tid: eventDetails.id\n\t\t\t})\n\t\t})\n\t\t.then(resp => {\n\t\t\treturn resp.json();\n\t\t})\n\t\t.then(data => {\n\t\t\tif (data.error){\n\t\t\t\t//dispatch(error(data.error));\n\t\t\t\tconsole.log(data.error);\n\t\t\t} else {\n\t\t\t\t/*dispatch({\n\t\t\t\t\ttype: constants.RESOLVE_EVENT_DETAILS_SUCCESS,\n\t\t\t\t\tpayload: data.status_id\n\t\t\t\t});*/\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: constants.EVENT_DETAILS_SET_STATUS,\n\t\t\t\t\tpayload: data\n\t\t\t\t});\n\t\t\t}\n\t\t}).catch(e => {\n\t\t\t//dispatch(error(e.message));\n\t\t\tconsole.log(e.message);\n\t\t});\n\t}\n}\n\nexport function completeEvent(){\n\treturn (dispatch, getState) => {\n\t\tconst { eventDetails } = getState();\n\n\t\tconst path = url.createPath({\n\t\t\tserver_name: 'events',\n\t\t\taction_name: 'CompleteEvent'\n\t\t});\n\n\t\tfetch(path, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tid: eventDetails.id\n\t\t\t})\n\t\t})\n\t\t.then(resp => {\n\t\t\treturn resp.json();\n\t\t})\n\t\t.then(data => {\n\t\t\tif (data.error){\n\t\t\t\t//dispatch(error(data.error));\n\t\t\t\tconsole.log(data.error);\n\t\t\t} else {\n\t\t\t\t/*dispatch({\n\t\t\t\t\ttype: constants.REJECT_EVENT_DETAILS_SUCCESS,\n\t\t\t\t\tpayload: data\n\t\t\t\t});*/\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: constants.EVENT_DETAILS_SET_STATUS,\n\t\t\t\t\tpayload: data\n\t\t\t\t});\n\t\t\t}\n\t\t}).catch(e => {\n\t\t\t//dispatch(error(e.message));\n\t\t\tconsole.log(e.message);\n\t\t});\n\t}\n}\n\nexport function rejectEvent(){\n\treturn (dispatch, getState) => {\n\t\tconst { eventDetails } = getState();\n\n\t\tconst path = url.createPath({\n\t\t\tserver_name: 'events',\n\t\t\taction_name: 'RejectEvent'\n\t\t});\n\n\t\tfetch(path, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tid: eventDetails.id\n\t\t\t})\n\t\t})\n\t\t.then(resp => {\n\t\t\treturn resp.json();\n\t\t})\n\t\t.then(data => {\n\t\t\tif (data.error){\n\t\t\t\t//dispatch(error(data.error));\n\t\t\t\tconsole.log(data.error);\n\t\t\t} else {\n\t\t\t\t/*dispatch({\n\t\t\t\t\ttype: constants.REJECT_EVENT_DETAILS_SUCCESS,\n\t\t\t\t\tpayload: data\n\t\t\t\t});*/\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: constants.EVENT_DETAILS_SET_STATUS,\n\t\t\t\t\tpayload: data\n\t\t\t\t});\n\t\t\t}\n\t\t}).catch(e => {\n\t\t\t//dispatch(error(e.message));\n\t\t\tconsole.log(e.message);\n\t\t});\n\t}\n}\n\nexport function respondParticipiant() {\n\treturn (dispatch, getState) => {\n\t\tconst { eventDetails } = getState();\n\n\t\tconst path = url.createPath({\n\t\t\tserver_name: 'events',\n\t\t\taction_name: 'NewParticipiant'\n\t\t});\n\n\t\tfetch(path, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tid: eventDetails.id\n\t\t\t})\n\t\t})\n\t\t.then(resp => {\n\t\t\treturn resp.json();\n\t\t})\n\t\t.then(data => {\n\t\t\tif (data.error){\n\t\t\t\t//dispatch(error(data.error));\n\t\t\t\tconsole.log(data.error);\n\t\t\t} else {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: constants.RESPOND_EVENT_DETAILS_PARTICIPANT_SUCCESS,\n\t\t\t\t\tpayload: data\n\t\t\t\t});\n\t\t\t}\n\t\t}).catch(e => {\n\t\t\t//dispatch(error(e.message));\n\t\t\tconsole.log(e.message);\n\t\t});\n\t}\n}\n\nexport function refuseParticipiant() {\n\treturn (dispatch, getState) => {\n\t\tconst { eventDetails } = getState();\n\n\t\tconst path = url.createPath({\n\t\t\tserver_name: 'events',\n\t\t\taction_name: 'Refuse'\n\t\t});\n\n\t\tfetch(path, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tid: eventDetails.id\n\t\t\t})\n\t\t})\n\t\t.then(resp => {\n\t\t\treturn resp.json();\n\t\t})\n\t\t.then(data => {\n\t\t\tif (data.error){\n\t\t\t\t//dispatch(error(data.error));\n\t\t\t\tconsole.log(data.error);\n\t\t\t} else {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: constants.REFUSE_EVENT_DETAILS_PARTICIPANT_SUCCESS,\n\t\t\t\t\tpayload: data\n\t\t\t\t});\n\t\t\t}\n\t\t}).catch(e => {\n\t\t\t//dispatch(error(e.message));\n\t\t\tconsole.log(e.message);\n\t\t});\n\t}\n}\n\nexport function setParticipiantStatus(userId, isConfirm){\n\treturn (dispatch, getState) => {\n\t\tconst { eventDetails } = getState();\n\n\t\tconst path = url.createPath({\n\t\t\tserver_name: 'events',\n\t\t\taction_name: 'ParticipiantStatus'\n\t\t});\n\n\t\tfetch(path, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tid: eventDetails.id,\n\t\t\t\tuser_id: userId,\n\t\t\t\taccept: isConfirm\n\t\t\t})\n\t\t})\n\t\t.then(resp => {\n\t\t\treturn resp.json();\n\t\t})\n\t\t.then(data => {\n\t\t\tif (data.error){\n\t\t\t\t//dispatch(error(data.error));\n\t\t\t\tconsole.error(data.error);\n\t\t\t} else {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: constants.SET_EVENT_DETAILS_PARTICIPANT_STATUS_SUCCESS,\n\t\t\t\t\tpayload: {\n\t\t\t\t\t\tuserId,\n\t\t\t\t\t\tisConfirm\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}).catch(e => {\n\t\t\t//dispatch(error(e.message));\n\t\t\tconsole.error(e.message);\n\t\t});\n\n\t\t/*const { eventDetails } = getState();\n\t\tsetTimeout(() => {\n\t\t\tsetParticipiantStatusMock(eventDetails.id, userId, isConfirm);\n\t\t\tdispatch({\n\t\t\t\ttype: constants.SET_EVENT_DETAILS_PARTICIPANT_STATUS_SUCCESS,\n\t\t\t\tpayload: {\n\t\t\t\t\tuserId,\n\t\t\t\t\tisConfirm\n\t\t\t\t}\n\t\t\t});\n\t\t}, 100)*/\n\t}\n}\n\nexport function removeComment(eventId, commentId){\n\treturn (dispatch) => {\n\t\tconst path = url.createPath({\n\t\t\tserver_name: 'events',\n\t\t\taction_name: 'RemoveComment'\n\t\t});\n\n\t\tfetch(path, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tid: eventId,\n\t\t\t\tcomment_id: commentId\n\t\t\t})\n\t\t})\n\t\t.then(resp => {\n\t\t\treturn resp.json();\n\t\t})\n\t\t.then(data => {\n\t\t\tif (data.error){\n\t\t\t\t//dispatch(error(data.error));\n\t\t\t\tconsole.error(data.error);\n\t\t\t} else {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: constants.REMOVE_EVENT_DETAILS_COMMENT_SUCCESS,\n\t\t\t\t\tpayload: {\n\t\t\t\t\t\teventId,\n\t\t\t\t\t\tcommentId\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}).catch(e => {\n\t\t\t//dispatch(error(e.message));\n\t\t\tconsole.error(e.message);\n\t\t});\n\t\t/*setTimeout(() => {\n\t\t\tdispatch({\n\t\t\t\ttype: constants.REMOVE_EVENT_DETAILS_COMMENT_SUCCESS,\n\t\t\t\tpayload: {\n\t\t\t\t\teventId,\n\t\t\t\t\tcommentId\n\t\t\t\t}\n\t\t\t});\n\t\t\tremoveCommentMock(eventId, commentId);\n\t\t});*/\n\t}\n}\n\nexport function addComment(eventId, message) {\n\treturn (dispatch) => {\n\t\tconst path = url.createPath({\n\t\t\tserver_name: 'events',\n\t\t\taction_name: 'AddComment'\n\t\t});\n\n\t\tfetch(path, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tid: eventId,\n\t\t\t\tmessage\n\t\t\t})\n\t\t})\n\t\t.then(resp => {\n\t\t\treturn resp.json();\n\t\t})\n\t\t.then(data => {\n\t\t\tif (data.error){\n\t\t\t\t//dispatch(error(data.error));\n\t\t\t\tconsole.error(data.error);\n\t\t\t} else {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: constants.ADD_EVENT_DETAILS_COMMENT_SUCCESS,\n\t\t\t\t\tpayload: data\n\t\t\t\t});\n\t\t\t}\n\t\t}).catch(e => {\n\t\t\t//dispatch(error(e.message));\n\t\t\tconsole.error(e.message);\n\t\t});\n\t\t/*setTimeout(() => {\n\t\t\tconst comment = setCommentMock(eventId, null, message);\n\t\t\tdispatch({\n\t\t\t\ttype: constants.ADD_EVENT_DETAILS_COMMENT_SUCCESS,\n\t\t\t\tpayload: comment\n\t\t\t});\n\t\t});*/\n\t}\n}\n\nexport function editComment(eventId, commentId, message) {\n\treturn (dispatch) => {\n\t\tconst path = url.createPath({\n\t\t\tserver_name: 'events',\n\t\t\taction_name: 'AddComment'\n\t\t});\n\n\t\tfetch(path, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\t\tid: eventId,\n\t\t\t\t\tcomment_id: commentId,\n\t\t\t\t\tmessage\n\t\t\t\t})\n\t\t})\n\t\t.then(resp => {\n\t\t\treturn resp.json();\n\t\t})\n\t\t.then(data => {\n\t\t\tif (data.error){\n\t\t\t\t//dispatch(error(data.error));\n\t\t\t\tconsole.error(data.error);\n\t\t\t} else {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: constants.EDIT_EVENT_DETAILS_COMMENT_SUCCESS,\n\t\t\t\t\tpayload: {\n\t\t\t\t\t\tcommentId,\n\t\t\t\t\t\tmessage\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}).catch(e => {\n\t\t\t//dispatch(error(e.message));\n\t\t\tconsole.error(e.message);\n\t\t});\n\t\t/*setTimeout(() => {\n\t\t\tsetCommentMock(eventId, commentId, message);\n\t\t\tdispatch({\n\t\t\t\ttype: constants.EDIT_EVENT_DETAILS_COMMENT_SUCCESS,\n\t\t\t\tpayload: {\n\t\t\t\t\tcommentId,\n\t\t\t\t\tmessage\n\t\t\t\t}\n\t\t\t});\n\t\t});*/\n\t}\n}","import { url } from '../../../../config';\nimport { constants as homeConstants } from '../homeActions';\n\nexport const constants = {\n\t'CHANGE_SEARCH': 'CHANGE_SEARCH',\n\t'CHANGE_PAGE': 'CHANGE_PAGE',\n\t'CHANGE_STATUS': 'CHANGE_STATUS',\n\t'CHANGE_SUBJECT': 'CHANGE_SUBJECT',\n\t'CHANGE_CITY': 'CHANGE_CITY',\n\t'CHANGE_AFFILATION': 'CHANGE_AFFILATION',\n\t'CLEAR_FIELDS': 'CLEAR_FIELDS'\n}\n\nexport const statuses = {\n\tall: 'Выберите статус',\n\tactive: 'Активные',\n\tplan: 'Планируются',\n\tcompleted: 'Завершены'\n}\n\n\nexport function changeStatus(value){\n\treturn {\n\t\ttype: constants.CHANGE_STATUS,\n\t\tpayload: value\n\t}\n}\n\nexport function changeSearch(value){\n\treturn {\n\t\ttype: constants.CHANGE_SEARCH,\n\t\tpayload: value\n\t}\n}\n\nexport function changePage(value){\n\treturn {\n\t\ttype: constants.CHANGE_PAGE,\n\t\tpayload: value\n\t}\n}\n\nexport function changeSubject(value){\n\treturn {\n\t\ttype: constants.CHANGE_SUBJECT,\n\t\tpayload: value\n\t}\n}\n\nexport function changeCity(value){\n\treturn {\n\t\ttype: constants.CHANGE_CITY,\n\t\tpayload: value\n\t}\n}\n\nexport function changeAffilation(value){\n\treturn {\n\t\ttype: constants.CHANGE_AFFILATION,\n\t\tpayload: value\n\t}\n}\n\nexport function clearFields(){\n\treturn {\n\t\ttype: constants.CLEAR_FIELDS\n\t}\n}\n\n\nfunction loading(isLoading){\n\treturn {\n\t\ttype: homeConstants.INITIAL_LOADING,\n\t\tpayload: isLoading\n\t}\n}\n\nexport function search(){\n\treturn (dispatch, getState) => {\n\t\tconst { home } = getState();\n\t\tconst filters = home.ui.filters;\n\n\t\tconst path = url.createPath({\n\t\t\tserver_name: 'events',\n\t\t\taction_name: 'Data',\n\t\t\tstatus: filters.status,\n\t\t\tsearch: filters.search,\n\t\t\tpage: filters.page,\n\t\t\tcity: filters.city,\n\t\t\taffilation: filters.affilation,\n\t\t\tsubject: filters.subject\n\n\t\t});\n\n\t\tdispatch(loading(true));\n\t\tfetch(path)\n\t\t.then(resp => {\n\t\t\treturn resp.json();\n\t\t})\n\t\t.then(data => {\n\t\t\tif (data.error){\n\t\t\t\t//dispatch(error(data.error));\n\t\t\t\tconsole.error(data.error);\n\t\t\t} else {\n\t\t\t\tdispatch(loading(false));\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: homeConstants.GET_INITIAL_DATA_SUCCESS,\n\t\t\t\t\tpayload: data\n\t\t\t\t});\n\t\t\t}\n\t\t})\n\t\t.catch(e => {\n\t\t\t//dispatch(error(e.message));\n\t\t\tconsole.error(e.message);\n\t\t});\n\n\t\t/*setTimeout((search, status) => {\n\t\t\tdispatch({\n\t\t\t\ttype: constants.FILTER_EVENTS_SUCCESS,\n\t\t\t\tpayload: []\n\t\t\t})\n\t\t}, 1000);*/\n\t};\n}","const lut = [];\n\nfor (let i = 0; i < 256; i++) {\n\tlut[i] = (i < 16 ? '0' : '') + (i).toString(16);\n}\n\nexport default function uuid(){\n\tconst d0 = Math.random() * 0xffffffff | 0;\n\tconst d1 = Math.random() * 0xffffffff | 0;\n\tconst d2 = Math.random() * 0xffffffff | 0;\n\tconst d3 = Math.random() * 0xffffffff | 0;\n\t\n\treturn lut[d0 & 0xff] + lut[d0 >> 8 & 0xff] + lut[d0 >> 16 & 0xff] + lut[d0 >> 24 & 0xff] + '-' +\n\t\tlut[d1 & 0xff] + lut[d1 >> 8 & 0xff] + '-' + lut[d1 >> 16 & 0x0f | 0x40] + lut[d1 >> 24 & 0xff] + '-' +\n\t\tlut[d2 & 0x3f | 0x80] + lut[d2 >> 8 & 0xff] + '-' + lut[d2 >> 16 & 0xff] + lut[d2 >> 24 & 0xff] +\n\t\tlut[d3 & 0xff] + lut[d3 >> 8 & 0xff] + lut[d3 >> 16 & 0xff] + lut[d3 >> 24 & 0xff];\n}","import uuid from './utils/uuid';\n\nconst servers = [];\n\n/*\n\tsrv: {id: 1, name: 'test'}\n*/\nfunction Server(srv){\n\tconst id  = srv.id || uuid();\n\tconst name = srv.name || `name_${srv.id}`;\n\tlet actions = [];\n\n\tthis.addActions = _actions => {\n\t\tactions = actions.concat((_actions || []));\n\t\treturn this;\n\t};\n\n\tthis.getId = () => {\n\t\treturn id;\n\t};\n\n\tthis.getName = () => {\n\t\treturn name;\n\t};\n\n\tthis.getActions = () => {\n\t\treturn actions;\n\t};\n}\n\nexport function addServer(srv){\n\tif (typeof srv !== 'object'){\n\t\tthrow TypeError('Argument must be an object like this \\r\\n \"{id: 1, name: \\'Test\\'}\"');\n\t}\n\tconst server = new Server(srv);\n\tservers.push(server);\n\treturn server;\n}\n\nexport function getAll(){\n\treturn servers;\n}\n\n","import { addServer, getAll } from  './servers';\n\nconst isProduction = process.env.NODE_ENV === 'production';\n\nconst wtBaseUrl = 'http://79.111.15.126';\nconst wtRouterId = '6385385939497347608';\nconst wtCustomBaseUrl = isProduction ? '/custom_web_template.html' : wtBaseUrl + '/custom_web_template.html';\n\naddServer({ id: '6668987061819174354', name: 'events' })\n.addActions(\n\t[\n\t\t'Data',\n\t\t'DataForCreate',\n\t\t'EventData',\n\t\t'AddComment',\n\t\t'RemoveComment',\n\t\t'NewEventStatus',\n\t\t'NewParticipiant',\n\t\t'ParticipiantStatus',\n\t\t'NewParticipiant',\n\t\t'Like',\n\t\t'SaveEvent',\n\t\t'Refuse',\n\t\t'ResolveEvent',\n\t\t'RejectEvent',\n\t\t'CompleteEvent'\n\t]\n);\n\nconst url = {\n\tgetServerId(serverName, actionName) {\n\t\tconst _servers = getAll().filter(s => {\n\t\t\tconst actions = s.getActions().filter(action => {\n\t\t\t\treturn action === actionName;\n\t\t\t});\n\t\t\t\n\t\t\treturn (s.getName() === serverName && actions.length > 0);\n\t\t}).map(s => s.getId());\n\t\treturn _servers.length > 0 ? _servers[0] : '';\n\t},\n\n\tcreatePath(inputObj){\n\t\tif (!('server_name' in inputObj)) return '/';\n\t\tif (!('action_name' in inputObj)) inputObj.action_name = '';\n\t\tconst serverId = this.getServerId(inputObj.server_name, inputObj.action_name);\n\t\tconst basePath = wtCustomBaseUrl.concat('?object_id=').concat(wtRouterId).concat('&server_id='.concat(serverId));\n\n\t\treturn basePath.concat(Object.keys(inputObj).map(k => {\n\t\t\treturn '&'.concat(k).concat('=').concat(inputObj[k]);\n\t\t}).join(''));\n\t}\n};\nexport { url };\n","import React, { Component } from 'react';\nimport { Form, Label, Icon, Dropdown, Input, Button, TextArea, Message, Dimmer,  Loader } from 'semantic-ui-react';\nimport DatePicker from 'react-datepicker';\nimport { setDefaultLocale } from 'react-datepicker';\nimport ru from 'date-fns/locale/ru';\nimport { bindActionCreators } from 'redux';\nimport * as actions from './eventActions';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport moment from 'moment';\n\nimport './event.css';\nimport 'react-datepicker/dist/react-datepicker.css';\n\nsetDefaultLocale('ru');\n\nclass Event extends Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisShowWarning: false,\n\t\t\tfileName: props.img_name || ''\n\t\t}\n\n\t\tthis.formRef = React.createRef();\n\n\t\tthis.handleSave = this.handleSave.bind(this);\n\t\tthis.onChangeRawStartDate = this.onChangeRawStartDate.bind(this);\n\t\tthis.onChangeRawFinishDate = this.onChangeRawFinishDate.bind(this);\n\t\tthis.handleChangeFile = this.handleChangeFile.bind(this);\n\t\tthis.dateFormat = 'dd.MM.yyyy, HH:mm';\n\t}\n\n\t_isFormFilled(){\n\t\tconst {\n\t\t\ttitle,\n\t\t\tlong_desc,\n\t\t\tshort_desc,\n\t\t\taddress,\n\t\t\tcity_id,\n\t\t\tsubject_id,\n\t\t\tmax_person_count,\n\t\t\tcost,\n\t\t\tstart_date,\n\t\t\tfinish_date\n\t\t} = this.props;\n\t\t//const { fileName } = this.state;\n\t\treturn (\n\t\t\ttitle.trim() !== '' &&\n\t\t\tlong_desc.trim() !== '' &&\n\t\t\tshort_desc.trim() !== '' &&\n\t\t\taddress.trim() !== '' &&\n\t\t\tcity_id.trim() !== '' &&\n\t\t\tmax_person_count !== '' &&\n\t\t\tcost !== '' &&\n\t\t\tstart_date !== null &&\n\t\t\tfinish_date !== null\n\t\t);\n\t}\n\n\tcomponentDidMount(){\n\t\tconst { match } = this.props;\n\t\tthis.props.getData(match.params.permalink);\n\t}\n\n\thandleChangeFile(e) {\n\t\tconst path = e.target.value;\n\t\tconst lastIndex = path.lastIndexOf('\\\\');\n\t\tconst fname = lastIndex === -1 ? path : path.substring(lastIndex + 1, path.length);\n\t\t/*this.setState({\n\t\t\tfileName: fname\n\t\t});*/\n\t\tthis.props.onChangeFileName(fname);\n\t\t//this.props.onResetPrevFile();\n\t}\n\n\thandleSave(){\n\t\tif (this._isFormFilled()){\n\t\t\tthis.props.onSaveEvent(document.getElementById('event-new_form'));\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tisShowWarning: true\n\t\t\t});\n\t\t}\n\t}\n\n\tonChangeRawStartDate(e){\n\t\tif (moment(e.target.value, this.dateFormat).isValid()){\n\t\t\tthis.props.onChangeStartDate(e.target.value);\n\t\t}\n\t}\n\n\tonChangeRawFinishDate(e){\n\t\tif (moment(e.target.value, this.dateFormat).isValid()){\n\t\t\tthis.props.onChangeFinishDate(e.target.value);\n\t\t}\n\t}\n\n\n\trender(){\n\t\tconst {\n\t\t\tui,\n\t\t\thistory,\n\t\t\tonChangeTitle,\n\t\t\tonChangeDescription,\n\t\t\tonChangeShortDescription,\n\t\t\tonChangeStartDate,\n\t\t\tonChangeFinishDate,\n\t\t\tonChangeCity,\n\t\t\tonChangeAddress,\n\t\t\tonChangeSubject,\n\t\t\tonChangeMaxPersons,\n\t\t\tonChangeCost,\n\t\t\tonSaveEvent,\n\t\t\tid,\n\t\t\ttitle,\n\t\t\tlong_desc,\n\t\t\tshort_desc,\n\t\t\taddress,\n\t\t\tcity_id,\n\t\t\tsubject_id,\n\t\t\tmax_person_count,\n\t\t\tcost,\n\t\t\tstart_date,\n\t\t\tfinish_date,\n\t\t\tcities,\n\t\t\tsubjects,\n\t\t\timg_name,\n\t\t\tprevFileId\n\t\t} = this.props;\n\n\t\tconst { isShowWarning } = this.state;\n\n\t\tif (ui.isLoading){\n\t\t\treturn (\n\t\t\t\t<Dimmer active inverted>\n\t\t\t\t\t<Loader inverted>Loading</Loader>\n\t\t\t\t</Dimmer>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className='event-new'>\n\t\t\t\t<Button\n\t\t\t\t\tclassName='event-new__back'\n\t\t\t\t\tsize='tiny'\n\t\t\t\t\tprimary\n\t\t\t\t\ticon\n\t\t\t\t\tlabelPosition='left'\n\t\t\t\t\tonClick={() => history.goBack()}\n\t\t\t\t>\n\t\t\t\t\tНазад\n\t\t\t\t\t<Icon name='arrow left' />\n\t\t\t\t</Button>\n\t\t\t\t<Message\n\t\t\t\t\tattached\n\t\t\t\t\theader='Создание/Редактирование мероприятия'\n\t\t\t\t\tcontent='Заполните форму по вашим критериям'\n\t\t\t\t/>\n\t\t\t\t<Form id='event-new_form' className='attached fluid segment' encType='multipart/form-data'>\n\t\t\t\t\t<Form.Field>\n\t\t\t\t\t\t<input type='text' className='event-new__form-field' name='id' value={id} readOnly />\n\t\t\t\t\t</Form.Field>\n\t\t\t\t\t<Form.Field required>\n\t\t\t\t\t\t<Label>Название *</Label>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tname='title'\n\t\t\t\t\t\t\tplaceholder='Введите название мероприятия'\n\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\tonChange={onChangeTitle}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Field>\n\t\t\t\t\t<Form.Field required>\n\t\t\t\t\t\t<Label>Полное описание *</Label>\n\t\t\t\t\t\t <TextArea\n\t\t\t\t\t\t \tname='long_desc'\n\t\t\t\t\t\t \tplaceholder='Опишите подробнее мероприятие'\n\t\t\t\t\t\t \tvalue={long_desc}\n\t\t\t\t\t\t \tstyle={{ minHeight: 100 }}\n\t\t\t\t\t\t \tonChange={onChangeDescription}\n\t\t\t\t\t\t />\n\t\t\t\t\t</Form.Field>\n\t\t\t\t\t<Form.Field>\n\t\t\t\t\t\t<Label>Краткое описание *</Label>\n\t\t\t\t\t\t <TextArea\n\t\t\t\t\t\t \tname='short_desc'\n\t\t\t\t\t\t \tplaceholder='Опишите коротко мероприятие'\n\t\t\t\t\t\t \tvalue={short_desc}\n\t\t\t\t\t\t \tstyle={{ minHeight: 100 }}\n\t\t\t\t\t\t \tonChange={onChangeShortDescription}\n\t\t\t\t\t\t />\n\t\t\t\t\t</Form.Field>\n\t\t\t\t\t<Form.Group inline>\n\t\t\t\t\t\t<Form.Field>\n\t\t\t\t\t\t\t\t<label className='event-new__calendar-label'> C *</label>\n\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\tclassName='event-new__calendar-icon'\n\t\t\t\t\t\t\t\t\tname='calendar'\n\t\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\t\tname='start_date'\n\t\t\t\t\t\t\t\t\tlocale={ru}\n\t\t\t\t\t\t\t\t\tselected={start_date}\n\t\t\t\t\t\t\t\t\tshowTimeSelect\n\t\t\t\t\t\t\t\t\ttimeIntervals={10}\n\t\t\t    \t\t\t\t\ttimeFormat='HH:mm'\n\t\t\t    \t\t\t\t\tdateFormat={this.dateFormat}\n\t\t\t    \t\t\t\t\ttimeCaption='время'\n\t\t\t    \t\t\t\t\tplaceholderText='Дата начала'\n\t\t\t    \t\t\t\t\tonChange={onChangeStartDate}\n\t\t\t    \t\t\t\t\tonChangeRaw={this.onChangeRawStartDate}\n\t\t\t    \t\t\t\t\tdisabledKeyboardNavigation\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t\t<Form.Field>\n\t\t\t\t\t\t\t\t<label className='event-new__calendar-label'> По *</label>\n\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\tclassName='event-new__calendar-icon'\n\t\t\t\t\t\t\t\t\tname='calendar'\n\t\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\t\tname='finish_date'\n\t\t\t\t\t\t\t\t\tlocale={ru}\n\t\t\t\t\t\t\t\t\tselected={finish_date}\n\t\t\t\t\t\t\t\t\tshowTimeSelect\n\t\t\t\t\t\t\t\t\ttimeIntervals={10}\n\t\t\t    \t\t\t\t\ttimeFormat='HH:mm'\n\t\t\t    \t\t\t\t\tdateFormat={this.dateFormat}\n\t\t\t    \t\t\t\t\ttimeCaption='время'\n\t\t\t    \t\t\t\t\tplaceholderText='Дата окончания'\n\t\t\t    \t\t\t\t\tonChange={onChangeFinishDate}\n\t\t\t    \t\t\t\t\tonChangeRaw={this.onChangeRawFinishDate}\n\t\t\t    \t\t\t\t\tdisabledKeyboardNavigation\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group widths='equal'>\n\t\t\t\t\t\t<Form.Field required>\n\t\t\t\t\t\t\t<Label>Город *</Label>\n\t\t\t\t\t\t\t<input readOnly className='event-new__form-field' type='text' name='city_id' value={city_id} />\n\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\tplaceholder='Выберите город'\n\t\t\t\t\t\t\t\tupward\n\t\t\t\t\t\t\t\tsearch\n\t\t\t\t\t\t\t\tselection\n\t\t\t\t\t\t\t\toptions={cities}\n\t\t\t\t\t\t\t\tonChange={onChangeCity}\n\t\t\t\t\t\t\t\tvalue={city_id}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t\t<Form.Field required>\n\t\t\t\t\t\t\t<Label>Адрес *</Label>\n\t\t\t\t\t\t\t<Input type='text' name='address' placeholder='Введите адрес' value={address} onChange={onChangeAddress}/>\n\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Field>\n\t\t\t\t\t\t<Label>Тематика проведения *</Label>\n\t\t\t\t\t\t<input readOnly className='event-new__form-field' type='text' name='subject_id' value={subject_id} />\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tplaceholder='Выберите тематику'\n\t\t\t\t\t\t\tupward\n\t\t\t\t\t\t\tfluid\n\t\t\t\t\t\t\tselection\n\t\t\t\t\t\t\toptions={subjects}\n\t\t\t\t\t\t\tonChange={onChangeSubject}\n\t\t\t\t\t\t\tvalue={subject_id}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Field>\n\t\t\t\t\t<Form.Group widths='equal'>\n\t\t\t\t\t\t<Form.Field>\n\t\t\t\t\t\t\t<Label>Кол-во участников (0 - неограниченно) *</Label>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tname='max_person_count'\n\t\t\t\t\t\t\t\tplaceholder='Введите кол-во участников'\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tonChange={onChangeMaxPersons}\n\t\t\t\t\t\t\t\tvalue={max_person_count}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t\t<Form.Field>\n\t\t\t\t\t\t\t<Label>Стоимость (0 - бесплатно) *</Label>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tname='cost'\n\t\t\t\t\t\t\t\taction={{ icon: 'ruble sign' }}\n\t\t\t\t\t\t\t\tlabelPosition='right'\n\t\t\t\t\t\t\t\tplaceholder='Введите стоимость'\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tonChange={onChangeCost}\n\t\t\t\t\t\t\t\tvalue={cost}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Field>\n\t\t\t\t\t\t<div className='event-new__file_upload'>\n\t\t\t\t\t\t\t<Button size='tiny'>Выберите изображение</Button>\n\t\t\t\t\t\t\t<div className='event-new__file_upload-name'>{img_name || 'Файл не выбран'}</div>\n\t\t\t\t\t\t\t<input readOnly className='event-new__form-field' type='text' name='prev_file_id' value={prevFileId} />\n\t\t\t\t\t\t\t<input type='file' name='upload_file' accept='image/*' onChange={this.handleChangeFile}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Form.Field>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tprimary\n\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\tonClick={this.handleSave}\n\t\t\t\t\t>Сохранить</Button>\n\t\t\t\t</Form>\n\t\t\t\t\n\t\t\t\t<Message attached='bottom' warning>\n\t\t\t\t\t<Icon name='help' />\n\t\t\t\t\tПоля помеченные &nbsp;*&nbsp; обязательные для заполнения\n\t\t\t\t\t{isShowWarning && <Message error>\n\t\t\t\t\t<Icon name='exclamation' />\n\t\t\t\t\tЗаполнены не все поля!\n\t\t\t\t</Message>}\n\t\t\t\t</Message>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state, props) => {\n\treturn state.event;\n};\n\nconst mapDispatchProps = (dispatch, ownProps) => {\n\treturn {\n\t\t...bindActionCreators(actions, dispatch),\n\t\tonSaveEvent: (formRef) => dispatch(actions.saveEvent(formRef, ownProps.history))\n\t}\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchProps)(Event));","export { default } from './Event';","if (process.env.NODE_ENV === 'production') {\n\tmodule.exports = require('./configureStore.prod');\n} else {\n\tmodule.exports = require('./configureStore.dev');\n}","import { url } from '../../../config';\nimport createRemoteActions from '../../utils/createRemoteActions';\nimport { omit } from 'lodash';\nrequire('formdata-polyfill');\n\nexport const constants = {\n\t'NEW_EVENT_CHANGE_TITLE': 'NEW_EVENT_CHANGE_TITLE',\n\t'NEW_EVENT_CHANGE_DESCRIPTION': 'NEW_EVENT_CHANGE_DESCRIPTION',\n\t'NEW_EVENT_CHANGE_SHORT_DESCRIPTION': 'NEW_EVENT_CHANGE_SHORT_DESCRIPTION',\n\t'NEW_EVENT_CHANGE_START_DATE': 'NEW_EVENT_CHANGE_START_DATE',\n\t'NEW_EVENT_CHANGE_FINISH_DATE': 'NEW_EVENT_CHANGE_FINISH_DATE',\n\t'NEW_EVENT_CHANGE_CITY': 'NEW_EVENT_CHANGE_CITY',\n\t'NEW_EVENT_CHANGE_SUBJECT': 'NEW_EVENT_CHANGE_SUBJECT',\n\t'NEW_EVENT_CHANGE_MAX_PERSONS': 'NEW_EVENT_CHANGE_MAX_PERSONS',\n\t'NEW_EVENT_CHANGE_COST': 'NEW_EVENT_CHANGE_COST',\n\t'NEW_EVENT_CHANGE_ADDRESS': 'NEW_EVENT_CHANGE_ADDRESS',\n\t'NEW_EVENT_LOADING': 'NEW_EVENT_LOADING',\n\t'NEW_EVENT_CHANGE_FILE_NAME': 'NEW_EVENT_CHANGE_FILE_NAME',\n\t...createRemoteActions('GET_EVENT_CREATE')\n}\n\nfunction loading(isLoading){\n\treturn {\n\t\ttype: constants.NEW_EVENT_LOADING,\n\t\tpayload: isLoading\n\t}\n}\n\nexport function onChangeFileName(fname){\n\treturn {\n\t\ttype: constants.NEW_EVENT_CHANGE_FILE_NAME,\n\t\tpayload: fname\n\t}\n}\n\nexport function onChangeTitle(event, data){\n\treturn {\n\t\ttype: constants.NEW_EVENT_CHANGE_TITLE,\n\t\tpayload: data.value\n\t}\n}\n\nexport function onChangeDescription(event, data){\n\treturn {\n\t\ttype: constants.NEW_EVENT_CHANGE_DESCRIPTION,\n\t\tpayload: data.value\n\t}\n}\n\nexport function onChangeShortDescription(event, data){\n\treturn {\n\t\ttype: constants.NEW_EVENT_CHANGE_SHORT_DESCRIPTION,\n\t\tpayload: data.value\n\t}\n}\n\nexport function onChangeStartDate(date){\n\treturn {\n\t\ttype: constants.NEW_EVENT_CHANGE_START_DATE,\n\t\tpayload: date\n\t}\n}\n\nexport function onChangeFinishDate(date){\n\treturn {\n\t\ttype: constants.NEW_EVENT_CHANGE_FINISH_DATE,\n\t\tpayload: date\n\t}\n}\n\nexport function onChangeCity(event, data){\n\treturn {\n\t\ttype: constants.NEW_EVENT_CHANGE_CITY,\n\t\tpayload: data.value\n\t}\n}\n\nexport function onChangeAddress(event, data){\n\treturn {\n\t\ttype: constants.NEW_EVENT_CHANGE_ADDRESS,\n\t\tpayload: data.value\n\t}\n}\n\nexport function onChangeSubject(event, data){\n\treturn {\n\t\ttype: constants.NEW_EVENT_CHANGE_SUBJECT,\n\t\tpayload: data.value\n\t}\n}\n\nexport function onChangeMaxPersons(event, data){\n\tlet payload = parseInt(data.value);\n\n\tif (isNaN(payload) || data.value < 0 || data.value === '') {\n\t\tpayload = '';\n\t}\n\n\treturn {\n\t\ttype: constants.NEW_EVENT_CHANGE_MAX_PERSONS,\n\t\tpayload\n\t}\n}\n\nexport function onChangeCost(event, data){\n\tlet payload = parseInt(data.value);\n\n\tif (isNaN(payload) || data.value < 0 || data.value === '') {\n\t\tpayload = '';\n\t}\n\t\n\treturn {\n\t\ttype: constants.NEW_EVENT_CHANGE_COST,\n\t\tpayload\n\t}\n}\n\nexport function saveEvent(form, history){\n\treturn (dispatch, getState) => {\n\t\t//const { event } = getState();\n\n\t\t//const data = omit(event, [ 'cities', 'subjects' ]);\n\n\t\tconst path = url.createPath({\n\t\t\tserver_name: 'events',\n\t\t\taction_name: 'SaveEvent'\n\t\t});\n\n\t\tconst data = new FormData(form);\n\n\t\tdispatch(loading(true));\n\t\tfetch(path, {\n\t\t\tmethod: 'POST',\n\t\t\t/*headers: {  \n\t\t\t\t'Content-type': 'application/x-www-form-urlencoded; charset=UTF-8'  \n\t\t\t},*/\n\t\t\tbody: data\n\t\t})\n\t\t.then(resp => {\n\t\t\treturn resp.json();\n\t\t})\n\t\t.then(data => {\n\t\t\tif (data.error){\n\t\t\t\t//dispatch(error(data.error));\n\t\t\t\tconsole.log(data.error);\n\t\t\t} else {\n\t\t\t\tdispatch(loading(false));\n\t\t\t\thistory.push(`/event/details/${data.id}`);\n\t\t\t}\n\t\t})\n\t\t.catch(e => {\n\t\t\t//dispatch(error(e.message));\n\t\t\tconsole.log(e.message);\n\t\t});\n\t}\n}\n\nexport function getData(eventId){\n\treturn dispatch => {\n\t\tif (eventId){\n\t\t\tconst path = url.createPath({\n\t\t\t\tserver_name: 'events',\n\t\t\t\taction_name: 'EventData',\n\t\t\t\tid: eventId\n\t\t\t});\n\n\t\t\tdispatch(loading(true));\n\t\t\tfetch(path)\n\t\t\t.then(resp => {\n\t\t\t\treturn resp.json();\n\t\t\t})\n\t\t\t.then(data => {\n\t\t\t\tif (data.error){\n\t\t\t\t\t//dispatch(error(data.error));\n\t\t\t\t\tconsole.log(data.error);\n\t\t\t\t} else {\n\t\t\t\t\tdispatch(loading(false));\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: constants.GET_EVENT_CREATE_SUCCESS,\n\t\t\t\t\t\tpayload: {\n\t\t\t\t\t\t\tid: eventId,\n\t\t\t\t\t\t\t...data\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(e => {\n\t\t\t\t//dispatch(error(e.message));\n\t\t\t\tconsole.log(e.message);\n\t\t\t});\n\t\t} else {\n\t\t\tconst path = url.createPath({\n\t\t\t\tserver_name: 'events',\n\t\t\t\taction_name: 'DataForCreate'\n\t\t\t});\n\n\t\t\tdispatch(loading(true));\n\t\t\tfetch(path, { method: 'POST' })\n\t\t\t.then(resp => {\n\t\t\t\treturn resp.json();\n\t\t\t})\n\t\t\t.then(data => {\n\t\t\t\tif (data.error){\n\t\t\t\t\t//dispatch(error(data.error));\n\t\t\t\t\tconsole.log(data.error);\n\t\t\t\t} else {\n\t\t\t\t\tdispatch(loading(false));\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: constants.GET_EVENT_CREATE_SUCCESS,\n\t\t\t\t\t\tpayload: data\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(e => {\n\t\t\t\t//dispatch(error(e.message));\n\t\t\t\tconsole.log(e.message);\n\t\t\t});\n\t\t}\n\n\t\t/*dispatch(loading(true));\n\t\tsetTimeout(() => {\n\t\t\tdispatch(loading(false));\n\t\t\tdispatch({\n\t\t\t\ttype: constants.GET_EVENT_CREATE_SUCCESS,\n\t\t\t\tpayload: {\n\t\t\t\t  \"id\": \"6675349716799068736\",\n\t\t\t\t  \"cur_user_id\": \"6148914691236517121\",\n\t\t\t\t  \"user_role\": \"admin\",\n\t\t\t\t  \"title\": \"Мой тест\",\n\t\t\t\t  \"status_id\": \"plan\",\n\t\t\t\t  \"status_name\": \"Активные\",\n\t\t\t\t  \"long_desc\": \"Полное\",\n\t\t\t\t  \"img\": \"/download_file.html?file_id=6674662346535409549\",\n\t\t\t\t  \"img_name\": \"test.png\",\n\t\t\t\t  \"max_person_count\": \"7\",\n\t\t\t\t  \"start_date\": \"Tue, 02 Apr 2019 17:25:36 +0300\",\n\t\t\t\t  \"finish_date\": \"Tue, 02 Apr 2019 18:50:00 +0300\",\n\t\t\t\t  \"cost\": \"8000\",\n\t\t\t\t  \"city_id\": \"5667697629116916647\",\n\t\t\t\t  \"city\": \"Алматы\",\n\t\t\t\t  \"subject_id\": \"Здоровье\",\n\t\t\t\t  \"address\": \"\",\n\t\t\t\t  \"phone_number\": \"84993674214\",\n\t\t\t\t  \"email\": \"user_006@gmail.com\",\n\t\t\t\t  \"event_admin_id\": \"6671539145020354632\",\n\t\t\t\t  \"event_admin_fullname\": \"Бахирев Рустам Маратович\",\n\t\t\t\t  \"event_admin_position\": \"Главный бухгалтер\",\n\t\t\t\t  \"event_admin_avatar\": \"/download_file.html?file_id=6671539891956233514\",\n\t\t\t\t  \"like_count\": \"0\",\n\t\t\t\t  \"collaborators\": [],\n\t\t\t\t  \"comments\": [],\n\t\t\t\t  \"cities\": [\n\t\t\t\t    {\n\t\t\t\t      \"id\": \"5667697629116916643\",\n\t\t\t\t      \"name\": \"Абакан\"\n\t\t\t\t    },\n\t\t\t\t    {\n\t\t\t\t      \"id\": \"5667697629116916644\",\n\t\t\t\t      \"name\": \"Аксай\"\n\t\t\t\t    },\n\t\t\t\t    {\n\t\t\t\t      \"id\": \"5667697629116916645\",\n\t\t\t\t      \"name\": \"Актау\"\n\t\t\t\t    },\n\t\t\t\t    {\n\t\t\t\t      \"id\": \"5667697629116916646\",\n\t\t\t\t      \"name\": \"Актобе\"\n\t\t\t\t    },\n\t\t\t\t    {\n\t\t\t\t      \"id\": \"5667697629116916647\",\n\t\t\t\t      \"name\": \"Алматы\"\n\t\t\t\t    },\n\t\t\t\t    {\n\t\t\t\t      \"id\": \"5667697629116916648\",\n\t\t\t\t      \"name\": \"Архангельск\"\n\t\t\t\t    },\n\t\t\t\t    {\n\t\t\t\t      \"id\": \"5667697629116916649\",\n\t\t\t\t      \"name\": \"Астана\"\n\t\t\t\t    },\n\t\t\t\t    {\n\t\t\t\t      \"id\": \"5667697629116916650\",\n\t\t\t\t      \"name\": \"Астрахань\"\n\t\t\t\t    },\n\t\t\t\t    {\n\t\t\t\t      \"id\": \"5667697629116916651\",\n\t\t\t\t      \"name\": \"Атырау\"\n\t\t\t\t    },\n\t\t\t\t    {\n\t\t\t\t      \"id\": \"5667697629116916652\",\n\t\t\t\t      \"name\": \"Барнаул\"\n\t\t\t\t    },\n\t\t\t\t    {\n\t\t\t\t      \"id\": \"5667697629116916653\",\n\t\t\t\t      \"name\": \"Белгород\"\n\t\t\t\t    },\n\t\t\t\t    {\n\t\t\t\t      \"id\": \"5667697629116916654\",\n\t\t\t\t      \"name\": \"Бобруйск\"\n\t\t\t\t    },\n\t\t\t\t    {\n\t\t\t\t      \"id\": \"5667697629116916655\",\n\t\t\t\t      \"name\": \"Брест\"\n\t\t\t\t    },\n\t\t\t\t    {\n\t\t\t\t      \"id\": \"5667697629116916656\",\n\t\t\t\t      \"name\": \"Брянск\"\n\t\t\t\t    },\n\t\t\t\t    {\n\t\t\t\t      \"id\": \"5667697629116916657\",\n\t\t\t\t      \"name\": \"Винница\"\n\t\t\t\t    }\n\t\t\t\t  ],\n\t\t\t\t  \"subjects\": [\n\t\t\t\t    \"Образование\",\n\t\t\t\t    \"Спорт\",\n\t\t\t\t    \"Здоровье\",\n\t\t\t\t    \"Путешествия, туризм\",\n\t\t\t\t    \"Культура\",\n\t\t\t\t    \"Развлечение\"\n\t\t\t\t  ]\n\t\t\t\t}\n\t\t\t});\n\t\t}, 1000);*/\n\t};\n}","import { url } from '../../../config';\nimport createRemoteActions from '../../utils/createRemoteActions';\nimport initialData from '../../mock/static.json';\n\nexport const constants = {\n\t...createRemoteActions('GET_INITIAL_DATA'),\n\t'INITIAL_LOADING': 'INITIAL_LOADING'\n}\n\nfunction loading(isLoading){\n\treturn {\n\t\ttype: constants.INITIAL_LOADING,\n\t\tpayload: isLoading\n\t}\n}\n\nexport function getInitialData(){\n\treturn (dispatch, getState) => {\n\n\t\t/*dispatch(loading(true));\n\t\tsetTimeout((search, status) => {\n\t\t\tdispatch({\n\t\t\t\ttype: constants.GET_INITIAL_DATA_SUCCESS,\n\t\t\t\tpayload: initialData\n\t\t\t});\n\t\t\tdispatch(loading(false));\n\t\t}, 1000);*/\n\n\t\t\n\t\tdispatch(loading(true));\n\t\tconst { home } = getState();\n\n\t\tconst path = url.createPath({\n\t\t\tserver_name: 'events',\n\t\t\taction_name: 'Data',\n\t\t\tstatus: home.ui.filters.status,\n\t\t\tsearch: home.ui.filters.search,\n\t\t\tcity: home.ui.filters.city,\n\t\t\tsubject: home.ui.filters.subject\n\t\t});\n\n\t\tfetch(path)\n\t\t.then(resp => {\n\t\t\treturn resp.json();\n\t\t})\n\t\t.then(data => {\n\t\t\tif (data.error){\n\t\t\t\t//dispatch(error(data.error));\n\t\t\t\tconsole.log(data.error);\n\t\t\t} else {\n\t\t\t\tdispatch(loading(false));\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: constants.GET_INITIAL_DATA_SUCCESS,\n\t\t\t\t\tpayload: data\n\t\t\t\t});\n\t\t\t}\n\t\t}).catch(e => {\n\t\t\t//dispatch(error(e.message));\n\t\t\tconsole.log(e.message);\n\t\t});\n\t};\n}\n\n"],"sourceRoot":""}